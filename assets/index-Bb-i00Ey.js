(function(){const S=document.createElement("link").relList;if(S&&S.supports&&S.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))t(_);new MutationObserver(_=>{for(const y of _)if(y.type==="childList")for(const l of y.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function A(_){const y={};return _.integrity&&(y.integrity=_.integrity),_.referrerPolicy&&(y.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?y.credentials="include":_.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function t(_){if(_.ep)return;_.ep=!0;const y=A(_);fetch(_.href,y)}})();var ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var vc={exports:{}},Hi={},bc={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function lv(){if(Wh)return Ut;Wh=1;var x=Symbol.for("react.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function n(Z){return Z===null||typeof Z!="object"?null:(Z=m&&Z[m]||Z["@@iterator"],typeof Z=="function"?Z:null)}var r={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,i={};function u(Z,se,P){this.props=Z,this.context=se,this.refs=i,this.updater=P||r}u.prototype.isReactComponent={},u.prototype.setState=function(Z,se){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,se,"setState")},u.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function d(){}d.prototype=u.prototype;function h(Z,se,P){this.props=Z,this.context=se,this.refs=i,this.updater=P||r}var b=h.prototype=new d;b.constructor=h,a(b,u.prototype),b.isPureReactComponent=!0;var v=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(Z,se,P){var B,W={},K=null,ne=null;if(se!=null)for(B in se.ref!==void 0&&(ne=se.ref),se.key!==void 0&&(K=""+se.key),se)w.call(se,B)&&!k.hasOwnProperty(B)&&(W[B]=se[B]);var oe=arguments.length-2;if(oe===1)W.children=P;else if(1<oe){for(var fe=Array(oe),ge=0;ge<oe;ge++)fe[ge]=arguments[ge+2];W.children=fe}if(Z&&Z.defaultProps)for(B in oe=Z.defaultProps,oe)W[B]===void 0&&(W[B]=oe[B]);return{$$typeof:x,type:Z,key:K,ref:ne,props:W,_owner:E.current}}function L(Z,se){return{$$typeof:x,type:Z.type,key:se,ref:Z.ref,props:Z.props,_owner:Z._owner}}function R(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===x}function M(Z){var se={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(P){return se[P]})}var N=/\/+/g;function D(Z,se){return typeof Z=="object"&&Z!==null&&Z.key!=null?M(""+Z.key):se.toString(36)}function G(Z,se,P,B,W){var K=typeof Z;(K==="undefined"||K==="boolean")&&(Z=null);var ne=!1;if(Z===null)ne=!0;else switch(K){case"string":case"number":ne=!0;break;case"object":switch(Z.$$typeof){case x:case S:ne=!0}}if(ne)return ne=Z,W=W(ne),Z=B===""?"."+D(ne,0):B,v(W)?(P="",Z!=null&&(P=Z.replace(N,"$&/")+"/"),G(W,se,P,"",function(ge){return ge})):W!=null&&(R(W)&&(W=L(W,P+(!W.key||ne&&ne.key===W.key?"":(""+W.key).replace(N,"$&/")+"/")+Z)),se.push(W)),1;if(ne=0,B=B===""?".":B+":",v(Z))for(var oe=0;oe<Z.length;oe++){K=Z[oe];var fe=B+D(K,oe);ne+=G(K,se,P,fe,W)}else if(fe=n(Z),typeof fe=="function")for(Z=fe.call(Z),oe=0;!(K=Z.next()).done;)K=K.value,fe=B+D(K,oe++),ne+=G(K,se,P,fe,W);else if(K==="object")throw se=String(Z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return ne}function V(Z,se,P){if(Z==null)return Z;var B=[],W=0;return G(Z,B,"","",function(K){return se.call(P,K,W++)}),B}function z(Z){if(Z._status===-1){var se=Z._result;se=se(),se.then(function(P){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=P)},function(P){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=P)}),Z._status===-1&&(Z._status=0,Z._result=se)}if(Z._status===1)return Z._result.default;throw Z._result}var $={current:null},q={transition:null},Y={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:q,ReactCurrentOwner:E};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:V,forEach:function(Z,se,P){V(Z,function(){se.apply(this,arguments)},P)},count:function(Z){var se=0;return V(Z,function(){se++}),se},toArray:function(Z){return V(Z,function(se){return se})||[]},only:function(Z){if(!R(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Ut.Component=u,Ut.Fragment=A,Ut.Profiler=_,Ut.PureComponent=h,Ut.StrictMode=t,Ut.Suspense=s,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ut.act=ee,Ut.cloneElement=function(Z,se,P){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var B=a({},Z.props),W=Z.key,K=Z.ref,ne=Z._owner;if(se!=null){if(se.ref!==void 0&&(K=se.ref,ne=E.current),se.key!==void 0&&(W=""+se.key),Z.type&&Z.type.defaultProps)var oe=Z.type.defaultProps;for(fe in se)w.call(se,fe)&&!k.hasOwnProperty(fe)&&(B[fe]=se[fe]===void 0&&oe!==void 0?oe[fe]:se[fe])}var fe=arguments.length-2;if(fe===1)B.children=P;else if(1<fe){oe=Array(fe);for(var ge=0;ge<fe;ge++)oe[ge]=arguments[ge+2];B.children=oe}return{$$typeof:x,type:Z.type,key:W,ref:K,props:B,_owner:ne}},Ut.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:y,_context:Z},Z.Consumer=Z},Ut.createElement=T,Ut.createFactory=function(Z){var se=T.bind(null,Z);return se.type=Z,se},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(Z){return{$$typeof:f,render:Z}},Ut.isValidElement=R,Ut.lazy=function(Z){return{$$typeof:p,_payload:{_status:-1,_result:Z},_init:z}},Ut.memo=function(Z,se){return{$$typeof:c,type:Z,compare:se===void 0?null:se}},Ut.startTransition=function(Z){var se=q.transition;q.transition={};try{Z()}finally{q.transition=se}},Ut.unstable_act=ee,Ut.useCallback=function(Z,se){return $.current.useCallback(Z,se)},Ut.useContext=function(Z){return $.current.useContext(Z)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(Z){return $.current.useDeferredValue(Z)},Ut.useEffect=function(Z,se){return $.current.useEffect(Z,se)},Ut.useId=function(){return $.current.useId()},Ut.useImperativeHandle=function(Z,se,P){return $.current.useImperativeHandle(Z,se,P)},Ut.useInsertionEffect=function(Z,se){return $.current.useInsertionEffect(Z,se)},Ut.useLayoutEffect=function(Z,se){return $.current.useLayoutEffect(Z,se)},Ut.useMemo=function(Z,se){return $.current.useMemo(Z,se)},Ut.useReducer=function(Z,se,P){return $.current.useReducer(Z,se,P)},Ut.useRef=function(Z){return $.current.useRef(Z)},Ut.useState=function(Z){return $.current.useState(Z)},Ut.useSyncExternalStore=function(Z,se,P){return $.current.useSyncExternalStore(Z,se,P)},Ut.useTransition=function(){return $.current.useTransition()},Ut.version="18.3.1",Ut}var Xh;function id(){return Xh||(Xh=1,bc.exports=lv()),bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function uv(){if(qh)return Hi;qh=1;var x=id(),S=Symbol.for("react.element"),A=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,_=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function l(f,s,c){var p,m={},n=null,r=null;c!==void 0&&(n=""+c),s.key!==void 0&&(n=""+s.key),s.ref!==void 0&&(r=s.ref);for(p in s)t.call(s,p)&&!y.hasOwnProperty(p)&&(m[p]=s[p]);if(f&&f.defaultProps)for(p in s=f.defaultProps,s)m[p]===void 0&&(m[p]=s[p]);return{$$typeof:S,type:f,key:n,ref:r,props:m,_owner:_.current}}return Hi.Fragment=A,Hi.jsx=l,Hi.jsxs=l,Hi}var Yh;function cv(){return Yh||(Yh=1,vc.exports=uv()),vc.exports}var Tt=cv(),Ie=id();const xc=od(Ie);var gl={},wc={exports:{}},cn={},jc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function dv(){return $h||($h=1,function(x){function S(q,Y){var ee=q.length;q.push(Y);e:for(;0<ee;){var Z=ee-1>>>1,se=q[Z];if(0<_(se,Y))q[Z]=Y,q[ee]=se,ee=Z;else break e}}function A(q){return q.length===0?null:q[0]}function t(q){if(q.length===0)return null;var Y=q[0],ee=q.pop();if(ee!==Y){q[0]=ee;e:for(var Z=0,se=q.length,P=se>>>1;Z<P;){var B=2*(Z+1)-1,W=q[B],K=B+1,ne=q[K];if(0>_(W,ee))K<se&&0>_(ne,W)?(q[Z]=ne,q[K]=ee,Z=K):(q[Z]=W,q[B]=ee,Z=B);else if(K<se&&0>_(ne,ee))q[Z]=ne,q[K]=ee,Z=K;else break e}}return Y}function _(q,Y){var ee=q.sortIndex-Y.sortIndex;return ee!==0?ee:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;x.unstable_now=function(){return y.now()}}else{var l=Date,f=l.now();x.unstable_now=function(){return l.now()-f}}var s=[],c=[],p=1,m=null,n=3,r=!1,a=!1,i=!1,u=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var Y=A(c);Y!==null;){if(Y.callback===null)t(c);else if(Y.startTime<=q)t(c),Y.sortIndex=Y.expirationTime,S(s,Y);else break;Y=A(c)}}function v(q){if(i=!1,b(q),!a)if(A(s)!==null)a=!0,z(w);else{var Y=A(c);Y!==null&&$(v,Y.startTime-q)}}function w(q,Y){a=!1,i&&(i=!1,d(T),T=-1),r=!0;var ee=n;try{for(b(Y),m=A(s);m!==null&&(!(m.expirationTime>Y)||q&&!M());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,n=m.priorityLevel;var se=Z(m.expirationTime<=Y);Y=x.unstable_now(),typeof se=="function"?m.callback=se:m===A(s)&&t(s),b(Y)}else t(s);m=A(s)}if(m!==null)var P=!0;else{var B=A(c);B!==null&&$(v,B.startTime-Y),P=!1}return P}finally{m=null,n=ee,r=!1}}var E=!1,k=null,T=-1,L=5,R=-1;function M(){return!(x.unstable_now()-R<L)}function N(){if(k!==null){var q=x.unstable_now();R=q;var Y=!0;try{Y=k(!0,q)}finally{Y?D():(E=!1,k=null)}}else E=!1}var D;if(typeof h=="function")D=function(){h(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=N,D=function(){V.postMessage(null)}}else D=function(){u(N,0)};function z(q){k=q,E||(E=!0,D())}function $(q,Y){T=u(function(){q(x.unstable_now())},Y)}x.unstable_IdlePriority=5,x.unstable_ImmediatePriority=1,x.unstable_LowPriority=4,x.unstable_NormalPriority=3,x.unstable_Profiling=null,x.unstable_UserBlockingPriority=2,x.unstable_cancelCallback=function(q){q.callback=null},x.unstable_continueExecution=function(){a||r||(a=!0,z(w))},x.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},x.unstable_getCurrentPriorityLevel=function(){return n},x.unstable_getFirstCallbackNode=function(){return A(s)},x.unstable_next=function(q){switch(n){case 1:case 2:case 3:var Y=3;break;default:Y=n}var ee=n;n=Y;try{return q()}finally{n=ee}},x.unstable_pauseExecution=function(){},x.unstable_requestPaint=function(){},x.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=n;n=q;try{return Y()}finally{n=ee}},x.unstable_scheduleCallback=function(q,Y,ee){var Z=x.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,q){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ee+se,q={id:p++,callback:Y,priorityLevel:q,startTime:ee,expirationTime:se,sortIndex:-1},ee>Z?(q.sortIndex=ee,S(c,q),A(s)===null&&q===A(c)&&(i?(d(T),T=-1):i=!0,$(v,ee-Z))):(q.sortIndex=se,S(s,q),a||r||(a=!0,z(w))),q},x.unstable_shouldYield=M,x.unstable_wrapCallback=function(q){var Y=n;return function(){var ee=n;n=Y;try{return q.apply(this,arguments)}finally{n=ee}}}}(Sc)),Sc}var Kh;function fv(){return Kh||(Kh=1,jc.exports=dv()),jc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function hv(){if(Zh)return cn;Zh=1;var x=id(),S=fv();function A(o){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+o,C=1;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+o+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t=new Set,_={};function y(o,g){l(o,g),l(o+"Capture",g)}function l(o,g){for(_[o]=g,o=0;o<g.length;o++)t.add(g[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function n(o){return s.call(m,o)?!0:s.call(p,o)?!1:c.test(o)?m[o]=!0:(p[o]=!0,!1)}function r(o,g,C,F){if(C!==null&&C.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return F?!1:C!==null?!C.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function a(o,g,C,F){if(g===null||typeof g>"u"||r(o,g,C,F))return!0;if(F)return!1;if(C!==null)switch(C.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function i(o,g,C,F,X,Q,ue){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=F,this.attributeNamespace=X,this.mustUseProperty=C,this.propertyName=o,this.type=g,this.sanitizeURL=Q,this.removeEmptyString=ue}var u={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){u[o]=new i(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var g=o[0];u[g]=new i(g,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){u[o]=new i(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){u[o]=new i(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){u[o]=new i(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){u[o]=new i(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){u[o]=new i(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){u[o]=new i(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){u[o]=new i(o,5,!1,o.toLowerCase(),null,!1,!1)});var d=/[\-:]([a-z])/g;function h(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var g=o.replace(d,h);u[g]=new i(g,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var g=o.replace(d,h);u[g]=new i(g,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var g=o.replace(d,h);u[g]=new i(g,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){u[o]=new i(o,1,!1,o.toLowerCase(),null,!1,!1)}),u.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){u[o]=new i(o,1,!1,o.toLowerCase(),null,!0,!0)});function b(o,g,C,F){var X=u.hasOwnProperty(g)?u[g]:null;(X!==null?X.type!==0:F||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(a(g,C,X,F)&&(C=null),F||X===null?n(g)&&(C===null?o.removeAttribute(g):o.setAttribute(g,""+C)):X.mustUseProperty?o[X.propertyName]=C===null?X.type===3?!1:"":C:(g=X.attributeName,F=X.attributeNamespace,C===null?o.removeAttribute(g):(X=X.type,C=X===3||X===4&&C===!0?"":""+C,F?o.setAttributeNS(F,g,C):o.setAttribute(g,C))))}var v=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),M=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),q=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Object.assign,Z;function se(o){if(Z===void 0)try{throw Error()}catch(C){var g=C.stack.trim().match(/\n( *(at )?)/);Z=g&&g[1]||""}return`
`+Z+o}var P=!1;function B(o,g){if(!o||P)return"";P=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(We){var F=We}Reflect.construct(o,[],g)}else{try{g.call()}catch(We){F=We}o.call(g.prototype)}else{try{throw Error()}catch(We){F=We}o()}}catch(We){if(We&&F&&typeof We.stack=="string"){for(var X=We.stack.split(`
`),Q=F.stack.split(`
`),ue=X.length-1,je=Q.length-1;1<=ue&&0<=je&&X[ue]!==Q[je];)je--;for(;1<=ue&&0<=je;ue--,je--)if(X[ue]!==Q[je]){if(ue!==1||je!==1)do if(ue--,je--,0>je||X[ue]!==Q[je]){var Ce=`
`+X[ue].replace(" at new "," at ");return o.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",o.displayName)),Ce}while(1<=ue&&0<=je);break}}}finally{P=!1,Error.prepareStackTrace=C}return(o=o?o.displayName||o.name:"")?se(o):""}function W(o){switch(o.tag){case 5:return se(o.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return o=B(o.type,!1),o;case 11:return o=B(o.type.render,!1),o;case 1:return o=B(o.type,!0),o;default:return""}}function K(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case E:return"Portal";case L:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case G:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case R:return(o._context.displayName||"Context")+".Provider";case N:var g=o.render;return o=o.displayName,o||(o=g.displayName||g.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return g=o.displayName||null,g!==null?g:K(o.type)||"Memo";case z:g=o._payload,o=o._init;try{return K(o(g))}catch{}}return null}function ne(o){var g=o.type;switch(o.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=g.render,o=o.displayName||o.name||"",g.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(g);case 8:return g===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function oe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var g=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function ge(o){var g=fe(o)?"checked":"value",C=Object.getOwnPropertyDescriptor(o.constructor.prototype,g),F=""+o[g];if(!o.hasOwnProperty(g)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var X=C.get,Q=C.set;return Object.defineProperty(o,g,{configurable:!0,get:function(){return X.call(this)},set:function(ue){F=""+ue,Q.call(this,ue)}}),Object.defineProperty(o,g,{enumerable:C.enumerable}),{getValue:function(){return F},setValue:function(ue){F=""+ue},stopTracking:function(){o._valueTracker=null,delete o[g]}}}}function de(o){o._valueTracker||(o._valueTracker=ge(o))}function ye(o){if(!o)return!1;var g=o._valueTracker;if(!g)return!0;var C=g.getValue(),F="";return o&&(F=fe(o)?o.checked?"true":"false":o.value),o=F,o!==C?(g.setValue(o),!0):!1}function be(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ae(o,g){var C=g.checked;return ee({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:C??o._wrapperState.initialChecked})}function ve(o,g){var C=g.defaultValue==null?"":g.defaultValue,F=g.checked!=null?g.checked:g.defaultChecked;C=oe(g.value!=null?g.value:C),o._wrapperState={initialChecked:F,initialValue:C,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function _e(o,g){g=g.checked,g!=null&&b(o,"checked",g,!1)}function Me(o,g){_e(o,g);var C=oe(g.value),F=g.type;if(C!=null)F==="number"?(C===0&&o.value===""||o.value!=C)&&(o.value=""+C):o.value!==""+C&&(o.value=""+C);else if(F==="submit"||F==="reset"){o.removeAttribute("value");return}g.hasOwnProperty("value")?Te(o,g.type,C):g.hasOwnProperty("defaultValue")&&Te(o,g.type,oe(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(o.defaultChecked=!!g.defaultChecked)}function Se(o,g,C){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var F=g.type;if(!(F!=="submit"&&F!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+o._wrapperState.initialValue,C||g===o.value||(o.value=g),o.defaultValue=g}C=o.name,C!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,C!==""&&(o.name=C)}function Te(o,g,C){(g!=="number"||be(o.ownerDocument)!==o)&&(C==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+C&&(o.defaultValue=""+C))}var Re=Array.isArray;function Ye(o,g,C,F){if(o=o.options,g){g={};for(var X=0;X<C.length;X++)g["$"+C[X]]=!0;for(C=0;C<o.length;C++)X=g.hasOwnProperty("$"+o[C].value),o[C].selected!==X&&(o[C].selected=X),X&&F&&(o[C].defaultSelected=!0)}else{for(C=""+oe(C),g=null,X=0;X<o.length;X++){if(o[X].value===C){o[X].selected=!0,F&&(o[X].defaultSelected=!0);return}g!==null||o[X].disabled||(g=o[X])}g!==null&&(g.selected=!0)}}function Fe(o,g){if(g.dangerouslySetInnerHTML!=null)throw Error(A(91));return ee({},g,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function pt(o,g){var C=g.value;if(C==null){if(C=g.children,g=g.defaultValue,C!=null){if(g!=null)throw Error(A(92));if(Re(C)){if(1<C.length)throw Error(A(93));C=C[0]}g=C}g==null&&(g=""),C=g}o._wrapperState={initialValue:oe(C)}}function ot(o,g){var C=oe(g.value),F=oe(g.defaultValue);C!=null&&(C=""+C,C!==o.value&&(o.value=C),g.defaultValue==null&&o.defaultValue!==C&&(o.defaultValue=C)),F!=null&&(o.defaultValue=""+F)}function it(o){var g=o.textContent;g===o._wrapperState.initialValue&&g!==""&&g!==null&&(o.value=g)}function ut(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(o,g){return o==null||o==="http://www.w3.org/1999/xhtml"?ut(g):o==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Pe,qe=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,C,F,X){MSApp.execUnsafeLocalFunction(function(){return o(g,C,F,X)})}:o}(function(o,g){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=g;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Pe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;g.firstChild;)o.appendChild(g.firstChild)}});function De(o,g){if(g){var C=o.firstChild;if(C&&C===o.lastChild&&C.nodeType===3){C.nodeValue=g;return}}o.textContent=g}var ie={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(ie).forEach(function(o){ce.forEach(function(g){g=g+o.charAt(0).toUpperCase()+o.substring(1),ie[g]=ie[o]})});function re(o,g,C){return g==null||typeof g=="boolean"||g===""?"":C||typeof g!="number"||g===0||ie.hasOwnProperty(o)&&ie[o]?(""+g).trim():g+"px"}function he(o,g){o=o.style;for(var C in g)if(g.hasOwnProperty(C)){var F=C.indexOf("--")===0,X=re(C,g[C],F);C==="float"&&(C="cssFloat"),F?o.setProperty(C,X):o[C]=X}}var Ee=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Le(o,g){if(g){if(Ee[o]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(A(137,o));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(A(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(A(61))}if(g.style!=null&&typeof g.style!="object")throw Error(A(62))}}function He(o,g){if(o.indexOf("-")===-1)return typeof g.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=null;function nt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var st=null,ct=null,Mt=null;function Ct(o){if(o=Mi(o)){if(typeof st!="function")throw Error(A(280));var g=o.stateNode;g&&(g=Aa(g),st(o.stateNode,o.type,g))}}function yt(o){ct?Mt?Mt.push(o):Mt=[o]:ct=o}function Pt(){if(ct){var o=ct,g=Mt;if(Mt=ct=null,Ct(o),g)for(o=0;o<g.length;o++)Ct(g[o])}}function Et(o,g){return o(g)}function Kt(){}var Tr=!1;function dr(o,g,C){if(Tr)return o(g,C);Tr=!0;try{return Et(o,g,C)}finally{Tr=!1,(ct!==null||Mt!==null)&&(Kt(),Pt())}}function Bt(o,g){var C=o.stateNode;if(C===null)return null;var F=Aa(C);if(F===null)return null;C=F[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(o=o.type,F=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!F;break e;default:o=!1}if(o)return null;if(C&&typeof C!="function")throw Error(A(231,g,typeof C));return C}var Zt=!1;if(f)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Zt=!1}function Or(o,g,C,F,X,Q,ue,je,Ce){var We=Array.prototype.slice.call(arguments,3);try{g.apply(C,We)}catch(tt){this.onError(tt)}}var lr=!1,zt=null,gr=!1,es=null,Ys={onError:function(o){lr=!0,zt=o}};function $s(o,g,C,F,X,Q,ue,je,Ce){lr=!1,zt=null,Or.apply(Ys,arguments)}function Mo(o,g,C,F,X,Q,ue,je,Ce){if($s.apply(this,arguments),lr){if(lr){var We=zt;lr=!1,zt=null}else throw Error(A(198));gr||(gr=!0,es=We)}}function dn(o){var g=o,C=o;if(o.alternate)for(;g.return;)g=g.return;else{o=g;do g=o,g.flags&4098&&(C=g.return),o=g.return;while(o)}return g.tag===3?C:null}function gs(o){if(o.tag===13){var g=o.memoizedState;if(g===null&&(o=o.alternate,o!==null&&(g=o.memoizedState)),g!==null)return g.dehydrated}return null}function we(o){if(dn(o)!==o)throw Error(A(188))}function Je(o){var g=o.alternate;if(!g){if(g=dn(o),g===null)throw Error(A(188));return g!==o?null:o}for(var C=o,F=g;;){var X=C.return;if(X===null)break;var Q=X.alternate;if(Q===null){if(F=X.return,F!==null){C=F;continue}break}if(X.child===Q.child){for(Q=X.child;Q;){if(Q===C)return we(X),o;if(Q===F)return we(X),g;Q=Q.sibling}throw Error(A(188))}if(C.return!==F.return)C=X,F=Q;else{for(var ue=!1,je=X.child;je;){if(je===C){ue=!0,C=X,F=Q;break}if(je===F){ue=!0,F=X,C=Q;break}je=je.sibling}if(!ue){for(je=Q.child;je;){if(je===C){ue=!0,C=Q,F=X;break}if(je===F){ue=!0,F=Q,C=X;break}je=je.sibling}if(!ue)throw Error(A(189))}}if(C.alternate!==F)throw Error(A(190))}if(C.tag!==3)throw Error(A(188));return C.stateNode.current===C?o:g}function ft(o){return o=Je(o),o!==null?Ze(o):null}function Ze(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var g=Ze(o);if(g!==null)return g;o=o.sibling}return null}var Ft=S.unstable_scheduleCallback,Ke=S.unstable_cancelCallback,Vt=S.unstable_shouldYield,dt=S.unstable_requestPaint,kt=S.unstable_now,ht=S.unstable_getCurrentPriorityLevel,sr=S.unstable_ImmediatePriority,vr=S.unstable_UserBlockingPriority,er=S.unstable_NormalPriority,Er=S.unstable_LowPriority,fn=S.unstable_IdlePriority,Dr=null,jr=null;function kr(o){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Dr,o,void 0,(o.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Po,hn=Math.log,vs=Math.LN2;function Po(o){return o>>>=0,o===0?32:31-(hn(o)/vs|0)|0}var Ks=64,Zs=4194304;function bs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function xs(o,g){var C=o.pendingLanes;if(C===0)return 0;var F=0,X=o.suspendedLanes,Q=o.pingedLanes,ue=C&268435455;if(ue!==0){var je=ue&~X;je!==0?F=bs(je):(Q&=ue,Q!==0&&(F=bs(Q)))}else ue=C&~X,ue!==0?F=bs(ue):Q!==0&&(F=bs(Q));if(F===0)return 0;if(g!==0&&g!==F&&!(g&X)&&(X=F&-F,Q=g&-g,X>=Q||X===16&&(Q&4194240)!==0))return g;if(F&4&&(F|=C&16),g=o.entangledLanes,g!==0)for(o=o.entanglements,g&=F;0<g;)C=31-en(g),X=1<<C,F|=o[C],g&=~X;return F}function ma(o,g){switch(o){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(o,g){for(var C=o.suspendedLanes,F=o.pingedLanes,X=o.expirationTimes,Q=o.pendingLanes;0<Q;){var ue=31-en(Q),je=1<<ue,Ce=X[ue];Ce===-1?(!(je&C)||je&F)&&(X[ue]=ma(je,g)):Ce<=g&&(o.expiredLanes|=je),Q&=~je}}function Oo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ga(){var o=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),o}function Qs(o){for(var g=[],C=0;31>C;C++)g.push(o);return g}function ws(o,g,C){o.pendingLanes|=g,g!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,g=31-en(g),o[g]=C}function va(o,g){var C=o.pendingLanes&~g;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=g,o.mutableReadLanes&=g,o.entangledLanes&=g,g=o.entanglements;var F=o.eventTimes;for(o=o.expirationTimes;0<C;){var X=31-en(C),Q=1<<X;g[X]=0,F[X]=-1,o[X]=-1,C&=~Q}}function js(o,g){var C=o.entangledLanes|=g;for(o=o.entanglements;C;){var F=31-en(C),X=1<<F;X&g|o[F]&g&&(o[F]|=g),C&=~X}}var Gt=0;function pn(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var yi,Ao,ts,gi,ba,Js=!1,eo=[],zn=null,Pn=null,On=null,to=new Map,Ss=new Map,Hn=[],Wl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(o,g){switch(o){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":to.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(g.pointerId)}}function ro(o,g,C,F,X,Q){return o===null||o.nativeEvent!==Q?(o={blockedOn:g,domEventName:C,eventSystemFlags:F,nativeEvent:Q,targetContainers:[X]},g!==null&&(g=Mi(g),g!==null&&Ao(g)),o):(o.eventSystemFlags|=F,g=o.targetContainers,X!==null&&g.indexOf(X)===-1&&g.push(X),o)}function wa(o,g,C,F,X){switch(g){case"focusin":return zn=ro(zn,o,g,C,F,X),!0;case"dragenter":return Pn=ro(Pn,o,g,C,F,X),!0;case"mouseover":return On=ro(On,o,g,C,F,X),!0;case"pointerover":var Q=X.pointerId;return to.set(Q,ro(to.get(Q)||null,o,g,C,F,X)),!0;case"gotpointercapture":return Q=X.pointerId,Ss.set(Q,ro(Ss.get(Q)||null,o,g,C,F,X)),!0}return!1}function mn(o){var g=co(o.target);if(g!==null){var C=dn(g);if(C!==null){if(g=C.tag,g===13){if(g=gs(C),g!==null){o.blockedOn=g,ba(o.priority,function(){ts(C)});return}}else if(g===3&&C.stateNode.current.memoizedState.isDehydrated){o.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}o.blockedOn=null}function tn(o){if(o.blockedOn!==null)return!1;for(var g=o.targetContainers;0<g.length;){var C=Do(o.domEventName,o.eventSystemFlags,g[0],o.nativeEvent);if(C===null){C=o.nativeEvent;var F=new C.constructor(C.type,C);Qe=F,C.target.dispatchEvent(F),Qe=null}else return g=Mi(C),g!==null&&Ao(g),o.blockedOn=C,!1;g.shift()}return!0}function _s(o,g,C){tn(o)&&C.delete(g)}function no(){Js=!1,zn!==null&&tn(zn)&&(zn=null),Pn!==null&&tn(Pn)&&(Pn=null),On!==null&&tn(On)&&(On=null),to.forEach(_s),Ss.forEach(_s)}function Kr(o,g){o.blockedOn===g&&(o.blockedOn=null,Js||(Js=!0,S.unstable_scheduleCallback(S.unstable_NormalPriority,no)))}function An(o){function g(X){return Kr(X,o)}if(0<eo.length){Kr(eo[0],o);for(var C=1;C<eo.length;C++){var F=eo[C];F.blockedOn===o&&(F.blockedOn=null)}}for(zn!==null&&Kr(zn,o),Pn!==null&&Kr(Pn,o),On!==null&&Kr(On,o),to.forEach(g),Ss.forEach(g),C=0;C<Hn.length;C++)F=Hn[C],F.blockedOn===o&&(F.blockedOn=null);for(;0<Hn.length&&(C=Hn[0],C.blockedOn===null);)mn(C),C.blockedOn===null&&Hn.shift()}var Ts=v.ReactCurrentBatchConfig,yn=!0;function Lo(o,g,C,F){var X=Gt,Q=Ts.transition;Ts.transition=null;try{Gt=1,Ro(o,g,C,F)}finally{Gt=X,Ts.transition=Q}}function ja(o,g,C,F){var X=Gt,Q=Ts.transition;Ts.transition=null;try{Gt=4,Ro(o,g,C,F)}finally{Gt=X,Ts.transition=Q}}function Ro(o,g,C,F){if(yn){var X=Do(o,g,C,F);if(X===null)lu(o,g,F,so,C),xa(o,F);else if(wa(X,o,g,C,F))F.stopPropagation();else if(xa(o,F),g&4&&-1<Wl.indexOf(o)){for(;X!==null;){var Q=Mi(X);if(Q!==null&&yi(Q),Q=Do(o,g,C,F),Q===null&&lu(o,g,F,so,C),Q===X)break;X=Q}X!==null&&F.stopPropagation()}else lu(o,g,F,null,C)}}var so=null;function Do(o,g,C,F){if(so=null,o=nt(F),o=co(o),o!==null)if(g=dn(o),g===null)o=null;else if(C=g.tag,C===13){if(o=gs(g),o!==null)return o;o=null}else if(C===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;o=null}else g!==o&&(o=null);return so=o,null}function vi(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ht()){case sr:return 1;case vr:return 4;case er:case Er:return 16;case fn:return 536870912;default:return 16}default:return 16}}var Ln=null,oo=null,io=null;function bi(){if(io)return io;var o,g=oo,C=g.length,F,X="value"in Ln?Ln.value:Ln.textContent,Q=X.length;for(o=0;o<C&&g[o]===X[o];o++);var ue=C-o;for(F=1;F<=ue&&g[C-F]===X[Q-F];F++);return io=X.slice(o,1<F?1-F:void 0)}function ao(o){var g=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&g===13&&(o=13)):o=g,o===10&&(o=13),32<=o||o===13?o:0}function lo(){return!0}function xi(){return!1}function zr(o){function g(C,F,X,Q,ue){this._reactName=C,this._targetInst=X,this.type=F,this.nativeEvent=Q,this.target=ue,this.currentTarget=null;for(var je in o)o.hasOwnProperty(je)&&(C=o[je],this[je]=C?C(Q):Q[je]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?lo:xi,this.isPropagationStopped=xi,this}return ee(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),g}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=zr(rs),Es=ee({},rs,{view:0,detail:0}),wi=zr(Es),ks,uo,Cs,gn=ee({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Cs&&(Cs&&o.type==="mousemove"?(ks=o.screenX-Cs.screenX,uo=o.screenY-Cs.screenY):uo=ks=0,Cs=o),ks)},movementY:function(o){return"movementY"in o?o.movementY:uo}}),Rn=zr(gn),gt=ee({},gn,{dataTransfer:0}),Xl=zr(gt),Sa=ee({},Es,{relatedTarget:0}),Wn=zr(Sa),ql=ee({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Yl=zr(ql),Qt=ee({},rs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_a=zr(Qt),$l=ee({},rs,{data:0}),rn=zr($l),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(o){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(o):(o=Ql[o])?!!g[o]:!1}function ji(){return Jl}var eu=ee({},Es,{key:function(o){if(o.key){var g=Kl[o.key]||o.key;if(g!=="Unidentified")return g}return o.type==="keypress"?(o=ao(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(o){return o.type==="keypress"?ao(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ao(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ta=zr(eu),br=ee({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=zr(br),j=ee({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),O=zr(j),I=ee({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=zr(I),H=ee({},gn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),J=zr(H),te=[9,13,27,32],le=f&&"CompositionEvent"in window,pe=null;f&&"documentMode"in document&&(pe=document.documentMode);var me=f&&"TextEvent"in window&&!pe,ke=f&&(!le||pe&&8<pe&&11>=pe),Ne=" ",Oe=!1;function xe(o,g){switch(o){case"keyup":return te.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $e(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ve=!1;function Xe(o,g){switch(o){case"compositionend":return $e(g);case"keypress":return g.which!==32?null:(Oe=!0,Ne);case"textInput":return o=g.data,o===Ne&&Oe?null:o;default:return null}}function Ue(o,g){if(Ve)return o==="compositionend"||!le&&xe(o,g)?(o=bi(),io=oo=Ln=null,Ve=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return ke&&g.locale!=="ko"?null:g.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(o){var g=o&&o.nodeName&&o.nodeName.toLowerCase();return g==="input"?!!Be[o.type]:g==="textarea"}function Rt(o,g,C,F){yt(F),g=Ma(g,"onChange"),0<g.length&&(C=new Io("onChange","change",null,C,F),o.push({event:C,listeners:g}))}var vt=null,xt=null;function It(o){af(o,0)}function Xt(o){var g=Go(o);if(ye(g))return o}function ur(o,g){if(o==="change")return g}var fr=!1;if(f){var Cr;if(f){var Mr="oninput"in document;if(!Mr){var nn=document.createElement("div");nn.setAttribute("oninput","return;"),Mr=typeof nn.oninput=="function"}Cr=Mr}else Cr=!1;fr=Cr&&(!document.documentMode||9<document.documentMode)}function Yt(){vt&&(vt.detachEvent("onpropertychange",Jt),xt=vt=null)}function Jt(o){if(o.propertyName==="value"&&Xt(xt)){var g=[];Rt(g,xt,o,nt(o)),dr(It,g)}}function qt(o,g,C){o==="focusin"?(Yt(),vt=g,xt=C,vt.attachEvent("onpropertychange",Jt)):o==="focusout"&&Yt()}function Ir(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xt(xt)}function or(o,g){if(o==="click")return Xt(g)}function Ar(o,g){if(o==="input"||o==="change")return Xt(g)}function tr(o,g){return o===g&&(o!==0||1/o===1/g)||o!==o&&g!==g}var $t=typeof Object.is=="function"?Object.is:tr;function Dn(o,g){if($t(o,g))return!0;if(typeof o!="object"||o===null||typeof g!="object"||g===null)return!1;var C=Object.keys(o),F=Object.keys(g);if(C.length!==F.length)return!1;for(F=0;F<C.length;F++){var X=C[F];if(!s.call(g,X)||!$t(o[X],g[X]))return!1}return!0}function ns(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Si(o,g){var C=ns(o);o=0;for(var F;C;){if(C.nodeType===3){if(F=o+C.textContent.length,o<=g&&F>=g)return{node:C,offset:g-o};o=F}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=ns(C)}}function $d(o,g){return o&&g?o===g?!0:o&&o.nodeType===3?!1:g&&g.nodeType===3?$d(o,g.parentNode):"contains"in o?o.contains(g):o.compareDocumentPosition?!!(o.compareDocumentPosition(g)&16):!1:!1}function Kd(){for(var o=window,g=be();g instanceof o.HTMLIFrameElement;){try{var C=typeof g.contentWindow.location.href=="string"}catch{C=!1}if(C)o=g.contentWindow;else break;g=be(o.document)}return g}function tu(o){var g=o&&o.nodeName&&o.nodeName.toLowerCase();return g&&(g==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||g==="textarea"||o.contentEditable==="true")}function yg(o){var g=Kd(),C=o.focusedElem,F=o.selectionRange;if(g!==C&&C&&C.ownerDocument&&$d(C.ownerDocument.documentElement,C)){if(F!==null&&tu(C)){if(g=F.start,o=F.end,o===void 0&&(o=g),"selectionStart"in C)C.selectionStart=g,C.selectionEnd=Math.min(o,C.value.length);else if(o=(g=C.ownerDocument||document)&&g.defaultView||window,o.getSelection){o=o.getSelection();var X=C.textContent.length,Q=Math.min(F.start,X);F=F.end===void 0?Q:Math.min(F.end,X),!o.extend&&Q>F&&(X=F,F=Q,Q=X),X=Si(C,Q);var ue=Si(C,F);X&&ue&&(o.rangeCount!==1||o.anchorNode!==X.node||o.anchorOffset!==X.offset||o.focusNode!==ue.node||o.focusOffset!==ue.offset)&&(g=g.createRange(),g.setStart(X.node,X.offset),o.removeAllRanges(),Q>F?(o.addRange(g),o.extend(ue.node,ue.offset)):(g.setEnd(ue.node,ue.offset),o.addRange(g)))}}for(g=[],o=C;o=o.parentNode;)o.nodeType===1&&g.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<g.length;C++)o=g[C],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var gg=f&&"documentMode"in document&&11>=document.documentMode,No=null,ru=null,_i=null,nu=!1;function Zd(o,g,C){var F=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;nu||No==null||No!==be(F)||(F=No,"selectionStart"in F&&tu(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),_i&&Dn(_i,F)||(_i=F,F=Ma(ru,"onSelect"),0<F.length&&(g=new Io("onSelect","select",null,g,C),o.push({event:g,listeners:F}),g.target=No)))}function Ea(o,g){var C={};return C[o.toLowerCase()]=g.toLowerCase(),C["Webkit"+o]="webkit"+g,C["Moz"+o]="moz"+g,C}var Uo={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},su={},Qd={};f&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function ka(o){if(su[o])return su[o];if(!Uo[o])return o;var g=Uo[o],C;for(C in g)if(g.hasOwnProperty(C)&&C in Qd)return su[o]=g[C];return o}var Jd=ka("animationend"),ef=ka("animationiteration"),tf=ka("animationstart"),rf=ka("transitionend"),nf=new Map,sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(o,g){nf.set(o,g),y(g,[o])}for(var ou=0;ou<sf.length;ou++){var iu=sf[ou],vg=iu.toLowerCase(),bg=iu[0].toUpperCase()+iu.slice(1);Ms(vg,"on"+bg)}Ms(Jd,"onAnimationEnd"),Ms(ef,"onAnimationIteration"),Ms(tf,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(rf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),y("onBeforeInput",["compositionend","keypress","textInput","paste"]),y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function of(o,g,C){var F=o.type||"unknown-event";o.currentTarget=C,Mo(F,g,void 0,o),o.currentTarget=null}function af(o,g){g=(g&4)!==0;for(var C=0;C<o.length;C++){var F=o[C],X=F.event;F=F.listeners;e:{var Q=void 0;if(g)for(var ue=F.length-1;0<=ue;ue--){var je=F[ue],Ce=je.instance,We=je.currentTarget;if(je=je.listener,Ce!==Q&&X.isPropagationStopped())break e;of(X,je,We),Q=Ce}else for(ue=0;ue<F.length;ue++){if(je=F[ue],Ce=je.instance,We=je.currentTarget,je=je.listener,Ce!==Q&&X.isPropagationStopped())break e;of(X,je,We),Q=Ce}}}if(gr)throw o=es,gr=!1,es=null,o}function ir(o,g){var C=g[pu];C===void 0&&(C=g[pu]=new Set);var F=o+"__bubble";C.has(F)||(lf(g,o,2,!1),C.add(F))}function au(o,g,C){var F=0;g&&(F|=4),lf(C,o,F,g)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Ei(o){if(!o[Ca]){o[Ca]=!0,t.forEach(function(C){C!=="selectionchange"&&(xg.has(C)||au(C,!1,o),au(C,!0,o))});var g=o.nodeType===9?o:o.ownerDocument;g===null||g[Ca]||(g[Ca]=!0,au("selectionchange",!1,g))}}function lf(o,g,C,F){switch(vi(g)){case 1:var X=Lo;break;case 4:X=ja;break;default:X=Ro}C=X.bind(null,g,C,o),X=void 0,!Zt||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(X=!0),F?X!==void 0?o.addEventListener(g,C,{capture:!0,passive:X}):o.addEventListener(g,C,!0):X!==void 0?o.addEventListener(g,C,{passive:X}):o.addEventListener(g,C,!1)}function lu(o,g,C,F,X){var Q=F;if(!(g&1)&&!(g&2)&&F!==null)e:for(;;){if(F===null)return;var ue=F.tag;if(ue===3||ue===4){var je=F.stateNode.containerInfo;if(je===X||je.nodeType===8&&je.parentNode===X)break;if(ue===4)for(ue=F.return;ue!==null;){var Ce=ue.tag;if((Ce===3||Ce===4)&&(Ce=ue.stateNode.containerInfo,Ce===X||Ce.nodeType===8&&Ce.parentNode===X))return;ue=ue.return}for(;je!==null;){if(ue=co(je),ue===null)return;if(Ce=ue.tag,Ce===5||Ce===6){F=Q=ue;continue e}je=je.parentNode}}F=F.return}dr(function(){var We=Q,tt=nt(C),rt=[];e:{var et=nf.get(o);if(et!==void 0){var mt=Io,jt=o;switch(o){case"keypress":if(ao(C)===0)break e;case"keydown":case"keyup":mt=Ta;break;case"focusin":jt="focus",mt=Wn;break;case"focusout":jt="blur",mt=Wn;break;case"beforeblur":case"afterblur":mt=Wn;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=O;break;case Jd:case ef:case tf:mt=Yl;break;case rf:mt=U;break;case"scroll":mt=wi;break;case"wheel":mt=J;break;case"copy":case"cut":case"paste":mt=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Fo}var St=(g&4)!==0,Sr=!St&&o==="scroll",Ge=St?et!==null?et+"Capture":null:et;St=[];for(var Ae=We,ze;Ae!==null;){ze=Ae;var at=ze.stateNode;if(ze.tag===5&&at!==null&&(ze=at,Ge!==null&&(at=Bt(Ae,Ge),at!=null&&St.push(ki(Ae,at,ze)))),Sr)break;Ae=Ae.return}0<St.length&&(et=new mt(et,jt,null,C,tt),rt.push({event:et,listeners:St}))}}if(!(g&7)){e:{if(et=o==="mouseover"||o==="pointerover",mt=o==="mouseout"||o==="pointerout",et&&C!==Qe&&(jt=C.relatedTarget||C.fromElement)&&(co(jt)||jt[ss]))break e;if((mt||et)&&(et=tt.window===tt?tt:(et=tt.ownerDocument)?et.defaultView||et.parentWindow:window,mt?(jt=C.relatedTarget||C.toElement,mt=We,jt=jt?co(jt):null,jt!==null&&(Sr=dn(jt),jt!==Sr||jt.tag!==5&&jt.tag!==6)&&(jt=null)):(mt=null,jt=We),mt!==jt)){if(St=Rn,at="onMouseLeave",Ge="onMouseEnter",Ae="mouse",(o==="pointerout"||o==="pointerover")&&(St=Fo,at="onPointerLeave",Ge="onPointerEnter",Ae="pointer"),Sr=mt==null?et:Go(mt),ze=jt==null?et:Go(jt),et=new St(at,Ae+"leave",mt,C,tt),et.target=Sr,et.relatedTarget=ze,at=null,co(tt)===We&&(St=new St(Ge,Ae+"enter",jt,C,tt),St.target=ze,St.relatedTarget=Sr,at=St),Sr=at,mt&&jt)t:{for(St=mt,Ge=jt,Ae=0,ze=St;ze;ze=Bo(ze))Ae++;for(ze=0,at=Ge;at;at=Bo(at))ze++;for(;0<Ae-ze;)St=Bo(St),Ae--;for(;0<ze-Ae;)Ge=Bo(Ge),ze--;for(;Ae--;){if(St===Ge||Ge!==null&&St===Ge.alternate)break t;St=Bo(St),Ge=Bo(Ge)}St=null}else St=null;mt!==null&&uf(rt,et,mt,St,!1),jt!==null&&Sr!==null&&uf(rt,Sr,jt,St,!0)}}e:{if(et=We?Go(We):window,mt=et.nodeName&&et.nodeName.toLowerCase(),mt==="select"||mt==="input"&&et.type==="file")var _t=ur;else if(wt(et))if(fr)_t=Ar;else{_t=Ir;var Ot=qt}else(mt=et.nodeName)&&mt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(_t=or);if(_t&&(_t=_t(o,We))){Rt(rt,_t,C,tt);break e}Ot&&Ot(o,et,We),o==="focusout"&&(Ot=et._wrapperState)&&Ot.controlled&&et.type==="number"&&Te(et,"number",et.value)}switch(Ot=We?Go(We):window,o){case"focusin":(wt(Ot)||Ot.contentEditable==="true")&&(No=Ot,ru=We,_i=null);break;case"focusout":_i=ru=No=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Zd(rt,C,tt);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":Zd(rt,C,tt)}var At;if(le)e:{switch(o){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Ve?xe(o,C)&&(Dt="onCompositionEnd"):o==="keydown"&&C.keyCode===229&&(Dt="onCompositionStart");Dt&&(ke&&C.locale!=="ko"&&(Ve||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ve&&(At=bi()):(Ln=tt,oo="value"in Ln?Ln.value:Ln.textContent,Ve=!0)),Ot=Ma(We,Dt),0<Ot.length&&(Dt=new rn(Dt,o,null,C,tt),rt.push({event:Dt,listeners:Ot}),At?Dt.data=At:(At=$e(C),At!==null&&(Dt.data=At)))),(At=me?Xe(o,C):Ue(o,C))&&(We=Ma(We,"onBeforeInput"),0<We.length&&(tt=new rn("onBeforeInput","beforeinput",null,C,tt),rt.push({event:tt,listeners:We}),tt.data=At))}af(rt,g)})}function ki(o,g,C){return{instance:o,listener:g,currentTarget:C}}function Ma(o,g){for(var C=g+"Capture",F=[];o!==null;){var X=o,Q=X.stateNode;X.tag===5&&Q!==null&&(X=Q,Q=Bt(o,C),Q!=null&&F.unshift(ki(o,Q,X)),Q=Bt(o,g),Q!=null&&F.push(ki(o,Q,X))),o=o.return}return F}function Bo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function uf(o,g,C,F,X){for(var Q=g._reactName,ue=[];C!==null&&C!==F;){var je=C,Ce=je.alternate,We=je.stateNode;if(Ce!==null&&Ce===F)break;je.tag===5&&We!==null&&(je=We,X?(Ce=Bt(C,Q),Ce!=null&&ue.unshift(ki(C,Ce,je))):X||(Ce=Bt(C,Q),Ce!=null&&ue.push(ki(C,Ce,je)))),C=C.return}ue.length!==0&&o.push({event:g,listeners:ue})}var wg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function cf(o){return(typeof o=="string"?o:""+o).replace(wg,`
`).replace(jg,"")}function Pa(o,g,C){if(g=cf(g),cf(o)!==g&&C)throw Error(A(425))}function Oa(){}var uu=null,cu=null;function du(o,g){return o==="textarea"||o==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,Sg=typeof clearTimeout=="function"?clearTimeout:void 0,df=typeof Promise=="function"?Promise:void 0,_g=typeof queueMicrotask=="function"?queueMicrotask:typeof df<"u"?function(o){return df.resolve(null).then(o).catch(Tg)}:fu;function Tg(o){setTimeout(function(){throw o})}function hu(o,g){var C=g,F=0;do{var X=C.nextSibling;if(o.removeChild(C),X&&X.nodeType===8)if(C=X.data,C==="/$"){if(F===0){o.removeChild(X),An(g);return}F--}else C!=="$"&&C!=="$?"&&C!=="$!"||F++;C=X}while(C);An(g)}function Ps(o){for(;o!=null;o=o.nextSibling){var g=o.nodeType;if(g===1||g===3)break;if(g===8){if(g=o.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return o}function ff(o){o=o.previousSibling;for(var g=0;o;){if(o.nodeType===8){var C=o.data;if(C==="$"||C==="$!"||C==="$?"){if(g===0)return o;g--}else C==="/$"&&g++}o=o.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Vo,Ci="__reactProps$"+Vo,ss="__reactContainer$"+Vo,pu="__reactEvents$"+Vo,Eg="__reactListeners$"+Vo,kg="__reactHandles$"+Vo;function co(o){var g=o[Xn];if(g)return g;for(var C=o.parentNode;C;){if(g=C[ss]||C[Xn]){if(C=g.alternate,g.child!==null||C!==null&&C.child!==null)for(o=ff(o);o!==null;){if(C=o[Xn])return C;o=ff(o)}return g}o=C,C=o.parentNode}return null}function Mi(o){return o=o[Xn]||o[ss],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Go(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(A(33))}function Aa(o){return o[Ci]||null}var mu=[],zo=-1;function Os(o){return{current:o}}function ar(o){0>zo||(o.current=mu[zo],mu[zo]=null,zo--)}function rr(o,g){zo++,mu[zo]=o.current,o.current=g}var As={},Hr=Os(As),sn=Os(!1),fo=As;function Ho(o,g){var C=o.type.contextTypes;if(!C)return As;var F=o.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===g)return F.__reactInternalMemoizedMaskedChildContext;var X={},Q;for(Q in C)X[Q]=g[Q];return F&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=X),X}function on(o){return o=o.childContextTypes,o!=null}function La(){ar(sn),ar(Hr)}function hf(o,g,C){if(Hr.current!==As)throw Error(A(168));rr(Hr,g),rr(sn,C)}function pf(o,g,C){var F=o.stateNode;if(g=g.childContextTypes,typeof F.getChildContext!="function")return C;F=F.getChildContext();for(var X in F)if(!(X in g))throw Error(A(108,ne(o)||"Unknown",X));return ee({},C,F)}function Ra(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||As,fo=Hr.current,rr(Hr,o),rr(sn,sn.current),!0}function mf(o,g,C){var F=o.stateNode;if(!F)throw Error(A(169));C?(o=pf(o,g,fo),F.__reactInternalMemoizedMergedChildContext=o,ar(sn),ar(Hr),rr(Hr,o)):ar(sn),rr(sn,C)}var os=null,Da=!1,yu=!1;function yf(o){os===null?os=[o]:os.push(o)}function Cg(o){Da=!0,yf(o)}function Ls(){if(!yu&&os!==null){yu=!0;var o=0,g=Gt;try{var C=os;for(Gt=1;o<C.length;o++){var F=C[o];do F=F(!0);while(F!==null)}os=null,Da=!1}catch(X){throw os!==null&&(os=os.slice(o+1)),Ft(sr,Ls),X}finally{Gt=g,yu=!1}}return null}var Wo=[],Xo=0,Ia=null,Fa=0,jn=[],Sn=0,ho=null,is=1,as="";function po(o,g){Wo[Xo++]=Fa,Wo[Xo++]=Ia,Ia=o,Fa=g}function gf(o,g,C){jn[Sn++]=is,jn[Sn++]=as,jn[Sn++]=ho,ho=o;var F=is;o=as;var X=32-en(F)-1;F&=~(1<<X),C+=1;var Q=32-en(g)+X;if(30<Q){var ue=X-X%5;Q=(F&(1<<ue)-1).toString(32),F>>=ue,X-=ue,is=1<<32-en(g)+X|C<<X|F,as=Q+o}else is=1<<Q|C<<X|F,as=o}function gu(o){o.return!==null&&(po(o,1),gf(o,1,0))}function vu(o){for(;o===Ia;)Ia=Wo[--Xo],Wo[Xo]=null,Fa=Wo[--Xo],Wo[Xo]=null;for(;o===ho;)ho=jn[--Sn],jn[Sn]=null,as=jn[--Sn],jn[Sn]=null,is=jn[--Sn],jn[Sn]=null}var vn=null,bn=null,cr=!1,In=null;function vf(o,g){var C=kn(5,null,null,0);C.elementType="DELETED",C.stateNode=g,C.return=o,g=o.deletions,g===null?(o.deletions=[C],o.flags|=16):g.push(C)}function bf(o,g){switch(o.tag){case 5:var C=o.type;return g=g.nodeType!==1||C.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(o.stateNode=g,vn=o,bn=Ps(g.firstChild),!0):!1;case 6:return g=o.pendingProps===""||g.nodeType!==3?null:g,g!==null?(o.stateNode=g,vn=o,bn=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(C=ho!==null?{id:is,overflow:as}:null,o.memoizedState={dehydrated:g,treeContext:C,retryLane:1073741824},C=kn(18,null,null,0),C.stateNode=g,C.return=o,o.child=C,vn=o,bn=null,!0):!1;default:return!1}}function bu(o){return(o.mode&1)!==0&&(o.flags&128)===0}function xu(o){if(cr){var g=bn;if(g){var C=g;if(!bf(o,g)){if(bu(o))throw Error(A(418));g=Ps(C.nextSibling);var F=vn;g&&bf(o,g)?vf(F,C):(o.flags=o.flags&-4097|2,cr=!1,vn=o)}}else{if(bu(o))throw Error(A(418));o.flags=o.flags&-4097|2,cr=!1,vn=o}}}function xf(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;vn=o}function Na(o){if(o!==vn)return!1;if(!cr)return xf(o),cr=!0,!1;var g;if((g=o.tag!==3)&&!(g=o.tag!==5)&&(g=o.type,g=g!=="head"&&g!=="body"&&!du(o.type,o.memoizedProps)),g&&(g=bn)){if(bu(o))throw wf(),Error(A(418));for(;g;)vf(o,g),g=Ps(g.nextSibling)}if(xf(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));e:{for(o=o.nextSibling,g=0;o;){if(o.nodeType===8){var C=o.data;if(C==="/$"){if(g===0){bn=Ps(o.nextSibling);break e}g--}else C!=="$"&&C!=="$!"&&C!=="$?"||g++}o=o.nextSibling}bn=null}}else bn=vn?Ps(o.stateNode.nextSibling):null;return!0}function wf(){for(var o=bn;o;)o=Ps(o.nextSibling)}function qo(){bn=vn=null,cr=!1}function wu(o){In===null?In=[o]:In.push(o)}var Mg=v.ReactCurrentBatchConfig;function Pi(o,g,C){if(o=C.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(A(309));var F=C.stateNode}if(!F)throw Error(A(147,o));var X=F,Q=""+o;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===Q?g.ref:(g=function(ue){var je=X.refs;ue===null?delete je[Q]:je[Q]=ue},g._stringRef=Q,g)}if(typeof o!="string")throw Error(A(284));if(!C._owner)throw Error(A(290,o))}return o}function Ua(o,g){throw o=Object.prototype.toString.call(g),Error(A(31,o==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":o))}function jf(o){var g=o._init;return g(o._payload)}function Sf(o){function g(Ge,Ae){if(o){var ze=Ge.deletions;ze===null?(Ge.deletions=[Ae],Ge.flags|=16):ze.push(Ae)}}function C(Ge,Ae){if(!o)return null;for(;Ae!==null;)g(Ge,Ae),Ae=Ae.sibling;return null}function F(Ge,Ae){for(Ge=new Map;Ae!==null;)Ae.key!==null?Ge.set(Ae.key,Ae):Ge.set(Ae.index,Ae),Ae=Ae.sibling;return Ge}function X(Ge,Ae){return Ge=Vs(Ge,Ae),Ge.index=0,Ge.sibling=null,Ge}function Q(Ge,Ae,ze){return Ge.index=ze,o?(ze=Ge.alternate,ze!==null?(ze=ze.index,ze<Ae?(Ge.flags|=2,Ae):ze):(Ge.flags|=2,Ae)):(Ge.flags|=1048576,Ae)}function ue(Ge){return o&&Ge.alternate===null&&(Ge.flags|=2),Ge}function je(Ge,Ae,ze,at){return Ae===null||Ae.tag!==6?(Ae=fc(ze,Ge.mode,at),Ae.return=Ge,Ae):(Ae=X(Ae,ze),Ae.return=Ge,Ae)}function Ce(Ge,Ae,ze,at){var _t=ze.type;return _t===k?tt(Ge,Ae,ze.props.children,at,ze.key):Ae!==null&&(Ae.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===z&&jf(_t)===Ae.type)?(at=X(Ae,ze.props),at.ref=Pi(Ge,Ae,ze),at.return=Ge,at):(at=ul(ze.type,ze.key,ze.props,null,Ge.mode,at),at.ref=Pi(Ge,Ae,ze),at.return=Ge,at)}function We(Ge,Ae,ze,at){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==ze.containerInfo||Ae.stateNode.implementation!==ze.implementation?(Ae=hc(ze,Ge.mode,at),Ae.return=Ge,Ae):(Ae=X(Ae,ze.children||[]),Ae.return=Ge,Ae)}function tt(Ge,Ae,ze,at,_t){return Ae===null||Ae.tag!==7?(Ae=jo(ze,Ge.mode,at,_t),Ae.return=Ge,Ae):(Ae=X(Ae,ze),Ae.return=Ge,Ae)}function rt(Ge,Ae,ze){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ae=fc(""+Ae,Ge.mode,ze),Ae.return=Ge,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return ze=ul(Ae.type,Ae.key,Ae.props,null,Ge.mode,ze),ze.ref=Pi(Ge,null,Ae),ze.return=Ge,ze;case E:return Ae=hc(Ae,Ge.mode,ze),Ae.return=Ge,Ae;case z:var at=Ae._init;return rt(Ge,at(Ae._payload),ze)}if(Re(Ae)||Y(Ae))return Ae=jo(Ae,Ge.mode,ze,null),Ae.return=Ge,Ae;Ua(Ge,Ae)}return null}function et(Ge,Ae,ze,at){var _t=Ae!==null?Ae.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return _t!==null?null:je(Ge,Ae,""+ze,at);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case w:return ze.key===_t?Ce(Ge,Ae,ze,at):null;case E:return ze.key===_t?We(Ge,Ae,ze,at):null;case z:return _t=ze._init,et(Ge,Ae,_t(ze._payload),at)}if(Re(ze)||Y(ze))return _t!==null?null:tt(Ge,Ae,ze,at,null);Ua(Ge,ze)}return null}function mt(Ge,Ae,ze,at,_t){if(typeof at=="string"&&at!==""||typeof at=="number")return Ge=Ge.get(ze)||null,je(Ae,Ge,""+at,_t);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case w:return Ge=Ge.get(at.key===null?ze:at.key)||null,Ce(Ae,Ge,at,_t);case E:return Ge=Ge.get(at.key===null?ze:at.key)||null,We(Ae,Ge,at,_t);case z:var Ot=at._init;return mt(Ge,Ae,ze,Ot(at._payload),_t)}if(Re(at)||Y(at))return Ge=Ge.get(ze)||null,tt(Ae,Ge,at,_t,null);Ua(Ae,at)}return null}function jt(Ge,Ae,ze,at){for(var _t=null,Ot=null,At=Ae,Dt=Ae=0,Ur=null;At!==null&&Dt<ze.length;Dt++){At.index>Dt?(Ur=At,At=null):Ur=At.sibling;var Wt=et(Ge,At,ze[Dt],at);if(Wt===null){At===null&&(At=Ur);break}o&&At&&Wt.alternate===null&&g(Ge,At),Ae=Q(Wt,Ae,Dt),Ot===null?_t=Wt:Ot.sibling=Wt,Ot=Wt,At=Ur}if(Dt===ze.length)return C(Ge,At),cr&&po(Ge,Dt),_t;if(At===null){for(;Dt<ze.length;Dt++)At=rt(Ge,ze[Dt],at),At!==null&&(Ae=Q(At,Ae,Dt),Ot===null?_t=At:Ot.sibling=At,Ot=At);return cr&&po(Ge,Dt),_t}for(At=F(Ge,At);Dt<ze.length;Dt++)Ur=mt(At,Ge,Dt,ze[Dt],at),Ur!==null&&(o&&Ur.alternate!==null&&At.delete(Ur.key===null?Dt:Ur.key),Ae=Q(Ur,Ae,Dt),Ot===null?_t=Ur:Ot.sibling=Ur,Ot=Ur);return o&&At.forEach(function(Gs){return g(Ge,Gs)}),cr&&po(Ge,Dt),_t}function St(Ge,Ae,ze,at){var _t=Y(ze);if(typeof _t!="function")throw Error(A(150));if(ze=_t.call(ze),ze==null)throw Error(A(151));for(var Ot=_t=null,At=Ae,Dt=Ae=0,Ur=null,Wt=ze.next();At!==null&&!Wt.done;Dt++,Wt=ze.next()){At.index>Dt?(Ur=At,At=null):Ur=At.sibling;var Gs=et(Ge,At,Wt.value,at);if(Gs===null){At===null&&(At=Ur);break}o&&At&&Gs.alternate===null&&g(Ge,At),Ae=Q(Gs,Ae,Dt),Ot===null?_t=Gs:Ot.sibling=Gs,Ot=Gs,At=Ur}if(Wt.done)return C(Ge,At),cr&&po(Ge,Dt),_t;if(At===null){for(;!Wt.done;Dt++,Wt=ze.next())Wt=rt(Ge,Wt.value,at),Wt!==null&&(Ae=Q(Wt,Ae,Dt),Ot===null?_t=Wt:Ot.sibling=Wt,Ot=Wt);return cr&&po(Ge,Dt),_t}for(At=F(Ge,At);!Wt.done;Dt++,Wt=ze.next())Wt=mt(At,Ge,Dt,Wt.value,at),Wt!==null&&(o&&Wt.alternate!==null&&At.delete(Wt.key===null?Dt:Wt.key),Ae=Q(Wt,Ae,Dt),Ot===null?_t=Wt:Ot.sibling=Wt,Ot=Wt);return o&&At.forEach(function(av){return g(Ge,av)}),cr&&po(Ge,Dt),_t}function Sr(Ge,Ae,ze,at){if(typeof ze=="object"&&ze!==null&&ze.type===k&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case w:e:{for(var _t=ze.key,Ot=Ae;Ot!==null;){if(Ot.key===_t){if(_t=ze.type,_t===k){if(Ot.tag===7){C(Ge,Ot.sibling),Ae=X(Ot,ze.props.children),Ae.return=Ge,Ge=Ae;break e}}else if(Ot.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===z&&jf(_t)===Ot.type){C(Ge,Ot.sibling),Ae=X(Ot,ze.props),Ae.ref=Pi(Ge,Ot,ze),Ae.return=Ge,Ge=Ae;break e}C(Ge,Ot);break}else g(Ge,Ot);Ot=Ot.sibling}ze.type===k?(Ae=jo(ze.props.children,Ge.mode,at,ze.key),Ae.return=Ge,Ge=Ae):(at=ul(ze.type,ze.key,ze.props,null,Ge.mode,at),at.ref=Pi(Ge,Ae,ze),at.return=Ge,Ge=at)}return ue(Ge);case E:e:{for(Ot=ze.key;Ae!==null;){if(Ae.key===Ot)if(Ae.tag===4&&Ae.stateNode.containerInfo===ze.containerInfo&&Ae.stateNode.implementation===ze.implementation){C(Ge,Ae.sibling),Ae=X(Ae,ze.children||[]),Ae.return=Ge,Ge=Ae;break e}else{C(Ge,Ae);break}else g(Ge,Ae);Ae=Ae.sibling}Ae=hc(ze,Ge.mode,at),Ae.return=Ge,Ge=Ae}return ue(Ge);case z:return Ot=ze._init,Sr(Ge,Ae,Ot(ze._payload),at)}if(Re(ze))return jt(Ge,Ae,ze,at);if(Y(ze))return St(Ge,Ae,ze,at);Ua(Ge,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Ae!==null&&Ae.tag===6?(C(Ge,Ae.sibling),Ae=X(Ae,ze),Ae.return=Ge,Ge=Ae):(C(Ge,Ae),Ae=fc(ze,Ge.mode,at),Ae.return=Ge,Ge=Ae),ue(Ge)):C(Ge,Ae)}return Sr}var Yo=Sf(!0),_f=Sf(!1),Ba=Os(null),Va=null,$o=null,ju=null;function Su(){ju=$o=Va=null}function _u(o){var g=Ba.current;ar(Ba),o._currentValue=g}function Tu(o,g,C){for(;o!==null;){var F=o.alternate;if((o.childLanes&g)!==g?(o.childLanes|=g,F!==null&&(F.childLanes|=g)):F!==null&&(F.childLanes&g)!==g&&(F.childLanes|=g),o===C)break;o=o.return}}function Ko(o,g){Va=o,ju=$o=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&g&&(an=!0),o.firstContext=null)}function _n(o){var g=o._currentValue;if(ju!==o)if(o={context:o,memoizedValue:g,next:null},$o===null){if(Va===null)throw Error(A(308));$o=o,Va.dependencies={lanes:0,firstContext:o}}else $o=$o.next=o;return g}var mo=null;function Eu(o){mo===null?mo=[o]:mo.push(o)}function Tf(o,g,C,F){var X=g.interleaved;return X===null?(C.next=C,Eu(g)):(C.next=X.next,X.next=C),g.interleaved=C,ls(o,F)}function ls(o,g){o.lanes|=g;var C=o.alternate;for(C!==null&&(C.lanes|=g),C=o,o=o.return;o!==null;)o.childLanes|=g,C=o.alternate,C!==null&&(C.childLanes|=g),C=o,o=o.return;return C.tag===3?C.stateNode:null}var Rs=!1;function ku(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(o,g){o=o.updateQueue,g.updateQueue===o&&(g.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function us(o,g){return{eventTime:o,lane:g,tag:0,payload:null,callback:null,next:null}}function Ds(o,g,C){var F=o.updateQueue;if(F===null)return null;if(F=F.shared,Ht&2){var X=F.pending;return X===null?g.next=g:(g.next=X.next,X.next=g),F.pending=g,ls(o,C)}return X=F.interleaved,X===null?(g.next=g,Eu(F)):(g.next=X.next,X.next=g),F.interleaved=g,ls(o,C)}function Ga(o,g,C){if(g=g.updateQueue,g!==null&&(g=g.shared,(C&4194240)!==0)){var F=g.lanes;F&=o.pendingLanes,C|=F,g.lanes=C,js(o,C)}}function kf(o,g){var C=o.updateQueue,F=o.alternate;if(F!==null&&(F=F.updateQueue,C===F)){var X=null,Q=null;if(C=C.firstBaseUpdate,C!==null){do{var ue={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};Q===null?X=Q=ue:Q=Q.next=ue,C=C.next}while(C!==null);Q===null?X=Q=g:Q=Q.next=g}else X=Q=g;C={baseState:F.baseState,firstBaseUpdate:X,lastBaseUpdate:Q,shared:F.shared,effects:F.effects},o.updateQueue=C;return}o=C.lastBaseUpdate,o===null?C.firstBaseUpdate=g:o.next=g,C.lastBaseUpdate=g}function za(o,g,C,F){var X=o.updateQueue;Rs=!1;var Q=X.firstBaseUpdate,ue=X.lastBaseUpdate,je=X.shared.pending;if(je!==null){X.shared.pending=null;var Ce=je,We=Ce.next;Ce.next=null,ue===null?Q=We:ue.next=We,ue=Ce;var tt=o.alternate;tt!==null&&(tt=tt.updateQueue,je=tt.lastBaseUpdate,je!==ue&&(je===null?tt.firstBaseUpdate=We:je.next=We,tt.lastBaseUpdate=Ce))}if(Q!==null){var rt=X.baseState;ue=0,tt=We=Ce=null,je=Q;do{var et=je.lane,mt=je.eventTime;if((F&et)===et){tt!==null&&(tt=tt.next={eventTime:mt,lane:0,tag:je.tag,payload:je.payload,callback:je.callback,next:null});e:{var jt=o,St=je;switch(et=g,mt=C,St.tag){case 1:if(jt=St.payload,typeof jt=="function"){rt=jt.call(mt,rt,et);break e}rt=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=St.payload,et=typeof jt=="function"?jt.call(mt,rt,et):jt,et==null)break e;rt=ee({},rt,et);break e;case 2:Rs=!0}}je.callback!==null&&je.lane!==0&&(o.flags|=64,et=X.effects,et===null?X.effects=[je]:et.push(je))}else mt={eventTime:mt,lane:et,tag:je.tag,payload:je.payload,callback:je.callback,next:null},tt===null?(We=tt=mt,Ce=rt):tt=tt.next=mt,ue|=et;if(je=je.next,je===null){if(je=X.shared.pending,je===null)break;et=je,je=et.next,et.next=null,X.lastBaseUpdate=et,X.shared.pending=null}}while(!0);if(tt===null&&(Ce=rt),X.baseState=Ce,X.firstBaseUpdate=We,X.lastBaseUpdate=tt,g=X.shared.interleaved,g!==null){X=g;do ue|=X.lane,X=X.next;while(X!==g)}else Q===null&&(X.shared.lanes=0);vo|=ue,o.lanes=ue,o.memoizedState=rt}}function Cf(o,g,C){if(o=g.effects,g.effects=null,o!==null)for(g=0;g<o.length;g++){var F=o[g],X=F.callback;if(X!==null){if(F.callback=null,F=C,typeof X!="function")throw Error(A(191,X));X.call(F)}}}var Oi={},qn=Os(Oi),Ai=Os(Oi),Li=Os(Oi);function yo(o){if(o===Oi)throw Error(A(174));return o}function Cu(o,g){switch(rr(Li,g),rr(Ai,o),rr(qn,Oi),o=g.nodeType,o){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lt(null,"");break;default:o=o===8?g.parentNode:g,g=o.namespaceURI||null,o=o.tagName,g=lt(g,o)}ar(qn),rr(qn,g)}function Zo(){ar(qn),ar(Ai),ar(Li)}function Mf(o){yo(Li.current);var g=yo(qn.current),C=lt(g,o.type);g!==C&&(rr(Ai,o),rr(qn,C))}function Mu(o){Ai.current===o&&(ar(qn),ar(Ai))}var hr=Os(0);function Ha(o){for(var g=o;g!==null;){if(g.tag===13){var C=g.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||C.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break;for(;g.sibling===null;){if(g.return===null||g.return===o)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Pu=[];function Ou(){for(var o=0;o<Pu.length;o++)Pu[o]._workInProgressVersionPrimary=null;Pu.length=0}var Wa=v.ReactCurrentDispatcher,Au=v.ReactCurrentBatchConfig,go=0,pr=null,Lr=null,Fr=null,Xa=!1,Ri=!1,Di=0,Pg=0;function Wr(){throw Error(A(321))}function Lu(o,g){if(g===null)return!1;for(var C=0;C<g.length&&C<o.length;C++)if(!$t(o[C],g[C]))return!1;return!0}function Ru(o,g,C,F,X,Q){if(go=Q,pr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Wa.current=o===null||o.memoizedState===null?Rg:Dg,o=C(F,X),Ri){Q=0;do{if(Ri=!1,Di=0,25<=Q)throw Error(A(301));Q+=1,Fr=Lr=null,g.updateQueue=null,Wa.current=Ig,o=C(F,X)}while(Ri)}if(Wa.current=$a,g=Lr!==null&&Lr.next!==null,go=0,Fr=Lr=pr=null,Xa=!1,g)throw Error(A(300));return o}function Du(){var o=Di!==0;return Di=0,o}function Yn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?pr.memoizedState=Fr=o:Fr=Fr.next=o,Fr}function Tn(){if(Lr===null){var o=pr.alternate;o=o!==null?o.memoizedState:null}else o=Lr.next;var g=Fr===null?pr.memoizedState:Fr.next;if(g!==null)Fr=g,Lr=o;else{if(o===null)throw Error(A(310));Lr=o,o={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Fr===null?pr.memoizedState=Fr=o:Fr=Fr.next=o}return Fr}function Ii(o,g){return typeof g=="function"?g(o):g}function Iu(o){var g=Tn(),C=g.queue;if(C===null)throw Error(A(311));C.lastRenderedReducer=o;var F=Lr,X=F.baseQueue,Q=C.pending;if(Q!==null){if(X!==null){var ue=X.next;X.next=Q.next,Q.next=ue}F.baseQueue=X=Q,C.pending=null}if(X!==null){Q=X.next,F=F.baseState;var je=ue=null,Ce=null,We=Q;do{var tt=We.lane;if((go&tt)===tt)Ce!==null&&(Ce=Ce.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),F=We.hasEagerState?We.eagerState:o(F,We.action);else{var rt={lane:tt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Ce===null?(je=Ce=rt,ue=F):Ce=Ce.next=rt,pr.lanes|=tt,vo|=tt}We=We.next}while(We!==null&&We!==Q);Ce===null?ue=F:Ce.next=je,$t(F,g.memoizedState)||(an=!0),g.memoizedState=F,g.baseState=ue,g.baseQueue=Ce,C.lastRenderedState=F}if(o=C.interleaved,o!==null){X=o;do Q=X.lane,pr.lanes|=Q,vo|=Q,X=X.next;while(X!==o)}else X===null&&(C.lanes=0);return[g.memoizedState,C.dispatch]}function Fu(o){var g=Tn(),C=g.queue;if(C===null)throw Error(A(311));C.lastRenderedReducer=o;var F=C.dispatch,X=C.pending,Q=g.memoizedState;if(X!==null){C.pending=null;var ue=X=X.next;do Q=o(Q,ue.action),ue=ue.next;while(ue!==X);$t(Q,g.memoizedState)||(an=!0),g.memoizedState=Q,g.baseQueue===null&&(g.baseState=Q),C.lastRenderedState=Q}return[Q,F]}function Pf(){}function Of(o,g){var C=pr,F=Tn(),X=g(),Q=!$t(F.memoizedState,X);if(Q&&(F.memoizedState=X,an=!0),F=F.queue,Nu(Rf.bind(null,C,F,o),[o]),F.getSnapshot!==g||Q||Fr!==null&&Fr.memoizedState.tag&1){if(C.flags|=2048,Fi(9,Lf.bind(null,C,F,X,g),void 0,null),Nr===null)throw Error(A(349));go&30||Af(C,g,X)}return X}function Af(o,g,C){o.flags|=16384,o={getSnapshot:g,value:C},g=pr.updateQueue,g===null?(g={lastEffect:null,stores:null},pr.updateQueue=g,g.stores=[o]):(C=g.stores,C===null?g.stores=[o]:C.push(o))}function Lf(o,g,C,F){g.value=C,g.getSnapshot=F,Df(g)&&If(o)}function Rf(o,g,C){return C(function(){Df(g)&&If(o)})}function Df(o){var g=o.getSnapshot;o=o.value;try{var C=g();return!$t(o,C)}catch{return!0}}function If(o){var g=ls(o,1);g!==null&&Bn(g,o,1,-1)}function Ff(o){var g=Yn();return typeof o=="function"&&(o=o()),g.memoizedState=g.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},g.queue=o,o=o.dispatch=Lg.bind(null,pr,o),[g.memoizedState,o]}function Fi(o,g,C,F){return o={tag:o,create:g,destroy:C,deps:F,next:null},g=pr.updateQueue,g===null?(g={lastEffect:null,stores:null},pr.updateQueue=g,g.lastEffect=o.next=o):(C=g.lastEffect,C===null?g.lastEffect=o.next=o:(F=C.next,C.next=o,o.next=F,g.lastEffect=o)),o}function Nf(){return Tn().memoizedState}function qa(o,g,C,F){var X=Yn();pr.flags|=o,X.memoizedState=Fi(1|g,C,void 0,F===void 0?null:F)}function Ya(o,g,C,F){var X=Tn();F=F===void 0?null:F;var Q=void 0;if(Lr!==null){var ue=Lr.memoizedState;if(Q=ue.destroy,F!==null&&Lu(F,ue.deps)){X.memoizedState=Fi(g,C,Q,F);return}}pr.flags|=o,X.memoizedState=Fi(1|g,C,Q,F)}function Uf(o,g){return qa(8390656,8,o,g)}function Nu(o,g){return Ya(2048,8,o,g)}function Bf(o,g){return Ya(4,2,o,g)}function Vf(o,g){return Ya(4,4,o,g)}function Gf(o,g){if(typeof g=="function")return o=o(),g(o),function(){g(null)};if(g!=null)return o=o(),g.current=o,function(){g.current=null}}function zf(o,g,C){return C=C!=null?C.concat([o]):null,Ya(4,4,Gf.bind(null,g,o),C)}function Uu(){}function Hf(o,g){var C=Tn();g=g===void 0?null:g;var F=C.memoizedState;return F!==null&&g!==null&&Lu(g,F[1])?F[0]:(C.memoizedState=[o,g],o)}function Wf(o,g){var C=Tn();g=g===void 0?null:g;var F=C.memoizedState;return F!==null&&g!==null&&Lu(g,F[1])?F[0]:(o=o(),C.memoizedState=[o,g],o)}function Xf(o,g,C){return go&21?($t(C,g)||(C=ga(),pr.lanes|=C,vo|=C,o.baseState=!0),g):(o.baseState&&(o.baseState=!1,an=!0),o.memoizedState=C)}function Og(o,g){var C=Gt;Gt=C!==0&&4>C?C:4,o(!0);var F=Au.transition;Au.transition={};try{o(!1),g()}finally{Gt=C,Au.transition=F}}function qf(){return Tn().memoizedState}function Ag(o,g,C){var F=Us(o);if(C={lane:F,action:C,hasEagerState:!1,eagerState:null,next:null},Yf(o))$f(g,C);else if(C=Tf(o,g,C,F),C!==null){var X=Qr();Bn(C,o,F,X),Kf(C,g,F)}}function Lg(o,g,C){var F=Us(o),X={lane:F,action:C,hasEagerState:!1,eagerState:null,next:null};if(Yf(o))$f(g,X);else{var Q=o.alternate;if(o.lanes===0&&(Q===null||Q.lanes===0)&&(Q=g.lastRenderedReducer,Q!==null))try{var ue=g.lastRenderedState,je=Q(ue,C);if(X.hasEagerState=!0,X.eagerState=je,$t(je,ue)){var Ce=g.interleaved;Ce===null?(X.next=X,Eu(g)):(X.next=Ce.next,Ce.next=X),g.interleaved=X;return}}catch{}finally{}C=Tf(o,g,X,F),C!==null&&(X=Qr(),Bn(C,o,F,X),Kf(C,g,F))}}function Yf(o){var g=o.alternate;return o===pr||g!==null&&g===pr}function $f(o,g){Ri=Xa=!0;var C=o.pending;C===null?g.next=g:(g.next=C.next,C.next=g),o.pending=g}function Kf(o,g,C){if(C&4194240){var F=g.lanes;F&=o.pendingLanes,C|=F,g.lanes=C,js(o,C)}}var $a={readContext:_n,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},Rg={readContext:_n,useCallback:function(o,g){return Yn().memoizedState=[o,g===void 0?null:g],o},useContext:_n,useEffect:Uf,useImperativeHandle:function(o,g,C){return C=C!=null?C.concat([o]):null,qa(4194308,4,Gf.bind(null,g,o),C)},useLayoutEffect:function(o,g){return qa(4194308,4,o,g)},useInsertionEffect:function(o,g){return qa(4,2,o,g)},useMemo:function(o,g){var C=Yn();return g=g===void 0?null:g,o=o(),C.memoizedState=[o,g],o},useReducer:function(o,g,C){var F=Yn();return g=C!==void 0?C(g):g,F.memoizedState=F.baseState=g,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:g},F.queue=o,o=o.dispatch=Ag.bind(null,pr,o),[F.memoizedState,o]},useRef:function(o){var g=Yn();return o={current:o},g.memoizedState=o},useState:Ff,useDebugValue:Uu,useDeferredValue:function(o){return Yn().memoizedState=o},useTransition:function(){var o=Ff(!1),g=o[0];return o=Og.bind(null,o[1]),Yn().memoizedState=o,[g,o]},useMutableSource:function(){},useSyncExternalStore:function(o,g,C){var F=pr,X=Yn();if(cr){if(C===void 0)throw Error(A(407));C=C()}else{if(C=g(),Nr===null)throw Error(A(349));go&30||Af(F,g,C)}X.memoizedState=C;var Q={value:C,getSnapshot:g};return X.queue=Q,Uf(Rf.bind(null,F,Q,o),[o]),F.flags|=2048,Fi(9,Lf.bind(null,F,Q,C,g),void 0,null),C},useId:function(){var o=Yn(),g=Nr.identifierPrefix;if(cr){var C=as,F=is;C=(F&~(1<<32-en(F)-1)).toString(32)+C,g=":"+g+"R"+C,C=Di++,0<C&&(g+="H"+C.toString(32)),g+=":"}else C=Pg++,g=":"+g+"r"+C.toString(32)+":";return o.memoizedState=g},unstable_isNewReconciler:!1},Dg={readContext:_n,useCallback:Hf,useContext:_n,useEffect:Nu,useImperativeHandle:zf,useInsertionEffect:Bf,useLayoutEffect:Vf,useMemo:Wf,useReducer:Iu,useRef:Nf,useState:function(){return Iu(Ii)},useDebugValue:Uu,useDeferredValue:function(o){var g=Tn();return Xf(g,Lr.memoizedState,o)},useTransition:function(){var o=Iu(Ii)[0],g=Tn().memoizedState;return[o,g]},useMutableSource:Pf,useSyncExternalStore:Of,useId:qf,unstable_isNewReconciler:!1},Ig={readContext:_n,useCallback:Hf,useContext:_n,useEffect:Nu,useImperativeHandle:zf,useInsertionEffect:Bf,useLayoutEffect:Vf,useMemo:Wf,useReducer:Fu,useRef:Nf,useState:function(){return Fu(Ii)},useDebugValue:Uu,useDeferredValue:function(o){var g=Tn();return Lr===null?g.memoizedState=o:Xf(g,Lr.memoizedState,o)},useTransition:function(){var o=Fu(Ii)[0],g=Tn().memoizedState;return[o,g]},useMutableSource:Pf,useSyncExternalStore:Of,useId:qf,unstable_isNewReconciler:!1};function Fn(o,g){if(o&&o.defaultProps){g=ee({},g),o=o.defaultProps;for(var C in o)g[C]===void 0&&(g[C]=o[C]);return g}return g}function Bu(o,g,C,F){g=o.memoizedState,C=C(F,g),C=C==null?g:ee({},g,C),o.memoizedState=C,o.lanes===0&&(o.updateQueue.baseState=C)}var Ka={isMounted:function(o){return(o=o._reactInternals)?dn(o)===o:!1},enqueueSetState:function(o,g,C){o=o._reactInternals;var F=Qr(),X=Us(o),Q=us(F,X);Q.payload=g,C!=null&&(Q.callback=C),g=Ds(o,Q,X),g!==null&&(Bn(g,o,X,F),Ga(g,o,X))},enqueueReplaceState:function(o,g,C){o=o._reactInternals;var F=Qr(),X=Us(o),Q=us(F,X);Q.tag=1,Q.payload=g,C!=null&&(Q.callback=C),g=Ds(o,Q,X),g!==null&&(Bn(g,o,X,F),Ga(g,o,X))},enqueueForceUpdate:function(o,g){o=o._reactInternals;var C=Qr(),F=Us(o),X=us(C,F);X.tag=2,g!=null&&(X.callback=g),g=Ds(o,X,F),g!==null&&(Bn(g,o,F,C),Ga(g,o,F))}};function Zf(o,g,C,F,X,Q,ue){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(F,Q,ue):g.prototype&&g.prototype.isPureReactComponent?!Dn(C,F)||!Dn(X,Q):!0}function Qf(o,g,C){var F=!1,X=As,Q=g.contextType;return typeof Q=="object"&&Q!==null?Q=_n(Q):(X=on(g)?fo:Hr.current,F=g.contextTypes,Q=(F=F!=null)?Ho(o,X):As),g=new g(C,Q),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ka,o.stateNode=g,g._reactInternals=o,F&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=X,o.__reactInternalMemoizedMaskedChildContext=Q),g}function Jf(o,g,C,F){o=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(C,F),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(C,F),g.state!==o&&Ka.enqueueReplaceState(g,g.state,null)}function Vu(o,g,C,F){var X=o.stateNode;X.props=C,X.state=o.memoizedState,X.refs={},ku(o);var Q=g.contextType;typeof Q=="object"&&Q!==null?X.context=_n(Q):(Q=on(g)?fo:Hr.current,X.context=Ho(o,Q)),X.state=o.memoizedState,Q=g.getDerivedStateFromProps,typeof Q=="function"&&(Bu(o,g,Q,C),X.state=o.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(g=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),g!==X.state&&Ka.enqueueReplaceState(X,X.state,null),za(o,C,X,F),X.state=o.memoizedState),typeof X.componentDidMount=="function"&&(o.flags|=4194308)}function Qo(o,g){try{var C="",F=g;do C+=W(F),F=F.return;while(F);var X=C}catch(Q){X=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:o,source:g,stack:X,digest:null}}function Gu(o,g,C){return{value:o,source:null,stack:C??null,digest:g??null}}function zu(o,g){try{console.error(g.value)}catch(C){setTimeout(function(){throw C})}}var Fg=typeof WeakMap=="function"?WeakMap:Map;function eh(o,g,C){C=us(-1,C),C.tag=3,C.payload={element:null};var F=g.value;return C.callback=function(){nl||(nl=!0,sc=F),zu(o,g)},C}function th(o,g,C){C=us(-1,C),C.tag=3;var F=o.type.getDerivedStateFromError;if(typeof F=="function"){var X=g.value;C.payload=function(){return F(X)},C.callback=function(){zu(o,g)}}var Q=o.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(C.callback=function(){zu(o,g),typeof F!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var ue=g.stack;this.componentDidCatch(g.value,{componentStack:ue!==null?ue:""})}),C}function rh(o,g,C){var F=o.pingCache;if(F===null){F=o.pingCache=new Fg;var X=new Set;F.set(g,X)}else X=F.get(g),X===void 0&&(X=new Set,F.set(g,X));X.has(C)||(X.add(C),o=Zg.bind(null,o,g,C),g.then(o,o))}function nh(o){do{var g;if((g=o.tag===13)&&(g=o.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return o;o=o.return}while(o!==null);return null}function sh(o,g,C,F,X){return o.mode&1?(o.flags|=65536,o.lanes=X,o):(o===g?o.flags|=65536:(o.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(g=us(-1,1),g.tag=2,Ds(C,g,1))),C.lanes|=1),o)}var Ng=v.ReactCurrentOwner,an=!1;function Zr(o,g,C,F){g.child=o===null?_f(g,null,C,F):Yo(g,o.child,C,F)}function oh(o,g,C,F,X){C=C.render;var Q=g.ref;return Ko(g,X),F=Ru(o,g,C,F,Q,X),C=Du(),o!==null&&!an?(g.updateQueue=o.updateQueue,g.flags&=-2053,o.lanes&=~X,cs(o,g,X)):(cr&&C&&gu(g),g.flags|=1,Zr(o,g,F,X),g.child)}function ih(o,g,C,F,X){if(o===null){var Q=C.type;return typeof Q=="function"&&!dc(Q)&&Q.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(g.tag=15,g.type=Q,ah(o,g,Q,F,X)):(o=ul(C.type,null,F,g,g.mode,X),o.ref=g.ref,o.return=g,g.child=o)}if(Q=o.child,!(o.lanes&X)){var ue=Q.memoizedProps;if(C=C.compare,C=C!==null?C:Dn,C(ue,F)&&o.ref===g.ref)return cs(o,g,X)}return g.flags|=1,o=Vs(Q,F),o.ref=g.ref,o.return=g,g.child=o}function ah(o,g,C,F,X){if(o!==null){var Q=o.memoizedProps;if(Dn(Q,F)&&o.ref===g.ref)if(an=!1,g.pendingProps=F=Q,(o.lanes&X)!==0)o.flags&131072&&(an=!0);else return g.lanes=o.lanes,cs(o,g,X)}return Hu(o,g,C,F,X)}function lh(o,g,C){var F=g.pendingProps,X=F.children,Q=o!==null?o.memoizedState:null;if(F.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(ei,xn),xn|=C;else{if(!(C&1073741824))return o=Q!==null?Q.baseLanes|C:C,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:o,cachePool:null,transitions:null},g.updateQueue=null,rr(ei,xn),xn|=o,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Q!==null?Q.baseLanes:C,rr(ei,xn),xn|=F}else Q!==null?(F=Q.baseLanes|C,g.memoizedState=null):F=C,rr(ei,xn),xn|=F;return Zr(o,g,X,C),g.child}function uh(o,g){var C=g.ref;(o===null&&C!==null||o!==null&&o.ref!==C)&&(g.flags|=512,g.flags|=2097152)}function Hu(o,g,C,F,X){var Q=on(C)?fo:Hr.current;return Q=Ho(g,Q),Ko(g,X),C=Ru(o,g,C,F,Q,X),F=Du(),o!==null&&!an?(g.updateQueue=o.updateQueue,g.flags&=-2053,o.lanes&=~X,cs(o,g,X)):(cr&&F&&gu(g),g.flags|=1,Zr(o,g,C,X),g.child)}function ch(o,g,C,F,X){if(on(C)){var Q=!0;Ra(g)}else Q=!1;if(Ko(g,X),g.stateNode===null)Qa(o,g),Qf(g,C,F),Vu(g,C,F,X),F=!0;else if(o===null){var ue=g.stateNode,je=g.memoizedProps;ue.props=je;var Ce=ue.context,We=C.contextType;typeof We=="object"&&We!==null?We=_n(We):(We=on(C)?fo:Hr.current,We=Ho(g,We));var tt=C.getDerivedStateFromProps,rt=typeof tt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";rt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(je!==F||Ce!==We)&&Jf(g,ue,F,We),Rs=!1;var et=g.memoizedState;ue.state=et,za(g,F,ue,X),Ce=g.memoizedState,je!==F||et!==Ce||sn.current||Rs?(typeof tt=="function"&&(Bu(g,C,tt,F),Ce=g.memoizedState),(je=Rs||Zf(g,C,je,F,et,Ce,We))?(rt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=F,g.memoizedState=Ce),ue.props=F,ue.state=Ce,ue.context=We,F=je):(typeof ue.componentDidMount=="function"&&(g.flags|=4194308),F=!1)}else{ue=g.stateNode,Ef(o,g),je=g.memoizedProps,We=g.type===g.elementType?je:Fn(g.type,je),ue.props=We,rt=g.pendingProps,et=ue.context,Ce=C.contextType,typeof Ce=="object"&&Ce!==null?Ce=_n(Ce):(Ce=on(C)?fo:Hr.current,Ce=Ho(g,Ce));var mt=C.getDerivedStateFromProps;(tt=typeof mt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(je!==rt||et!==Ce)&&Jf(g,ue,F,Ce),Rs=!1,et=g.memoizedState,ue.state=et,za(g,F,ue,X);var jt=g.memoizedState;je!==rt||et!==jt||sn.current||Rs?(typeof mt=="function"&&(Bu(g,C,mt,F),jt=g.memoizedState),(We=Rs||Zf(g,C,We,F,et,jt,Ce)||!1)?(tt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(F,jt,Ce),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(F,jt,Ce)),typeof ue.componentDidUpdate=="function"&&(g.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ue.componentDidUpdate!="function"||je===o.memoizedProps&&et===o.memoizedState||(g.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||je===o.memoizedProps&&et===o.memoizedState||(g.flags|=1024),g.memoizedProps=F,g.memoizedState=jt),ue.props=F,ue.state=jt,ue.context=Ce,F=We):(typeof ue.componentDidUpdate!="function"||je===o.memoizedProps&&et===o.memoizedState||(g.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||je===o.memoizedProps&&et===o.memoizedState||(g.flags|=1024),F=!1)}return Wu(o,g,C,F,Q,X)}function Wu(o,g,C,F,X,Q){uh(o,g);var ue=(g.flags&128)!==0;if(!F&&!ue)return X&&mf(g,C,!1),cs(o,g,Q);F=g.stateNode,Ng.current=g;var je=ue&&typeof C.getDerivedStateFromError!="function"?null:F.render();return g.flags|=1,o!==null&&ue?(g.child=Yo(g,o.child,null,Q),g.child=Yo(g,null,je,Q)):Zr(o,g,je,Q),g.memoizedState=F.state,X&&mf(g,C,!0),g.child}function dh(o){var g=o.stateNode;g.pendingContext?hf(o,g.pendingContext,g.pendingContext!==g.context):g.context&&hf(o,g.context,!1),Cu(o,g.containerInfo)}function fh(o,g,C,F,X){return qo(),wu(X),g.flags|=256,Zr(o,g,C,F),g.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function qu(o){return{baseLanes:o,cachePool:null,transitions:null}}function hh(o,g,C){var F=g.pendingProps,X=hr.current,Q=!1,ue=(g.flags&128)!==0,je;if((je=ue)||(je=o!==null&&o.memoizedState===null?!1:(X&2)!==0),je?(Q=!0,g.flags&=-129):(o===null||o.memoizedState!==null)&&(X|=1),rr(hr,X&1),o===null)return xu(g),o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(g.mode&1?o.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(ue=F.children,o=F.fallback,Q?(F=g.mode,Q=g.child,ue={mode:"hidden",children:ue},!(F&1)&&Q!==null?(Q.childLanes=0,Q.pendingProps=ue):Q=cl(ue,F,0,null),o=jo(o,F,C,null),Q.return=g,o.return=g,Q.sibling=o,g.child=Q,g.child.memoizedState=qu(C),g.memoizedState=Xu,o):Yu(g,ue));if(X=o.memoizedState,X!==null&&(je=X.dehydrated,je!==null))return Ug(o,g,ue,F,je,X,C);if(Q){Q=F.fallback,ue=g.mode,X=o.child,je=X.sibling;var Ce={mode:"hidden",children:F.children};return!(ue&1)&&g.child!==X?(F=g.child,F.childLanes=0,F.pendingProps=Ce,g.deletions=null):(F=Vs(X,Ce),F.subtreeFlags=X.subtreeFlags&14680064),je!==null?Q=Vs(je,Q):(Q=jo(Q,ue,C,null),Q.flags|=2),Q.return=g,F.return=g,F.sibling=Q,g.child=F,F=Q,Q=g.child,ue=o.child.memoizedState,ue=ue===null?qu(C):{baseLanes:ue.baseLanes|C,cachePool:null,transitions:ue.transitions},Q.memoizedState=ue,Q.childLanes=o.childLanes&~C,g.memoizedState=Xu,F}return Q=o.child,o=Q.sibling,F=Vs(Q,{mode:"visible",children:F.children}),!(g.mode&1)&&(F.lanes=C),F.return=g,F.sibling=null,o!==null&&(C=g.deletions,C===null?(g.deletions=[o],g.flags|=16):C.push(o)),g.child=F,g.memoizedState=null,F}function Yu(o,g){return g=cl({mode:"visible",children:g},o.mode,0,null),g.return=o,o.child=g}function Za(o,g,C,F){return F!==null&&wu(F),Yo(g,o.child,null,C),o=Yu(g,g.pendingProps.children),o.flags|=2,g.memoizedState=null,o}function Ug(o,g,C,F,X,Q,ue){if(C)return g.flags&256?(g.flags&=-257,F=Gu(Error(A(422))),Za(o,g,ue,F)):g.memoizedState!==null?(g.child=o.child,g.flags|=128,null):(Q=F.fallback,X=g.mode,F=cl({mode:"visible",children:F.children},X,0,null),Q=jo(Q,X,ue,null),Q.flags|=2,F.return=g,Q.return=g,F.sibling=Q,g.child=F,g.mode&1&&Yo(g,o.child,null,ue),g.child.memoizedState=qu(ue),g.memoizedState=Xu,Q);if(!(g.mode&1))return Za(o,g,ue,null);if(X.data==="$!"){if(F=X.nextSibling&&X.nextSibling.dataset,F)var je=F.dgst;return F=je,Q=Error(A(419)),F=Gu(Q,F,void 0),Za(o,g,ue,F)}if(je=(ue&o.childLanes)!==0,an||je){if(F=Nr,F!==null){switch(ue&-ue){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=X&(F.suspendedLanes|ue)?0:X,X!==0&&X!==Q.retryLane&&(Q.retryLane=X,ls(o,X),Bn(F,o,X,-1))}return cc(),F=Gu(Error(A(421))),Za(o,g,ue,F)}return X.data==="$?"?(g.flags|=128,g.child=o.child,g=Qg.bind(null,o),X._reactRetry=g,null):(o=Q.treeContext,bn=Ps(X.nextSibling),vn=g,cr=!0,In=null,o!==null&&(jn[Sn++]=is,jn[Sn++]=as,jn[Sn++]=ho,is=o.id,as=o.overflow,ho=g),g=Yu(g,F.children),g.flags|=4096,g)}function ph(o,g,C){o.lanes|=g;var F=o.alternate;F!==null&&(F.lanes|=g),Tu(o.return,g,C)}function $u(o,g,C,F,X){var Q=o.memoizedState;Q===null?o.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:F,tail:C,tailMode:X}:(Q.isBackwards=g,Q.rendering=null,Q.renderingStartTime=0,Q.last=F,Q.tail=C,Q.tailMode=X)}function mh(o,g,C){var F=g.pendingProps,X=F.revealOrder,Q=F.tail;if(Zr(o,g,F.children,C),F=hr.current,F&2)F=F&1|2,g.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=g.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ph(o,C,g);else if(o.tag===19)ph(o,C,g);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===g)break e;for(;o.sibling===null;){if(o.return===null||o.return===g)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}F&=1}if(rr(hr,F),!(g.mode&1))g.memoizedState=null;else switch(X){case"forwards":for(C=g.child,X=null;C!==null;)o=C.alternate,o!==null&&Ha(o)===null&&(X=C),C=C.sibling;C=X,C===null?(X=g.child,g.child=null):(X=C.sibling,C.sibling=null),$u(g,!1,X,C,Q);break;case"backwards":for(C=null,X=g.child,g.child=null;X!==null;){if(o=X.alternate,o!==null&&Ha(o)===null){g.child=X;break}o=X.sibling,X.sibling=C,C=X,X=o}$u(g,!0,C,null,Q);break;case"together":$u(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Qa(o,g){!(g.mode&1)&&o!==null&&(o.alternate=null,g.alternate=null,g.flags|=2)}function cs(o,g,C){if(o!==null&&(g.dependencies=o.dependencies),vo|=g.lanes,!(C&g.childLanes))return null;if(o!==null&&g.child!==o.child)throw Error(A(153));if(g.child!==null){for(o=g.child,C=Vs(o,o.pendingProps),g.child=C,C.return=g;o.sibling!==null;)o=o.sibling,C=C.sibling=Vs(o,o.pendingProps),C.return=g;C.sibling=null}return g.child}function Bg(o,g,C){switch(g.tag){case 3:dh(g),qo();break;case 5:Mf(g);break;case 1:on(g.type)&&Ra(g);break;case 4:Cu(g,g.stateNode.containerInfo);break;case 10:var F=g.type._context,X=g.memoizedProps.value;rr(Ba,F._currentValue),F._currentValue=X;break;case 13:if(F=g.memoizedState,F!==null)return F.dehydrated!==null?(rr(hr,hr.current&1),g.flags|=128,null):C&g.child.childLanes?hh(o,g,C):(rr(hr,hr.current&1),o=cs(o,g,C),o!==null?o.sibling:null);rr(hr,hr.current&1);break;case 19:if(F=(C&g.childLanes)!==0,o.flags&128){if(F)return mh(o,g,C);g.flags|=128}if(X=g.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),rr(hr,hr.current),F)break;return null;case 22:case 23:return g.lanes=0,lh(o,g,C)}return cs(o,g,C)}var yh,Ku,gh,vh;yh=function(o,g){for(var C=g.child;C!==null;){if(C.tag===5||C.tag===6)o.appendChild(C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Ku=function(){},gh=function(o,g,C,F){var X=o.memoizedProps;if(X!==F){o=g.stateNode,yo(qn.current);var Q=null;switch(C){case"input":X=ae(o,X),F=ae(o,F),Q=[];break;case"select":X=ee({},X,{value:void 0}),F=ee({},F,{value:void 0}),Q=[];break;case"textarea":X=Fe(o,X),F=Fe(o,F),Q=[];break;default:typeof X.onClick!="function"&&typeof F.onClick=="function"&&(o.onclick=Oa)}Le(C,F);var ue;C=null;for(We in X)if(!F.hasOwnProperty(We)&&X.hasOwnProperty(We)&&X[We]!=null)if(We==="style"){var je=X[We];for(ue in je)je.hasOwnProperty(ue)&&(C||(C={}),C[ue]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(_.hasOwnProperty(We)?Q||(Q=[]):(Q=Q||[]).push(We,null));for(We in F){var Ce=F[We];if(je=X!=null?X[We]:void 0,F.hasOwnProperty(We)&&Ce!==je&&(Ce!=null||je!=null))if(We==="style")if(je){for(ue in je)!je.hasOwnProperty(ue)||Ce&&Ce.hasOwnProperty(ue)||(C||(C={}),C[ue]="");for(ue in Ce)Ce.hasOwnProperty(ue)&&je[ue]!==Ce[ue]&&(C||(C={}),C[ue]=Ce[ue])}else C||(Q||(Q=[]),Q.push(We,C)),C=Ce;else We==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,je=je?je.__html:void 0,Ce!=null&&je!==Ce&&(Q=Q||[]).push(We,Ce)):We==="children"?typeof Ce!="string"&&typeof Ce!="number"||(Q=Q||[]).push(We,""+Ce):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(_.hasOwnProperty(We)?(Ce!=null&&We==="onScroll"&&ir("scroll",o),Q||je===Ce||(Q=[])):(Q=Q||[]).push(We,Ce))}C&&(Q=Q||[]).push("style",C);var We=Q;(g.updateQueue=We)&&(g.flags|=4)}},vh=function(o,g,C,F){C!==F&&(g.flags|=4)};function Ni(o,g){if(!cr)switch(o.tailMode){case"hidden":g=o.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?o.tail=null:C.sibling=null;break;case"collapsed":C=o.tail;for(var F=null;C!==null;)C.alternate!==null&&(F=C),C=C.sibling;F===null?g||o.tail===null?o.tail=null:o.tail.sibling=null:F.sibling=null}}function Xr(o){var g=o.alternate!==null&&o.alternate.child===o.child,C=0,F=0;if(g)for(var X=o.child;X!==null;)C|=X.lanes|X.childLanes,F|=X.subtreeFlags&14680064,F|=X.flags&14680064,X.return=o,X=X.sibling;else for(X=o.child;X!==null;)C|=X.lanes|X.childLanes,F|=X.subtreeFlags,F|=X.flags,X.return=o,X=X.sibling;return o.subtreeFlags|=F,o.childLanes=C,g}function Vg(o,g,C){var F=g.pendingProps;switch(vu(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(g),null;case 1:return on(g.type)&&La(),Xr(g),null;case 3:return F=g.stateNode,Zo(),ar(sn),ar(Hr),Ou(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(o===null||o.child===null)&&(Na(g)?g.flags|=4:o===null||o.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,In!==null&&(ac(In),In=null))),Ku(o,g),Xr(g),null;case 5:Mu(g);var X=yo(Li.current);if(C=g.type,o!==null&&g.stateNode!=null)gh(o,g,C,F,X),o.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!F){if(g.stateNode===null)throw Error(A(166));return Xr(g),null}if(o=yo(qn.current),Na(g)){F=g.stateNode,C=g.type;var Q=g.memoizedProps;switch(F[Xn]=g,F[Ci]=Q,o=(g.mode&1)!==0,C){case"dialog":ir("cancel",F),ir("close",F);break;case"iframe":case"object":case"embed":ir("load",F);break;case"video":case"audio":for(X=0;X<Ti.length;X++)ir(Ti[X],F);break;case"source":ir("error",F);break;case"img":case"image":case"link":ir("error",F),ir("load",F);break;case"details":ir("toggle",F);break;case"input":ve(F,Q),ir("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!Q.multiple},ir("invalid",F);break;case"textarea":pt(F,Q),ir("invalid",F)}Le(C,Q),X=null;for(var ue in Q)if(Q.hasOwnProperty(ue)){var je=Q[ue];ue==="children"?typeof je=="string"?F.textContent!==je&&(Q.suppressHydrationWarning!==!0&&Pa(F.textContent,je,o),X=["children",je]):typeof je=="number"&&F.textContent!==""+je&&(Q.suppressHydrationWarning!==!0&&Pa(F.textContent,je,o),X=["children",""+je]):_.hasOwnProperty(ue)&&je!=null&&ue==="onScroll"&&ir("scroll",F)}switch(C){case"input":de(F),Se(F,Q,!0);break;case"textarea":de(F),it(F);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(F.onclick=Oa)}F=X,g.updateQueue=F,F!==null&&(g.flags|=4)}else{ue=X.nodeType===9?X:X.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ut(C)),o==="http://www.w3.org/1999/xhtml"?C==="script"?(o=ue.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof F.is=="string"?o=ue.createElement(C,{is:F.is}):(o=ue.createElement(C),C==="select"&&(ue=o,F.multiple?ue.multiple=!0:F.size&&(ue.size=F.size))):o=ue.createElementNS(o,C),o[Xn]=g,o[Ci]=F,yh(o,g,!1,!1),g.stateNode=o;e:{switch(ue=He(C,F),C){case"dialog":ir("cancel",o),ir("close",o),X=F;break;case"iframe":case"object":case"embed":ir("load",o),X=F;break;case"video":case"audio":for(X=0;X<Ti.length;X++)ir(Ti[X],o);X=F;break;case"source":ir("error",o),X=F;break;case"img":case"image":case"link":ir("error",o),ir("load",o),X=F;break;case"details":ir("toggle",o),X=F;break;case"input":ve(o,F),X=ae(o,F),ir("invalid",o);break;case"option":X=F;break;case"select":o._wrapperState={wasMultiple:!!F.multiple},X=ee({},F,{value:void 0}),ir("invalid",o);break;case"textarea":pt(o,F),X=Fe(o,F),ir("invalid",o);break;default:X=F}Le(C,X),je=X;for(Q in je)if(je.hasOwnProperty(Q)){var Ce=je[Q];Q==="style"?he(o,Ce):Q==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&qe(o,Ce)):Q==="children"?typeof Ce=="string"?(C!=="textarea"||Ce!=="")&&De(o,Ce):typeof Ce=="number"&&De(o,""+Ce):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(_.hasOwnProperty(Q)?Ce!=null&&Q==="onScroll"&&ir("scroll",o):Ce!=null&&b(o,Q,Ce,ue))}switch(C){case"input":de(o),Se(o,F,!1);break;case"textarea":de(o),it(o);break;case"option":F.value!=null&&o.setAttribute("value",""+oe(F.value));break;case"select":o.multiple=!!F.multiple,Q=F.value,Q!=null?Ye(o,!!F.multiple,Q,!1):F.defaultValue!=null&&Ye(o,!!F.multiple,F.defaultValue,!0);break;default:typeof X.onClick=="function"&&(o.onclick=Oa)}switch(C){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Xr(g),null;case 6:if(o&&g.stateNode!=null)vh(o,g,o.memoizedProps,F);else{if(typeof F!="string"&&g.stateNode===null)throw Error(A(166));if(C=yo(Li.current),yo(qn.current),Na(g)){if(F=g.stateNode,C=g.memoizedProps,F[Xn]=g,(Q=F.nodeValue!==C)&&(o=vn,o!==null))switch(o.tag){case 3:Pa(F.nodeValue,C,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Pa(F.nodeValue,C,(o.mode&1)!==0)}Q&&(g.flags|=4)}else F=(C.nodeType===9?C:C.ownerDocument).createTextNode(F),F[Xn]=g,g.stateNode=F}return Xr(g),null;case 13:if(ar(hr),F=g.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(cr&&bn!==null&&g.mode&1&&!(g.flags&128))wf(),qo(),g.flags|=98560,Q=!1;else if(Q=Na(g),F!==null&&F.dehydrated!==null){if(o===null){if(!Q)throw Error(A(318));if(Q=g.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(A(317));Q[Xn]=g}else qo(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;Xr(g),Q=!1}else In!==null&&(ac(In),In=null),Q=!0;if(!Q)return g.flags&65536?g:null}return g.flags&128?(g.lanes=C,g):(F=F!==null,F!==(o!==null&&o.memoizedState!==null)&&F&&(g.child.flags|=8192,g.mode&1&&(o===null||hr.current&1?Rr===0&&(Rr=3):cc())),g.updateQueue!==null&&(g.flags|=4),Xr(g),null);case 4:return Zo(),Ku(o,g),o===null&&Ei(g.stateNode.containerInfo),Xr(g),null;case 10:return _u(g.type._context),Xr(g),null;case 17:return on(g.type)&&La(),Xr(g),null;case 19:if(ar(hr),Q=g.memoizedState,Q===null)return Xr(g),null;if(F=(g.flags&128)!==0,ue=Q.rendering,ue===null)if(F)Ni(Q,!1);else{if(Rr!==0||o!==null&&o.flags&128)for(o=g.child;o!==null;){if(ue=Ha(o),ue!==null){for(g.flags|=128,Ni(Q,!1),F=ue.updateQueue,F!==null&&(g.updateQueue=F,g.flags|=4),g.subtreeFlags=0,F=C,C=g.child;C!==null;)Q=C,o=F,Q.flags&=14680066,ue=Q.alternate,ue===null?(Q.childLanes=0,Q.lanes=o,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=ue.childLanes,Q.lanes=ue.lanes,Q.child=ue.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=ue.memoizedProps,Q.memoizedState=ue.memoizedState,Q.updateQueue=ue.updateQueue,Q.type=ue.type,o=ue.dependencies,Q.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),C=C.sibling;return rr(hr,hr.current&1|2),g.child}o=o.sibling}Q.tail!==null&&kt()>ti&&(g.flags|=128,F=!0,Ni(Q,!1),g.lanes=4194304)}else{if(!F)if(o=Ha(ue),o!==null){if(g.flags|=128,F=!0,C=o.updateQueue,C!==null&&(g.updateQueue=C,g.flags|=4),Ni(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!ue.alternate&&!cr)return Xr(g),null}else 2*kt()-Q.renderingStartTime>ti&&C!==1073741824&&(g.flags|=128,F=!0,Ni(Q,!1),g.lanes=4194304);Q.isBackwards?(ue.sibling=g.child,g.child=ue):(C=Q.last,C!==null?C.sibling=ue:g.child=ue,Q.last=ue)}return Q.tail!==null?(g=Q.tail,Q.rendering=g,Q.tail=g.sibling,Q.renderingStartTime=kt(),g.sibling=null,C=hr.current,rr(hr,F?C&1|2:C&1),g):(Xr(g),null);case 22:case 23:return uc(),F=g.memoizedState!==null,o!==null&&o.memoizedState!==null!==F&&(g.flags|=8192),F&&g.mode&1?xn&1073741824&&(Xr(g),g.subtreeFlags&6&&(g.flags|=8192)):Xr(g),null;case 24:return null;case 25:return null}throw Error(A(156,g.tag))}function Gg(o,g){switch(vu(g),g.tag){case 1:return on(g.type)&&La(),o=g.flags,o&65536?(g.flags=o&-65537|128,g):null;case 3:return Zo(),ar(sn),ar(Hr),Ou(),o=g.flags,o&65536&&!(o&128)?(g.flags=o&-65537|128,g):null;case 5:return Mu(g),null;case 13:if(ar(hr),o=g.memoizedState,o!==null&&o.dehydrated!==null){if(g.alternate===null)throw Error(A(340));qo()}return o=g.flags,o&65536?(g.flags=o&-65537|128,g):null;case 19:return ar(hr),null;case 4:return Zo(),null;case 10:return _u(g.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var Ja=!1,qr=!1,zg=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Jo(o,g){var C=o.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(F){xr(o,g,F)}else C.current=null}function Zu(o,g,C){try{C()}catch(F){xr(o,g,F)}}var bh=!1;function Hg(o,g){if(uu=yn,o=Kd(),tu(o)){if("selectionStart"in o)var C={start:o.selectionStart,end:o.selectionEnd};else e:{C=(C=o.ownerDocument)&&C.defaultView||window;var F=C.getSelection&&C.getSelection();if(F&&F.rangeCount!==0){C=F.anchorNode;var X=F.anchorOffset,Q=F.focusNode;F=F.focusOffset;try{C.nodeType,Q.nodeType}catch{C=null;break e}var ue=0,je=-1,Ce=-1,We=0,tt=0,rt=o,et=null;t:for(;;){for(var mt;rt!==C||X!==0&&rt.nodeType!==3||(je=ue+X),rt!==Q||F!==0&&rt.nodeType!==3||(Ce=ue+F),rt.nodeType===3&&(ue+=rt.nodeValue.length),(mt=rt.firstChild)!==null;)et=rt,rt=mt;for(;;){if(rt===o)break t;if(et===C&&++We===X&&(je=ue),et===Q&&++tt===F&&(Ce=ue),(mt=rt.nextSibling)!==null)break;rt=et,et=rt.parentNode}rt=mt}C=je===-1||Ce===-1?null:{start:je,end:Ce}}else C=null}C=C||{start:0,end:0}}else C=null;for(cu={focusedElem:o,selectionRange:C},yn=!1,bt=g;bt!==null;)if(g=bt,o=g.child,(g.subtreeFlags&1028)!==0&&o!==null)o.return=g,bt=o;else for(;bt!==null;){g=bt;try{var jt=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var St=jt.memoizedProps,Sr=jt.memoizedState,Ge=g.stateNode,Ae=Ge.getSnapshotBeforeUpdate(g.elementType===g.type?St:Fn(g.type,St),Sr);Ge.__reactInternalSnapshotBeforeUpdate=Ae}break;case 3:var ze=g.stateNode.containerInfo;ze.nodeType===1?ze.textContent="":ze.nodeType===9&&ze.documentElement&&ze.removeChild(ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(at){xr(g,g.return,at)}if(o=g.sibling,o!==null){o.return=g.return,bt=o;break}bt=g.return}return jt=bh,bh=!1,jt}function Ui(o,g,C){var F=g.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var X=F=F.next;do{if((X.tag&o)===o){var Q=X.destroy;X.destroy=void 0,Q!==void 0&&Zu(g,C,Q)}X=X.next}while(X!==F)}}function el(o,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&o)===o){var F=C.create;C.destroy=F()}C=C.next}while(C!==g)}}function Qu(o){var g=o.ref;if(g!==null){var C=o.stateNode;switch(o.tag){case 5:o=C;break;default:o=C}typeof g=="function"?g(o):g.current=o}}function xh(o){var g=o.alternate;g!==null&&(o.alternate=null,xh(g)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(g=o.stateNode,g!==null&&(delete g[Xn],delete g[Ci],delete g[pu],delete g[Eg],delete g[kg])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function wh(o){return o.tag===5||o.tag===3||o.tag===4}function jh(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wh(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ju(o,g,C){var F=o.tag;if(F===5||F===6)o=o.stateNode,g?C.nodeType===8?C.parentNode.insertBefore(o,g):C.insertBefore(o,g):(C.nodeType===8?(g=C.parentNode,g.insertBefore(o,C)):(g=C,g.appendChild(o)),C=C._reactRootContainer,C!=null||g.onclick!==null||(g.onclick=Oa));else if(F!==4&&(o=o.child,o!==null))for(Ju(o,g,C),o=o.sibling;o!==null;)Ju(o,g,C),o=o.sibling}function ec(o,g,C){var F=o.tag;if(F===5||F===6)o=o.stateNode,g?C.insertBefore(o,g):C.appendChild(o);else if(F!==4&&(o=o.child,o!==null))for(ec(o,g,C),o=o.sibling;o!==null;)ec(o,g,C),o=o.sibling}var Br=null,Nn=!1;function Is(o,g,C){for(C=C.child;C!==null;)Sh(o,g,C),C=C.sibling}function Sh(o,g,C){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Dr,C)}catch{}switch(C.tag){case 5:qr||Jo(C,g);case 6:var F=Br,X=Nn;Br=null,Is(o,g,C),Br=F,Nn=X,Br!==null&&(Nn?(o=Br,C=C.stateNode,o.nodeType===8?o.parentNode.removeChild(C):o.removeChild(C)):Br.removeChild(C.stateNode));break;case 18:Br!==null&&(Nn?(o=Br,C=C.stateNode,o.nodeType===8?hu(o.parentNode,C):o.nodeType===1&&hu(o,C),An(o)):hu(Br,C.stateNode));break;case 4:F=Br,X=Nn,Br=C.stateNode.containerInfo,Nn=!0,Is(o,g,C),Br=F,Nn=X;break;case 0:case 11:case 14:case 15:if(!qr&&(F=C.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){X=F=F.next;do{var Q=X,ue=Q.destroy;Q=Q.tag,ue!==void 0&&(Q&2||Q&4)&&Zu(C,g,ue),X=X.next}while(X!==F)}Is(o,g,C);break;case 1:if(!qr&&(Jo(C,g),F=C.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=C.memoizedProps,F.state=C.memoizedState,F.componentWillUnmount()}catch(je){xr(C,g,je)}Is(o,g,C);break;case 21:Is(o,g,C);break;case 22:C.mode&1?(qr=(F=qr)||C.memoizedState!==null,Is(o,g,C),qr=F):Is(o,g,C);break;default:Is(o,g,C)}}function _h(o){var g=o.updateQueue;if(g!==null){o.updateQueue=null;var C=o.stateNode;C===null&&(C=o.stateNode=new zg),g.forEach(function(F){var X=Jg.bind(null,o,F);C.has(F)||(C.add(F),F.then(X,X))})}}function Un(o,g){var C=g.deletions;if(C!==null)for(var F=0;F<C.length;F++){var X=C[F];try{var Q=o,ue=g,je=ue;e:for(;je!==null;){switch(je.tag){case 5:Br=je.stateNode,Nn=!1;break e;case 3:Br=je.stateNode.containerInfo,Nn=!0;break e;case 4:Br=je.stateNode.containerInfo,Nn=!0;break e}je=je.return}if(Br===null)throw Error(A(160));Sh(Q,ue,X),Br=null,Nn=!1;var Ce=X.alternate;Ce!==null&&(Ce.return=null),X.return=null}catch(We){xr(X,g,We)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)Th(g,o),g=g.sibling}function Th(o,g){var C=o.alternate,F=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Un(g,o),$n(o),F&4){try{Ui(3,o,o.return),el(3,o)}catch(St){xr(o,o.return,St)}try{Ui(5,o,o.return)}catch(St){xr(o,o.return,St)}}break;case 1:Un(g,o),$n(o),F&512&&C!==null&&Jo(C,C.return);break;case 5:if(Un(g,o),$n(o),F&512&&C!==null&&Jo(C,C.return),o.flags&32){var X=o.stateNode;try{De(X,"")}catch(St){xr(o,o.return,St)}}if(F&4&&(X=o.stateNode,X!=null)){var Q=o.memoizedProps,ue=C!==null?C.memoizedProps:Q,je=o.type,Ce=o.updateQueue;if(o.updateQueue=null,Ce!==null)try{je==="input"&&Q.type==="radio"&&Q.name!=null&&_e(X,Q),He(je,ue);var We=He(je,Q);for(ue=0;ue<Ce.length;ue+=2){var tt=Ce[ue],rt=Ce[ue+1];tt==="style"?he(X,rt):tt==="dangerouslySetInnerHTML"?qe(X,rt):tt==="children"?De(X,rt):b(X,tt,rt,We)}switch(je){case"input":Me(X,Q);break;case"textarea":ot(X,Q);break;case"select":var et=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!Q.multiple;var mt=Q.value;mt!=null?Ye(X,!!Q.multiple,mt,!1):et!==!!Q.multiple&&(Q.defaultValue!=null?Ye(X,!!Q.multiple,Q.defaultValue,!0):Ye(X,!!Q.multiple,Q.multiple?[]:"",!1))}X[Ci]=Q}catch(St){xr(o,o.return,St)}}break;case 6:if(Un(g,o),$n(o),F&4){if(o.stateNode===null)throw Error(A(162));X=o.stateNode,Q=o.memoizedProps;try{X.nodeValue=Q}catch(St){xr(o,o.return,St)}}break;case 3:if(Un(g,o),$n(o),F&4&&C!==null&&C.memoizedState.isDehydrated)try{An(g.containerInfo)}catch(St){xr(o,o.return,St)}break;case 4:Un(g,o),$n(o);break;case 13:Un(g,o),$n(o),X=o.child,X.flags&8192&&(Q=X.memoizedState!==null,X.stateNode.isHidden=Q,!Q||X.alternate!==null&&X.alternate.memoizedState!==null||(nc=kt())),F&4&&_h(o);break;case 22:if(tt=C!==null&&C.memoizedState!==null,o.mode&1?(qr=(We=qr)||tt,Un(g,o),qr=We):Un(g,o),$n(o),F&8192){if(We=o.memoizedState!==null,(o.stateNode.isHidden=We)&&!tt&&o.mode&1)for(bt=o,tt=o.child;tt!==null;){for(rt=bt=tt;bt!==null;){switch(et=bt,mt=et.child,et.tag){case 0:case 11:case 14:case 15:Ui(4,et,et.return);break;case 1:Jo(et,et.return);var jt=et.stateNode;if(typeof jt.componentWillUnmount=="function"){F=et,C=et.return;try{g=F,jt.props=g.memoizedProps,jt.state=g.memoizedState,jt.componentWillUnmount()}catch(St){xr(F,C,St)}}break;case 5:Jo(et,et.return);break;case 22:if(et.memoizedState!==null){Ch(rt);continue}}mt!==null?(mt.return=et,bt=mt):Ch(rt)}tt=tt.sibling}e:for(tt=null,rt=o;;){if(rt.tag===5){if(tt===null){tt=rt;try{X=rt.stateNode,We?(Q=X.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(je=rt.stateNode,Ce=rt.memoizedProps.style,ue=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,je.style.display=re("display",ue))}catch(St){xr(o,o.return,St)}}}else if(rt.tag===6){if(tt===null)try{rt.stateNode.nodeValue=We?"":rt.memoizedProps}catch(St){xr(o,o.return,St)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===o)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===o)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===o)break e;tt===rt&&(tt=null),rt=rt.return}tt===rt&&(tt=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Un(g,o),$n(o),F&4&&_h(o);break;case 21:break;default:Un(g,o),$n(o)}}function $n(o){var g=o.flags;if(g&2){try{e:{for(var C=o.return;C!==null;){if(wh(C)){var F=C;break e}C=C.return}throw Error(A(160))}switch(F.tag){case 5:var X=F.stateNode;F.flags&32&&(De(X,""),F.flags&=-33);var Q=jh(o);ec(o,Q,X);break;case 3:case 4:var ue=F.stateNode.containerInfo,je=jh(o);Ju(o,je,ue);break;default:throw Error(A(161))}}catch(Ce){xr(o,o.return,Ce)}o.flags&=-3}g&4096&&(o.flags&=-4097)}function Wg(o,g,C){bt=o,Eh(o)}function Eh(o,g,C){for(var F=(o.mode&1)!==0;bt!==null;){var X=bt,Q=X.child;if(X.tag===22&&F){var ue=X.memoizedState!==null||Ja;if(!ue){var je=X.alternate,Ce=je!==null&&je.memoizedState!==null||qr;je=Ja;var We=qr;if(Ja=ue,(qr=Ce)&&!We)for(bt=X;bt!==null;)ue=bt,Ce=ue.child,ue.tag===22&&ue.memoizedState!==null?Mh(X):Ce!==null?(Ce.return=ue,bt=Ce):Mh(X);for(;Q!==null;)bt=Q,Eh(Q),Q=Q.sibling;bt=X,Ja=je,qr=We}kh(o)}else X.subtreeFlags&8772&&Q!==null?(Q.return=X,bt=Q):kh(o)}}function kh(o){for(;bt!==null;){var g=bt;if(g.flags&8772){var C=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:qr||el(5,g);break;case 1:var F=g.stateNode;if(g.flags&4&&!qr)if(C===null)F.componentDidMount();else{var X=g.elementType===g.type?C.memoizedProps:Fn(g.type,C.memoizedProps);F.componentDidUpdate(X,C.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Q=g.updateQueue;Q!==null&&Cf(g,Q,F);break;case 3:var ue=g.updateQueue;if(ue!==null){if(C=null,g.child!==null)switch(g.child.tag){case 5:C=g.child.stateNode;break;case 1:C=g.child.stateNode}Cf(g,ue,C)}break;case 5:var je=g.stateNode;if(C===null&&g.flags&4){C=je;var Ce=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&C.focus();break;case"img":Ce.src&&(C.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var We=g.alternate;if(We!==null){var tt=We.memoizedState;if(tt!==null){var rt=tt.dehydrated;rt!==null&&An(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}qr||g.flags&512&&Qu(g)}catch(et){xr(g,g.return,et)}}if(g===o){bt=null;break}if(C=g.sibling,C!==null){C.return=g.return,bt=C;break}bt=g.return}}function Ch(o){for(;bt!==null;){var g=bt;if(g===o){bt=null;break}var C=g.sibling;if(C!==null){C.return=g.return,bt=C;break}bt=g.return}}function Mh(o){for(;bt!==null;){var g=bt;try{switch(g.tag){case 0:case 11:case 15:var C=g.return;try{el(4,g)}catch(Ce){xr(g,C,Ce)}break;case 1:var F=g.stateNode;if(typeof F.componentDidMount=="function"){var X=g.return;try{F.componentDidMount()}catch(Ce){xr(g,X,Ce)}}var Q=g.return;try{Qu(g)}catch(Ce){xr(g,Q,Ce)}break;case 5:var ue=g.return;try{Qu(g)}catch(Ce){xr(g,ue,Ce)}}}catch(Ce){xr(g,g.return,Ce)}if(g===o){bt=null;break}var je=g.sibling;if(je!==null){je.return=g.return,bt=je;break}bt=g.return}}var Xg=Math.ceil,tl=v.ReactCurrentDispatcher,tc=v.ReactCurrentOwner,En=v.ReactCurrentBatchConfig,Ht=0,Nr=null,Pr=null,Vr=0,xn=0,ei=Os(0),Rr=0,Bi=null,vo=0,rl=0,rc=0,Vi=null,ln=null,nc=0,ti=1/0,ds=null,nl=!1,sc=null,Fs=null,sl=!1,Ns=null,ol=0,Gi=0,oc=null,il=-1,al=0;function Qr(){return Ht&6?kt():il!==-1?il:il=kt()}function Us(o){return o.mode&1?Ht&2&&Vr!==0?Vr&-Vr:Mg.transition!==null?(al===0&&(al=ga()),al):(o=Gt,o!==0||(o=window.event,o=o===void 0?16:vi(o.type)),o):1}function Bn(o,g,C,F){if(50<Gi)throw Gi=0,oc=null,Error(A(185));ws(o,C,F),(!(Ht&2)||o!==Nr)&&(o===Nr&&(!(Ht&2)&&(rl|=C),Rr===4&&Bs(o,Vr)),un(o,F),C===1&&Ht===0&&!(g.mode&1)&&(ti=kt()+500,Da&&Ls()))}function un(o,g){var C=o.callbackNode;ya(o,g);var F=xs(o,o===Nr?Vr:0);if(F===0)C!==null&&Ke(C),o.callbackNode=null,o.callbackPriority=0;else if(g=F&-F,o.callbackPriority!==g){if(C!=null&&Ke(C),g===1)o.tag===0?Cg(Oh.bind(null,o)):yf(Oh.bind(null,o)),_g(function(){!(Ht&6)&&Ls()}),C=null;else{switch(pn(F)){case 1:C=sr;break;case 4:C=vr;break;case 16:C=er;break;case 536870912:C=fn;break;default:C=er}C=Uh(C,Ph.bind(null,o))}o.callbackPriority=g,o.callbackNode=C}}function Ph(o,g){if(il=-1,al=0,Ht&6)throw Error(A(327));var C=o.callbackNode;if(ri()&&o.callbackNode!==C)return null;var F=xs(o,o===Nr?Vr:0);if(F===0)return null;if(F&30||F&o.expiredLanes||g)g=ll(o,F);else{g=F;var X=Ht;Ht|=2;var Q=Lh();(Nr!==o||Vr!==g)&&(ds=null,ti=kt()+500,xo(o,g));do try{$g();break}catch(je){Ah(o,je)}while(!0);Su(),tl.current=Q,Ht=X,Pr!==null?g=0:(Nr=null,Vr=0,g=Rr)}if(g!==0){if(g===2&&(X=Oo(o),X!==0&&(F=X,g=ic(o,X))),g===1)throw C=Bi,xo(o,0),Bs(o,F),un(o,kt()),C;if(g===6)Bs(o,F);else{if(X=o.current.alternate,!(F&30)&&!qg(X)&&(g=ll(o,F),g===2&&(Q=Oo(o),Q!==0&&(F=Q,g=ic(o,Q))),g===1))throw C=Bi,xo(o,0),Bs(o,F),un(o,kt()),C;switch(o.finishedWork=X,o.finishedLanes=F,g){case 0:case 1:throw Error(A(345));case 2:wo(o,ln,ds);break;case 3:if(Bs(o,F),(F&130023424)===F&&(g=nc+500-kt(),10<g)){if(xs(o,0)!==0)break;if(X=o.suspendedLanes,(X&F)!==F){Qr(),o.pingedLanes|=o.suspendedLanes&X;break}o.timeoutHandle=fu(wo.bind(null,o,ln,ds),g);break}wo(o,ln,ds);break;case 4:if(Bs(o,F),(F&4194240)===F)break;for(g=o.eventTimes,X=-1;0<F;){var ue=31-en(F);Q=1<<ue,ue=g[ue],ue>X&&(X=ue),F&=~Q}if(F=X,F=kt()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Xg(F/1960))-F,10<F){o.timeoutHandle=fu(wo.bind(null,o,ln,ds),F);break}wo(o,ln,ds);break;case 5:wo(o,ln,ds);break;default:throw Error(A(329))}}}return un(o,kt()),o.callbackNode===C?Ph.bind(null,o):null}function ic(o,g){var C=Vi;return o.current.memoizedState.isDehydrated&&(xo(o,g).flags|=256),o=ll(o,g),o!==2&&(g=ln,ln=C,g!==null&&ac(g)),o}function ac(o){ln===null?ln=o:ln.push.apply(ln,o)}function qg(o){for(var g=o;;){if(g.flags&16384){var C=g.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var F=0;F<C.length;F++){var X=C[F],Q=X.getSnapshot;X=X.value;try{if(!$t(Q(),X))return!1}catch{return!1}}}if(C=g.child,g.subtreeFlags&16384&&C!==null)C.return=g,g=C;else{if(g===o)break;for(;g.sibling===null;){if(g.return===null||g.return===o)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Bs(o,g){for(g&=~rc,g&=~rl,o.suspendedLanes|=g,o.pingedLanes&=~g,o=o.expirationTimes;0<g;){var C=31-en(g),F=1<<C;o[C]=-1,g&=~F}}function Oh(o){if(Ht&6)throw Error(A(327));ri();var g=xs(o,0);if(!(g&1))return un(o,kt()),null;var C=ll(o,g);if(o.tag!==0&&C===2){var F=Oo(o);F!==0&&(g=F,C=ic(o,F))}if(C===1)throw C=Bi,xo(o,0),Bs(o,g),un(o,kt()),C;if(C===6)throw Error(A(345));return o.finishedWork=o.current.alternate,o.finishedLanes=g,wo(o,ln,ds),un(o,kt()),null}function lc(o,g){var C=Ht;Ht|=1;try{return o(g)}finally{Ht=C,Ht===0&&(ti=kt()+500,Da&&Ls())}}function bo(o){Ns!==null&&Ns.tag===0&&!(Ht&6)&&ri();var g=Ht;Ht|=1;var C=En.transition,F=Gt;try{if(En.transition=null,Gt=1,o)return o()}finally{Gt=F,En.transition=C,Ht=g,!(Ht&6)&&Ls()}}function uc(){xn=ei.current,ar(ei)}function xo(o,g){o.finishedWork=null,o.finishedLanes=0;var C=o.timeoutHandle;if(C!==-1&&(o.timeoutHandle=-1,Sg(C)),Pr!==null)for(C=Pr.return;C!==null;){var F=C;switch(vu(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&La();break;case 3:Zo(),ar(sn),ar(Hr),Ou();break;case 5:Mu(F);break;case 4:Zo();break;case 13:ar(hr);break;case 19:ar(hr);break;case 10:_u(F.type._context);break;case 22:case 23:uc()}C=C.return}if(Nr=o,Pr=o=Vs(o.current,null),Vr=xn=g,Rr=0,Bi=null,rc=rl=vo=0,ln=Vi=null,mo!==null){for(g=0;g<mo.length;g++)if(C=mo[g],F=C.interleaved,F!==null){C.interleaved=null;var X=F.next,Q=C.pending;if(Q!==null){var ue=Q.next;Q.next=X,F.next=ue}C.pending=F}mo=null}return o}function Ah(o,g){do{var C=Pr;try{if(Su(),Wa.current=$a,Xa){for(var F=pr.memoizedState;F!==null;){var X=F.queue;X!==null&&(X.pending=null),F=F.next}Xa=!1}if(go=0,Fr=Lr=pr=null,Ri=!1,Di=0,tc.current=null,C===null||C.return===null){Rr=1,Bi=g,Pr=null;break}e:{var Q=o,ue=C.return,je=C,Ce=g;if(g=Vr,je.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var We=Ce,tt=je,rt=tt.tag;if(!(tt.mode&1)&&(rt===0||rt===11||rt===15)){var et=tt.alternate;et?(tt.updateQueue=et.updateQueue,tt.memoizedState=et.memoizedState,tt.lanes=et.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var mt=nh(ue);if(mt!==null){mt.flags&=-257,sh(mt,ue,je,Q,g),mt.mode&1&&rh(Q,We,g),g=mt,Ce=We;var jt=g.updateQueue;if(jt===null){var St=new Set;St.add(Ce),g.updateQueue=St}else jt.add(Ce);break e}else{if(!(g&1)){rh(Q,We,g),cc();break e}Ce=Error(A(426))}}else if(cr&&je.mode&1){var Sr=nh(ue);if(Sr!==null){!(Sr.flags&65536)&&(Sr.flags|=256),sh(Sr,ue,je,Q,g),wu(Qo(Ce,je));break e}}Q=Ce=Qo(Ce,je),Rr!==4&&(Rr=2),Vi===null?Vi=[Q]:Vi.push(Q),Q=ue;do{switch(Q.tag){case 3:Q.flags|=65536,g&=-g,Q.lanes|=g;var Ge=eh(Q,Ce,g);kf(Q,Ge);break e;case 1:je=Ce;var Ae=Q.type,ze=Q.stateNode;if(!(Q.flags&128)&&(typeof Ae.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Fs===null||!Fs.has(ze)))){Q.flags|=65536,g&=-g,Q.lanes|=g;var at=th(Q,je,g);kf(Q,at);break e}}Q=Q.return}while(Q!==null)}Dh(C)}catch(_t){g=_t,Pr===C&&C!==null&&(Pr=C=C.return);continue}break}while(!0)}function Lh(){var o=tl.current;return tl.current=$a,o===null?$a:o}function cc(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Nr===null||!(vo&268435455)&&!(rl&268435455)||Bs(Nr,Vr)}function ll(o,g){var C=Ht;Ht|=2;var F=Lh();(Nr!==o||Vr!==g)&&(ds=null,xo(o,g));do try{Yg();break}catch(X){Ah(o,X)}while(!0);if(Su(),Ht=C,tl.current=F,Pr!==null)throw Error(A(261));return Nr=null,Vr=0,Rr}function Yg(){for(;Pr!==null;)Rh(Pr)}function $g(){for(;Pr!==null&&!Vt();)Rh(Pr)}function Rh(o){var g=Nh(o.alternate,o,xn);o.memoizedProps=o.pendingProps,g===null?Dh(o):Pr=g,tc.current=null}function Dh(o){var g=o;do{var C=g.alternate;if(o=g.return,g.flags&32768){if(C=Gg(C,g),C!==null){C.flags&=32767,Pr=C;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Rr=6,Pr=null;return}}else if(C=Vg(C,g,xn),C!==null){Pr=C;return}if(g=g.sibling,g!==null){Pr=g;return}Pr=g=o}while(g!==null);Rr===0&&(Rr=5)}function wo(o,g,C){var F=Gt,X=En.transition;try{En.transition=null,Gt=1,Kg(o,g,C,F)}finally{En.transition=X,Gt=F}return null}function Kg(o,g,C,F){do ri();while(Ns!==null);if(Ht&6)throw Error(A(327));C=o.finishedWork;var X=o.finishedLanes;if(C===null)return null;if(o.finishedWork=null,o.finishedLanes=0,C===o.current)throw Error(A(177));o.callbackNode=null,o.callbackPriority=0;var Q=C.lanes|C.childLanes;if(va(o,Q),o===Nr&&(Pr=Nr=null,Vr=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||sl||(sl=!0,Uh(er,function(){return ri(),null})),Q=(C.flags&15990)!==0,C.subtreeFlags&15990||Q){Q=En.transition,En.transition=null;var ue=Gt;Gt=1;var je=Ht;Ht|=4,tc.current=null,Hg(o,C),Th(C,o),yg(cu),yn=!!uu,cu=uu=null,o.current=C,Wg(C),dt(),Ht=je,Gt=ue,En.transition=Q}else o.current=C;if(sl&&(sl=!1,Ns=o,ol=X),Q=o.pendingLanes,Q===0&&(Fs=null),kr(C.stateNode),un(o,kt()),g!==null)for(F=o.onRecoverableError,C=0;C<g.length;C++)X=g[C],F(X.value,{componentStack:X.stack,digest:X.digest});if(nl)throw nl=!1,o=sc,sc=null,o;return ol&1&&o.tag!==0&&ri(),Q=o.pendingLanes,Q&1?o===oc?Gi++:(Gi=0,oc=o):Gi=0,Ls(),null}function ri(){if(Ns!==null){var o=pn(ol),g=En.transition,C=Gt;try{if(En.transition=null,Gt=16>o?16:o,Ns===null)var F=!1;else{if(o=Ns,Ns=null,ol=0,Ht&6)throw Error(A(331));var X=Ht;for(Ht|=4,bt=o.current;bt!==null;){var Q=bt,ue=Q.child;if(bt.flags&16){var je=Q.deletions;if(je!==null){for(var Ce=0;Ce<je.length;Ce++){var We=je[Ce];for(bt=We;bt!==null;){var tt=bt;switch(tt.tag){case 0:case 11:case 15:Ui(8,tt,Q)}var rt=tt.child;if(rt!==null)rt.return=tt,bt=rt;else for(;bt!==null;){tt=bt;var et=tt.sibling,mt=tt.return;if(xh(tt),tt===We){bt=null;break}if(et!==null){et.return=mt,bt=et;break}bt=mt}}}var jt=Q.alternate;if(jt!==null){var St=jt.child;if(St!==null){jt.child=null;do{var Sr=St.sibling;St.sibling=null,St=Sr}while(St!==null)}}bt=Q}}if(Q.subtreeFlags&2064&&ue!==null)ue.return=Q,bt=ue;else e:for(;bt!==null;){if(Q=bt,Q.flags&2048)switch(Q.tag){case 0:case 11:case 15:Ui(9,Q,Q.return)}var Ge=Q.sibling;if(Ge!==null){Ge.return=Q.return,bt=Ge;break e}bt=Q.return}}var Ae=o.current;for(bt=Ae;bt!==null;){ue=bt;var ze=ue.child;if(ue.subtreeFlags&2064&&ze!==null)ze.return=ue,bt=ze;else e:for(ue=Ae;bt!==null;){if(je=bt,je.flags&2048)try{switch(je.tag){case 0:case 11:case 15:el(9,je)}}catch(_t){xr(je,je.return,_t)}if(je===ue){bt=null;break e}var at=je.sibling;if(at!==null){at.return=je.return,bt=at;break e}bt=je.return}}if(Ht=X,Ls(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Dr,o)}catch{}F=!0}return F}finally{Gt=C,En.transition=g}}return!1}function Ih(o,g,C){g=Qo(C,g),g=eh(o,g,1),o=Ds(o,g,1),g=Qr(),o!==null&&(ws(o,1,g),un(o,g))}function xr(o,g,C){if(o.tag===3)Ih(o,o,C);else for(;g!==null;){if(g.tag===3){Ih(g,o,C);break}else if(g.tag===1){var F=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(Fs===null||!Fs.has(F))){o=Qo(C,o),o=th(g,o,1),g=Ds(g,o,1),o=Qr(),g!==null&&(ws(g,1,o),un(g,o));break}}g=g.return}}function Zg(o,g,C){var F=o.pingCache;F!==null&&F.delete(g),g=Qr(),o.pingedLanes|=o.suspendedLanes&C,Nr===o&&(Vr&C)===C&&(Rr===4||Rr===3&&(Vr&130023424)===Vr&&500>kt()-nc?xo(o,0):rc|=C),un(o,g)}function Fh(o,g){g===0&&(o.mode&1?(g=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):g=1);var C=Qr();o=ls(o,g),o!==null&&(ws(o,g,C),un(o,C))}function Qg(o){var g=o.memoizedState,C=0;g!==null&&(C=g.retryLane),Fh(o,C)}function Jg(o,g){var C=0;switch(o.tag){case 13:var F=o.stateNode,X=o.memoizedState;X!==null&&(C=X.retryLane);break;case 19:F=o.stateNode;break;default:throw Error(A(314))}F!==null&&F.delete(g),Fh(o,C)}var Nh;Nh=function(o,g,C){if(o!==null)if(o.memoizedProps!==g.pendingProps||sn.current)an=!0;else{if(!(o.lanes&C)&&!(g.flags&128))return an=!1,Bg(o,g,C);an=!!(o.flags&131072)}else an=!1,cr&&g.flags&1048576&&gf(g,Fa,g.index);switch(g.lanes=0,g.tag){case 2:var F=g.type;Qa(o,g),o=g.pendingProps;var X=Ho(g,Hr.current);Ko(g,C),X=Ru(null,g,F,o,X,C);var Q=Du();return g.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,on(F)?(Q=!0,Ra(g)):Q=!1,g.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,ku(g),X.updater=Ka,g.stateNode=X,X._reactInternals=g,Vu(g,F,o,C),g=Wu(null,g,F,!0,Q,C)):(g.tag=0,cr&&Q&&gu(g),Zr(null,g,X,C),g=g.child),g;case 16:F=g.elementType;e:{switch(Qa(o,g),o=g.pendingProps,X=F._init,F=X(F._payload),g.type=F,X=g.tag=tv(F),o=Fn(F,o),X){case 0:g=Hu(null,g,F,o,C);break e;case 1:g=ch(null,g,F,o,C);break e;case 11:g=oh(null,g,F,o,C);break e;case 14:g=ih(null,g,F,Fn(F.type,o),C);break e}throw Error(A(306,F,""))}return g;case 0:return F=g.type,X=g.pendingProps,X=g.elementType===F?X:Fn(F,X),Hu(o,g,F,X,C);case 1:return F=g.type,X=g.pendingProps,X=g.elementType===F?X:Fn(F,X),ch(o,g,F,X,C);case 3:e:{if(dh(g),o===null)throw Error(A(387));F=g.pendingProps,Q=g.memoizedState,X=Q.element,Ef(o,g),za(g,F,null,C);var ue=g.memoizedState;if(F=ue.element,Q.isDehydrated)if(Q={element:F,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},g.updateQueue.baseState=Q,g.memoizedState=Q,g.flags&256){X=Qo(Error(A(423)),g),g=fh(o,g,F,C,X);break e}else if(F!==X){X=Qo(Error(A(424)),g),g=fh(o,g,F,C,X);break e}else for(bn=Ps(g.stateNode.containerInfo.firstChild),vn=g,cr=!0,In=null,C=_f(g,null,F,C),g.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(qo(),F===X){g=cs(o,g,C);break e}Zr(o,g,F,C)}g=g.child}return g;case 5:return Mf(g),o===null&&xu(g),F=g.type,X=g.pendingProps,Q=o!==null?o.memoizedProps:null,ue=X.children,du(F,X)?ue=null:Q!==null&&du(F,Q)&&(g.flags|=32),uh(o,g),Zr(o,g,ue,C),g.child;case 6:return o===null&&xu(g),null;case 13:return hh(o,g,C);case 4:return Cu(g,g.stateNode.containerInfo),F=g.pendingProps,o===null?g.child=Yo(g,null,F,C):Zr(o,g,F,C),g.child;case 11:return F=g.type,X=g.pendingProps,X=g.elementType===F?X:Fn(F,X),oh(o,g,F,X,C);case 7:return Zr(o,g,g.pendingProps,C),g.child;case 8:return Zr(o,g,g.pendingProps.children,C),g.child;case 12:return Zr(o,g,g.pendingProps.children,C),g.child;case 10:e:{if(F=g.type._context,X=g.pendingProps,Q=g.memoizedProps,ue=X.value,rr(Ba,F._currentValue),F._currentValue=ue,Q!==null)if($t(Q.value,ue)){if(Q.children===X.children&&!sn.current){g=cs(o,g,C);break e}}else for(Q=g.child,Q!==null&&(Q.return=g);Q!==null;){var je=Q.dependencies;if(je!==null){ue=Q.child;for(var Ce=je.firstContext;Ce!==null;){if(Ce.context===F){if(Q.tag===1){Ce=us(-1,C&-C),Ce.tag=2;var We=Q.updateQueue;if(We!==null){We=We.shared;var tt=We.pending;tt===null?Ce.next=Ce:(Ce.next=tt.next,tt.next=Ce),We.pending=Ce}}Q.lanes|=C,Ce=Q.alternate,Ce!==null&&(Ce.lanes|=C),Tu(Q.return,C,g),je.lanes|=C;break}Ce=Ce.next}}else if(Q.tag===10)ue=Q.type===g.type?null:Q.child;else if(Q.tag===18){if(ue=Q.return,ue===null)throw Error(A(341));ue.lanes|=C,je=ue.alternate,je!==null&&(je.lanes|=C),Tu(ue,C,g),ue=Q.sibling}else ue=Q.child;if(ue!==null)ue.return=Q;else for(ue=Q;ue!==null;){if(ue===g){ue=null;break}if(Q=ue.sibling,Q!==null){Q.return=ue.return,ue=Q;break}ue=ue.return}Q=ue}Zr(o,g,X.children,C),g=g.child}return g;case 9:return X=g.type,F=g.pendingProps.children,Ko(g,C),X=_n(X),F=F(X),g.flags|=1,Zr(o,g,F,C),g.child;case 14:return F=g.type,X=Fn(F,g.pendingProps),X=Fn(F.type,X),ih(o,g,F,X,C);case 15:return ah(o,g,g.type,g.pendingProps,C);case 17:return F=g.type,X=g.pendingProps,X=g.elementType===F?X:Fn(F,X),Qa(o,g),g.tag=1,on(F)?(o=!0,Ra(g)):o=!1,Ko(g,C),Qf(g,F,X),Vu(g,F,X,C),Wu(null,g,F,!0,o,C);case 19:return mh(o,g,C);case 22:return lh(o,g,C)}throw Error(A(156,g.tag))};function Uh(o,g){return Ft(o,g)}function ev(o,g,C,F){this.tag=o,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(o,g,C,F){return new ev(o,g,C,F)}function dc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function tv(o){if(typeof o=="function")return dc(o)?1:0;if(o!=null){if(o=o.$$typeof,o===N)return 11;if(o===V)return 14}return 2}function Vs(o,g){var C=o.alternate;return C===null?(C=kn(o.tag,g,o.key,o.mode),C.elementType=o.elementType,C.type=o.type,C.stateNode=o.stateNode,C.alternate=o,o.alternate=C):(C.pendingProps=g,C.type=o.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=o.flags&14680064,C.childLanes=o.childLanes,C.lanes=o.lanes,C.child=o.child,C.memoizedProps=o.memoizedProps,C.memoizedState=o.memoizedState,C.updateQueue=o.updateQueue,g=o.dependencies,C.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},C.sibling=o.sibling,C.index=o.index,C.ref=o.ref,C}function ul(o,g,C,F,X,Q){var ue=2;if(F=o,typeof o=="function")dc(o)&&(ue=1);else if(typeof o=="string")ue=5;else e:switch(o){case k:return jo(C.children,X,Q,g);case T:ue=8,X|=8;break;case L:return o=kn(12,C,g,X|2),o.elementType=L,o.lanes=Q,o;case D:return o=kn(13,C,g,X),o.elementType=D,o.lanes=Q,o;case G:return o=kn(19,C,g,X),o.elementType=G,o.lanes=Q,o;case $:return cl(C,X,Q,g);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:ue=10;break e;case M:ue=9;break e;case N:ue=11;break e;case V:ue=14;break e;case z:ue=16,F=null;break e}throw Error(A(130,o==null?o:typeof o,""))}return g=kn(ue,C,g,X),g.elementType=o,g.type=F,g.lanes=Q,g}function jo(o,g,C,F){return o=kn(7,o,F,g),o.lanes=C,o}function cl(o,g,C,F){return o=kn(22,o,F,g),o.elementType=$,o.lanes=C,o.stateNode={isHidden:!1},o}function fc(o,g,C){return o=kn(6,o,null,g),o.lanes=C,o}function hc(o,g,C){return g=kn(4,o.children!==null?o.children:[],o.key,g),g.lanes=C,g.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},g}function rv(o,g,C,F,X){this.tag=g,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=F,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function pc(o,g,C,F,X,Q,ue,je,Ce){return o=new rv(o,g,C,je,Ce),g===1?(g=1,Q===!0&&(g|=8)):g=0,Q=kn(3,null,null,g),o.current=Q,Q.stateNode=o,Q.memoizedState={element:F,isDehydrated:C,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(Q),o}function nv(o,g,C){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:F==null?null:""+F,children:o,containerInfo:g,implementation:C}}function Bh(o){if(!o)return As;o=o._reactInternals;e:{if(dn(o)!==o||o.tag!==1)throw Error(A(170));var g=o;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(on(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(A(171))}if(o.tag===1){var C=o.type;if(on(C))return pf(o,C,g)}return g}function Vh(o,g,C,F,X,Q,ue,je,Ce){return o=pc(C,F,!0,o,X,Q,ue,je,Ce),o.context=Bh(null),C=o.current,F=Qr(),X=Us(C),Q=us(F,X),Q.callback=g??null,Ds(C,Q,X),o.current.lanes=X,ws(o,X,F),un(o,F),o}function dl(o,g,C,F){var X=g.current,Q=Qr(),ue=Us(X);return C=Bh(C),g.context===null?g.context=C:g.pendingContext=C,g=us(Q,ue),g.payload={element:o},F=F===void 0?null:F,F!==null&&(g.callback=F),o=Ds(X,g,ue),o!==null&&(Bn(o,X,ue,Q),Ga(o,X,ue)),ue}function fl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Gh(o,g){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var C=o.retryLane;o.retryLane=C!==0&&C<g?C:g}}function mc(o,g){Gh(o,g),(o=o.alternate)&&Gh(o,g)}var zh=typeof reportError=="function"?reportError:function(o){console.error(o)};function yc(o){this._internalRoot=o}hl.prototype.render=yc.prototype.render=function(o){var g=this._internalRoot;if(g===null)throw Error(A(409));dl(o,g,null,null)},hl.prototype.unmount=yc.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var g=o.containerInfo;bo(function(){dl(null,o,null,null)}),g[ss]=null}};function hl(o){this._internalRoot=o}hl.prototype.unstable_scheduleHydration=function(o){if(o){var g=gi();o={blockedOn:null,target:o,priority:g};for(var C=0;C<Hn.length&&g!==0&&g<Hn[C].priority;C++);Hn.splice(C,0,o),C===0&&mn(o)}};function gc(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function sv(o,g,C,F,X){if(X){if(typeof F=="function"){var Q=F;F=function(){var We=fl(ue);Q.call(We)}}var ue=Vh(g,F,o,0,null,!1,!1,"",Hh);return o._reactRootContainer=ue,o[ss]=ue.current,Ei(o.nodeType===8?o.parentNode:o),bo(),ue}for(;X=o.lastChild;)o.removeChild(X);if(typeof F=="function"){var je=F;F=function(){var We=fl(Ce);je.call(We)}}var Ce=pc(o,0,!1,null,null,!1,!1,"",Hh);return o._reactRootContainer=Ce,o[ss]=Ce.current,Ei(o.nodeType===8?o.parentNode:o),bo(function(){dl(g,Ce,C,F)}),Ce}function ml(o,g,C,F,X){var Q=C._reactRootContainer;if(Q){var ue=Q;if(typeof X=="function"){var je=X;X=function(){var Ce=fl(ue);je.call(Ce)}}dl(g,ue,o,X)}else ue=sv(C,g,o,X,F);return fl(ue)}yi=function(o){switch(o.tag){case 3:var g=o.stateNode;if(g.current.memoizedState.isDehydrated){var C=bs(g.pendingLanes);C!==0&&(js(g,C|1),un(g,kt()),!(Ht&6)&&(ti=kt()+500,Ls()))}break;case 13:bo(function(){var F=ls(o,1);if(F!==null){var X=Qr();Bn(F,o,1,X)}}),mc(o,1)}},Ao=function(o){if(o.tag===13){var g=ls(o,134217728);if(g!==null){var C=Qr();Bn(g,o,134217728,C)}mc(o,134217728)}},ts=function(o){if(o.tag===13){var g=Us(o),C=ls(o,g);if(C!==null){var F=Qr();Bn(C,o,g,F)}mc(o,g)}},gi=function(){return Gt},ba=function(o,g){var C=Gt;try{return Gt=o,g()}finally{Gt=C}},st=function(o,g,C){switch(g){case"input":if(Me(o,C),g=C.name,C.type==="radio"&&g!=null){for(C=o;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<C.length;g++){var F=C[g];if(F!==o&&F.form===o.form){var X=Aa(F);if(!X)throw Error(A(90));ye(F),Me(F,X)}}}break;case"textarea":ot(o,C);break;case"select":g=C.value,g!=null&&Ye(o,!!C.multiple,g,!1)}},Et=lc,Kt=bo;var ov={usingClientEntryPoint:!1,Events:[Mi,Go,Aa,yt,Pt,lc]},zi={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iv={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=ft(o),o===null?null:o.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Dr=yl.inject(iv),jr=yl}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ov,cn.createPortal=function(o,g){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(g))throw Error(A(200));return nv(o,g,null,C)},cn.createRoot=function(o,g){if(!gc(o))throw Error(A(299));var C=!1,F="",X=zh;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(X=g.onRecoverableError)),g=pc(o,1,!1,null,null,C,!1,F,X),o[ss]=g.current,Ei(o.nodeType===8?o.parentNode:o),new yc(g)},cn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var g=o._reactInternals;if(g===void 0)throw typeof o.render=="function"?Error(A(188)):(o=Object.keys(o).join(","),Error(A(268,o)));return o=ft(g),o=o===null?null:o.stateNode,o},cn.flushSync=function(o){return bo(o)},cn.hydrate=function(o,g,C){if(!pl(g))throw Error(A(200));return ml(null,o,g,!0,C)},cn.hydrateRoot=function(o,g,C){if(!gc(o))throw Error(A(405));var F=C!=null&&C.hydratedSources||null,X=!1,Q="",ue=zh;if(C!=null&&(C.unstable_strictMode===!0&&(X=!0),C.identifierPrefix!==void 0&&(Q=C.identifierPrefix),C.onRecoverableError!==void 0&&(ue=C.onRecoverableError)),g=Vh(g,null,o,1,C??null,X,!1,Q,ue),o[ss]=g.current,Ei(o),F)for(o=0;o<F.length;o++)C=F[o],X=C._getVersion,X=X(C._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[C,X]:g.mutableSourceEagerHydrationData.push(C,X);return new hl(g)},cn.render=function(o,g,C){if(!pl(g))throw Error(A(200));return ml(null,o,g,!1,C)},cn.unmountComponentAtNode=function(o){if(!pl(o))throw Error(A(40));return o._reactRootContainer?(bo(function(){ml(null,null,o,!1,function(){o._reactRootContainer=null,o[ss]=null})}),!0):!1},cn.unstable_batchedUpdates=lc,cn.unstable_renderSubtreeIntoContainer=function(o,g,C,F){if(!pl(C))throw Error(A(200));if(o==null||o._reactInternals===void 0)throw Error(A(38));return ml(o,g,C,!1,F)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Qh;function pv(){if(Qh)return wc.exports;Qh=1;function x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(S){console.error(S)}}return x(),wc.exports=hv(),wc.exports}var Jh;function mv(){if(Jh)return gl;Jh=1;var x=pv();return gl.createRoot=x.createRoot,gl.hydrateRoot=x.hydrateRoot,gl}var yv=mv(),Wi={},ep;function gv(){if(ep)return Wi;ep=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.parse=l,Wi.serialize=c;const x=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,S=/^[\u0021-\u003A\u003C-\u007E]*$/,A=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,t=/^[\u0020-\u003A\u003D-\u007E]*$/,_=Object.prototype.toString,y=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function l(n,r){const a=new y,i=n.length;if(i<2)return a;const u=(r==null?void 0:r.decode)||p;let d=0;do{const h=n.indexOf("=",d);if(h===-1)break;const b=n.indexOf(";",d),v=b===-1?i:b;if(h>v){d=n.lastIndexOf(";",h-1)+1;continue}const w=f(n,d,h),E=s(n,h,w),k=n.slice(w,E);if(a[k]===void 0){let T=f(n,h+1,v),L=s(n,v,T);const R=u(n.slice(T,L));a[k]=R}d=v+1}while(d<i);return a}function f(n,r,a){do{const i=n.charCodeAt(r);if(i!==32&&i!==9)return r}while(++r<a);return a}function s(n,r,a){for(;r>a;){const i=n.charCodeAt(--r);if(i!==32&&i!==9)return r+1}return a}function c(n,r,a){const i=(a==null?void 0:a.encode)||encodeURIComponent;if(!x.test(n))throw new TypeError(`argument name is invalid: ${n}`);const u=i(r);if(!S.test(u))throw new TypeError(`argument val is invalid: ${r}`);let d=n+"="+u;if(!a)return d;if(a.maxAge!==void 0){if(!Number.isInteger(a.maxAge))throw new TypeError(`option maxAge is invalid: ${a.maxAge}`);d+="; Max-Age="+a.maxAge}if(a.domain){if(!A.test(a.domain))throw new TypeError(`option domain is invalid: ${a.domain}`);d+="; Domain="+a.domain}if(a.path){if(!t.test(a.path))throw new TypeError(`option path is invalid: ${a.path}`);d+="; Path="+a.path}if(a.expires){if(!m(a.expires)||!Number.isFinite(a.expires.valueOf()))throw new TypeError(`option expires is invalid: ${a.expires}`);d+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(d+="; HttpOnly"),a.secure&&(d+="; Secure"),a.partitioned&&(d+="; Partitioned"),a.priority)switch(typeof a.priority=="string"?a.priority.toLowerCase():void 0){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${a.priority}`)}if(a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${a.sameSite}`)}return d}function p(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function m(n){return _.call(n)==="[object Date]"}return Wi}gv();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tp="popstate";function vv(x={}){function S(t,_){let{pathname:y,search:l,hash:f}=t.location;return Bc("",{pathname:y,search:l,hash:f},_.state&&_.state.usr||null,_.state&&_.state.key||"default")}function A(t,_){return typeof _=="string"?_:ta(_)}return xv(S,A,null,x)}function yr(x,S){if(x===!1||x===null||typeof x>"u")throw new Error(S)}function Qn(x,S){if(!x){typeof console<"u"&&console.warn(S);try{throw new Error(S)}catch{}}}function bv(){return Math.random().toString(36).substring(2,10)}function rp(x,S){return{usr:x.state,key:x.key,idx:S}}function Bc(x,S,A=null,t){return{pathname:typeof x=="string"?x:x.pathname,search:"",hash:"",...typeof S=="string"?fi(S):S,state:A,key:S&&S.key||t||bv()}}function ta({pathname:x="/",search:S="",hash:A=""}){return S&&S!=="?"&&(x+=S.charAt(0)==="?"?S:"?"+S),A&&A!=="#"&&(x+=A.charAt(0)==="#"?A:"#"+A),x}function fi(x){let S={};if(x){let A=x.indexOf("#");A>=0&&(S.hash=x.substring(A),x=x.substring(0,A));let t=x.indexOf("?");t>=0&&(S.search=x.substring(t),x=x.substring(0,t)),x&&(S.pathname=x)}return S}function xv(x,S,A,t={}){let{window:_=document.defaultView,v5Compat:y=!1}=t,l=_.history,f="POP",s=null,c=p();c==null&&(c=0,l.replaceState({...l.state,idx:c},""));function p(){return(l.state||{idx:null}).idx}function m(){f="POP";let u=p(),d=u==null?null:u-c;c=u,s&&s({action:f,location:i.location,delta:d})}function n(u,d){f="PUSH";let h=Bc(i.location,u,d);c=p()+1;let b=rp(h,c),v=i.createHref(h);try{l.pushState(b,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;_.location.assign(v)}y&&s&&s({action:f,location:i.location,delta:1})}function r(u,d){f="REPLACE";let h=Bc(i.location,u,d);c=p();let b=rp(h,c),v=i.createHref(h);l.replaceState(b,"",v),y&&s&&s({action:f,location:i.location,delta:0})}function a(u){let d=_.location.origin!=="null"?_.location.origin:_.location.href,h=typeof u=="string"?u:ta(u);return h=h.replace(/ $/,"%20"),yr(d,`No window.location.(origin|href) available to create URL for href: ${h}`),new URL(h,d)}let i={get action(){return f},get location(){return x(_,l)},listen(u){if(s)throw new Error("A history only accepts one active listener");return _.addEventListener(tp,m),s=u,()=>{_.removeEventListener(tp,m),s=null}},createHref(u){return S(_,u)},createURL:a,encodeLocation(u){let d=a(u);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:n,replace:r,go(u){return l.go(u)}};return i}function _m(x,S,A="/"){return wv(x,S,A,!1)}function wv(x,S,A,t){let _=typeof S=="string"?fi(S):S,y=Hs(_.pathname||"/",A);if(y==null)return null;let l=Tm(x);jv(l);let f=null;for(let s=0;f==null&&s<l.length;++s){let c=Lv(y);f=Ov(l[s],c,t)}return f}function Tm(x,S=[],A=[],t=""){let _=(y,l,f)=>{let s={relativePath:f===void 0?y.path||"":f,caseSensitive:y.caseSensitive===!0,childrenIndex:l,route:y};s.relativePath.startsWith("/")&&(yr(s.relativePath.startsWith(t),`Absolute route path "${s.relativePath}" nested under path "${t}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(t.length));let c=fs([t,s.relativePath]),p=A.concat(s);y.children&&y.children.length>0&&(yr(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Tm(y.children,S,p,c)),!(y.path==null&&!y.index)&&S.push({path:c,score:Mv(c,y.index),routesMeta:p})};return x.forEach((y,l)=>{var f;if(y.path===""||!((f=y.path)!=null&&f.includes("?")))_(y,l);else for(let s of Em(y.path))_(y,l,s)}),S}function Em(x){let S=x.split("/");if(S.length===0)return[];let[A,...t]=S,_=A.endsWith("?"),y=A.replace(/\?$/,"");if(t.length===0)return _?[y,""]:[y];let l=Em(t.join("/")),f=[];return f.push(...l.map(s=>s===""?y:[y,s].join("/"))),_&&f.push(...l),f.map(s=>x.startsWith("/")&&s===""?"/":s)}function jv(x){x.sort((S,A)=>S.score!==A.score?A.score-S.score:Pv(S.routesMeta.map(t=>t.childrenIndex),A.routesMeta.map(t=>t.childrenIndex)))}var Sv=/^:[\w-]+$/,_v=3,Tv=2,Ev=1,kv=10,Cv=-2,np=x=>x==="*";function Mv(x,S){let A=x.split("/"),t=A.length;return A.some(np)&&(t+=Cv),S&&(t+=Tv),A.filter(_=>!np(_)).reduce((_,y)=>_+(Sv.test(y)?_v:y===""?Ev:kv),t)}function Pv(x,S){return x.length===S.length&&x.slice(0,-1).every((t,_)=>t===S[_])?x[x.length-1]-S[S.length-1]:0}function Ov(x,S,A=!1){let{routesMeta:t}=x,_={},y="/",l=[];for(let f=0;f<t.length;++f){let s=t[f],c=f===t.length-1,p=y==="/"?S:S.slice(y.length)||"/",m=Pl({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},p),n=s.route;if(!m&&c&&A&&!t[t.length-1].route.index&&(m=Pl({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},p)),!m)return null;Object.assign(_,m.params),l.push({params:_,pathname:fs([y,m.pathname]),pathnameBase:Fv(fs([y,m.pathnameBase])),route:n}),m.pathnameBase!=="/"&&(y=fs([y,m.pathnameBase]))}return l}function Pl(x,S){typeof x=="string"&&(x={path:x,caseSensitive:!1,end:!0});let[A,t]=Av(x.path,x.caseSensitive,x.end),_=S.match(A);if(!_)return null;let y=_[0],l=y.replace(/(.)\/+$/,"$1"),f=_.slice(1);return{params:t.reduce((c,{paramName:p,isOptional:m},n)=>{if(p==="*"){let a=f[n]||"";l=y.slice(0,y.length-a.length).replace(/(.)\/+$/,"$1")}const r=f[n];return m&&!r?c[p]=void 0:c[p]=(r||"").replace(/%2F/g,"/"),c},{}),pathname:y,pathnameBase:l,pattern:x}}function Av(x,S=!1,A=!0){Qn(x==="*"||!x.endsWith("*")||x.endsWith("/*"),`Route path "${x}" will be treated as if it were "${x.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${x.replace(/\*$/,"/*")}".`);let t=[],_="^"+x.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,s)=>(t.push({paramName:f,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return x.endsWith("*")?(t.push({paramName:"*"}),_+=x==="*"||x==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):A?_+="\\/*$":x!==""&&x!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,S?void 0:"i"),t]}function Lv(x){try{return x.split("/").map(S=>decodeURIComponent(S).replace(/\//g,"%2F")).join("/")}catch(S){return Qn(!1,`The URL path "${x}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${S}).`),x}}function Hs(x,S){if(S==="/")return x;if(!x.toLowerCase().startsWith(S.toLowerCase()))return null;let A=S.endsWith("/")?S.length-1:S.length,t=x.charAt(A);return t&&t!=="/"?null:x.slice(A)||"/"}function Rv(x,S="/"){let{pathname:A,search:t="",hash:_=""}=typeof x=="string"?fi(x):x;return{pathname:A?A.startsWith("/")?A:Dv(A,S):S,search:Nv(t),hash:Uv(_)}}function Dv(x,S){let A=S.replace(/\/+$/,"").split("/");return x.split("/").forEach(_=>{_===".."?A.length>1&&A.pop():_!=="."&&A.push(_)}),A.length>1?A.join("/"):"/"}function _c(x,S,A,t){return`Cannot include a '${x}' character in a manually specified \`to.${S}\` field [${JSON.stringify(t)}].  Please separate it out to the \`to.${A}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iv(x){return x.filter((S,A)=>A===0||S.route.path&&S.route.path.length>0)}function km(x){let S=Iv(x);return S.map((A,t)=>t===S.length-1?A.pathname:A.pathnameBase)}function Cm(x,S,A,t=!1){let _;typeof x=="string"?_=fi(x):(_={...x},yr(!_.pathname||!_.pathname.includes("?"),_c("?","pathname","search",_)),yr(!_.pathname||!_.pathname.includes("#"),_c("#","pathname","hash",_)),yr(!_.search||!_.search.includes("#"),_c("#","search","hash",_)));let y=x===""||_.pathname==="",l=y?"/":_.pathname,f;if(l==null)f=A;else{let m=S.length-1;if(!t&&l.startsWith("..")){let n=l.split("/");for(;n[0]==="..";)n.shift(),m-=1;_.pathname=n.join("/")}f=m>=0?S[m]:"/"}let s=Rv(_,f),c=l&&l!=="/"&&l.endsWith("/"),p=(y||l===".")&&A.endsWith("/");return!s.pathname.endsWith("/")&&(c||p)&&(s.pathname+="/"),s}var fs=x=>x.join("/").replace(/\/\/+/g,"/"),Fv=x=>x.replace(/\/+$/,"").replace(/^\/*/,"/"),Nv=x=>!x||x==="?"?"":x.startsWith("?")?x:"?"+x,Uv=x=>!x||x==="#"?"":x.startsWith("#")?x:"#"+x;function Bv(x){return x!=null&&typeof x.status=="number"&&typeof x.statusText=="string"&&typeof x.internal=="boolean"&&"data"in x}var Mm=["POST","PUT","PATCH","DELETE"];new Set(Mm);var Vv=["GET",...Mm];new Set(Vv);var hi=Ie.createContext(null);hi.displayName="DataRouter";var Fl=Ie.createContext(null);Fl.displayName="DataRouterState";var Pm=Ie.createContext({isTransitioning:!1});Pm.displayName="ViewTransition";var Gv=Ie.createContext(new Map);Gv.displayName="Fetchers";var zv=Ie.createContext(null);zv.displayName="Await";var Jn=Ie.createContext(null);Jn.displayName="Navigation";var la=Ie.createContext(null);la.displayName="Location";var Gn=Ie.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var ad=Ie.createContext(null);ad.displayName="RouteError";function Hv(x,{relative:S}={}){yr(ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:A,navigator:t}=Ie.useContext(Jn),{hash:_,pathname:y,search:l}=ca(x,{relative:S}),f=y;return A!=="/"&&(f=y==="/"?A:fs([A,y])),t.createHref({pathname:f,search:l,hash:_})}function ua(){return Ie.useContext(la)!=null}function ys(){return yr(ua(),"useLocation() may be used only in the context of a <Router> component."),Ie.useContext(la).location}var Om="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Am(x){Ie.useContext(Jn).static||Ie.useLayoutEffect(x)}function Wv(){let{isDataRoute:x}=Ie.useContext(Gn);return x?a0():Xv()}function Xv(){yr(ua(),"useNavigate() may be used only in the context of a <Router> component.");let x=Ie.useContext(hi),{basename:S,navigator:A}=Ie.useContext(Jn),{matches:t}=Ie.useContext(Gn),{pathname:_}=ys(),y=JSON.stringify(km(t)),l=Ie.useRef(!1);return Am(()=>{l.current=!0}),Ie.useCallback((s,c={})=>{if(Qn(l.current,Om),!l.current)return;if(typeof s=="number"){A.go(s);return}let p=Cm(s,JSON.parse(y),_,c.relative==="path");x==null&&S!=="/"&&(p.pathname=p.pathname==="/"?S:fs([S,p.pathname])),(c.replace?A.replace:A.push)(p,c.state,c)},[S,A,y,_,x])}var Lm=Ie.createContext(null);function qv(){return Ie.useContext(Lm)}function Yv(x){let S=Ie.useContext(Gn).outlet;return S&&Ie.createElement(Lm.Provider,{value:x},S)}function $v(){let{matches:x}=Ie.useContext(Gn),S=x[x.length-1];return S?S.params:{}}function ca(x,{relative:S}={}){let{matches:A}=Ie.useContext(Gn),{pathname:t}=ys(),_=JSON.stringify(km(A));return Ie.useMemo(()=>Cm(x,JSON.parse(_),t,S==="path"),[x,_,t,S])}function Kv(x,S){return Rm(x,S)}function Rm(x,S,A,t){var h;yr(ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:_,static:y}=Ie.useContext(Jn),{matches:l}=Ie.useContext(Gn),f=l[l.length-1],s=f?f.params:{},c=f?f.pathname:"/",p=f?f.pathnameBase:"/",m=f&&f.route;{let b=m&&m.path||"";Dm(c,!m||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let n=ys(),r;if(S){let b=typeof S=="string"?fi(S):S;yr(p==="/"||((h=b.pathname)==null?void 0:h.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${b.pathname}" was given in the \`location\` prop.`),r=b}else r=n;let a=r.pathname||"/",i=a;if(p!=="/"){let b=p.replace(/^\//,"").split("/");i="/"+a.replace(/^\//,"").split("/").slice(b.length).join("/")}let u=!y&&A&&A.matches&&A.matches.length>0?A.matches:_m(x,{pathname:i});Qn(m||u!=null,`No routes matched location "${r.pathname}${r.search}${r.hash}" `),Qn(u==null||u[u.length-1].route.element!==void 0||u[u.length-1].route.Component!==void 0||u[u.length-1].route.lazy!==void 0,`Matched leaf route at location "${r.pathname}${r.search}${r.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let d=t0(u&&u.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:fs([p,_.encodeLocation?_.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:fs([p,_.encodeLocation?_.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,A,t);return S&&d?Ie.createElement(la.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...r},navigationType:"POP"}},d):d}function Zv(){let x=i0(),S=Bv(x)?`${x.status} ${x.statusText}`:x instanceof Error?x.message:JSON.stringify(x),A=x instanceof Error?x.stack:null,t="rgba(200,200,200, 0.5)",_={padding:"0.5rem",backgroundColor:t},y={padding:"2px 4px",backgroundColor:t},l=null;return console.error("Error handled by React Router default ErrorBoundary:",x),l=Ie.createElement(Ie.Fragment,null,Ie.createElement("p",null,"💿 Hey developer 👋"),Ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ie.createElement("code",{style:y},"ErrorBoundary")," or"," ",Ie.createElement("code",{style:y},"errorElement")," prop on your route.")),Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},S),A?Ie.createElement("pre",{style:_},A):null,l)}var Qv=Ie.createElement(Zv,null),Jv=class extends Ie.Component{constructor(x){super(x),this.state={location:x.location,revalidation:x.revalidation,error:x.error}}static getDerivedStateFromError(x){return{error:x}}static getDerivedStateFromProps(x,S){return S.location!==x.location||S.revalidation!=="idle"&&x.revalidation==="idle"?{error:x.error,location:x.location,revalidation:x.revalidation}:{error:x.error!==void 0?x.error:S.error,location:S.location,revalidation:x.revalidation||S.revalidation}}componentDidCatch(x,S){console.error("React Router caught the following error during render",x,S)}render(){return this.state.error!==void 0?Ie.createElement(Gn.Provider,{value:this.props.routeContext},Ie.createElement(ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e0({routeContext:x,match:S,children:A}){let t=Ie.useContext(hi);return t&&t.static&&t.staticContext&&(S.route.errorElement||S.route.ErrorBoundary)&&(t.staticContext._deepestRenderedBoundaryId=S.route.id),Ie.createElement(Gn.Provider,{value:x},A)}function t0(x,S=[],A=null,t=null){if(x==null){if(!A)return null;if(A.errors)x=A.matches;else if(S.length===0&&!A.initialized&&A.matches.length>0)x=A.matches;else return null}let _=x,y=A==null?void 0:A.errors;if(y!=null){let s=_.findIndex(c=>c.route.id&&(y==null?void 0:y[c.route.id])!==void 0);yr(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),_=_.slice(0,Math.min(_.length,s+1))}let l=!1,f=-1;if(A)for(let s=0;s<_.length;s++){let c=_[s];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(f=s),c.route.id){let{loaderData:p,errors:m}=A,n=c.route.loader&&!p.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||n){l=!0,f>=0?_=_.slice(0,f+1):_=[_[0]];break}}}return _.reduceRight((s,c,p)=>{let m,n=!1,r=null,a=null;A&&(m=y&&c.route.id?y[c.route.id]:void 0,r=c.route.errorElement||Qv,l&&(f<0&&p===0?(Dm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),n=!0,a=null):f===p&&(n=!0,a=c.route.hydrateFallbackElement||null)));let i=S.concat(_.slice(0,p+1)),u=()=>{let d;return m?d=r:n?d=a:c.route.Component?d=Ie.createElement(c.route.Component,null):c.route.element?d=c.route.element:d=s,Ie.createElement(e0,{match:c,routeContext:{outlet:s,matches:i,isDataRoute:A!=null},children:d})};return A&&(c.route.ErrorBoundary||c.route.errorElement||p===0)?Ie.createElement(Jv,{location:A.location,revalidation:A.revalidation,component:r,error:m,children:u(),routeContext:{outlet:null,matches:i,isDataRoute:!0}}):u()},null)}function ld(x){return`${x} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r0(x){let S=Ie.useContext(hi);return yr(S,ld(x)),S}function n0(x){let S=Ie.useContext(Fl);return yr(S,ld(x)),S}function s0(x){let S=Ie.useContext(Gn);return yr(S,ld(x)),S}function ud(x){let S=s0(x),A=S.matches[S.matches.length-1];return yr(A.route.id,`${x} can only be used on routes that contain a unique "id"`),A.route.id}function o0(){return ud("useRouteId")}function i0(){var t;let x=Ie.useContext(ad),S=n0("useRouteError"),A=ud("useRouteError");return x!==void 0?x:(t=S.errors)==null?void 0:t[A]}function a0(){let{router:x}=r0("useNavigate"),S=ud("useNavigate"),A=Ie.useRef(!1);return Am(()=>{A.current=!0}),Ie.useCallback(async(_,y={})=>{Qn(A.current,Om),A.current&&(typeof _=="number"?x.navigate(_):await x.navigate(_,{fromRouteId:S,...y}))},[x,S])}var sp={};function Dm(x,S,A){!S&&!sp[x]&&(sp[x]=!0,Qn(!1,A))}Ie.memo(l0);function l0({routes:x,future:S,state:A}){return Rm(x,void 0,A,S)}function u0(x){return Yv(x.context)}function Yi(x){yr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c0({basename:x="/",children:S=null,location:A,navigationType:t="POP",navigator:_,static:y=!1}){yr(!ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=x.replace(/^\/*/,"/"),f=Ie.useMemo(()=>({basename:l,navigator:_,static:y,future:{}}),[l,_,y]);typeof A=="string"&&(A=fi(A));let{pathname:s="/",search:c="",hash:p="",state:m=null,key:n="default"}=A,r=Ie.useMemo(()=>{let a=Hs(s,l);return a==null?null:{location:{pathname:a,search:c,hash:p,state:m,key:n},navigationType:t}},[l,s,c,p,m,n,t]);return Qn(r!=null,`<Router basename="${l}"> is not able to match the URL "${s}${c}${p}" because it does not start with the basename, so the <Router> won't render anything.`),r==null?null:Ie.createElement(Jn.Provider,{value:f},Ie.createElement(la.Provider,{children:S,value:r}))}function d0({children:x,location:S}){return Kv(Vc(x),S)}function Vc(x,S=[]){let A=[];return Ie.Children.forEach(x,(t,_)=>{if(!Ie.isValidElement(t))return;let y=[...S,_];if(t.type===Ie.Fragment){A.push.apply(A,Vc(t.props.children,y));return}yr(t.type===Yi,`[${typeof t.type=="string"?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yr(!t.props.index||!t.props.children,"An index route cannot have child routes.");let l={id:t.props.id||y.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.hasErrorBoundary===!0||t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(l.children=Vc(t.props.children,y)),A.push(l)}),A}var _l="get",Tl="application/x-www-form-urlencoded";function Nl(x){return x!=null&&typeof x.tagName=="string"}function f0(x){return Nl(x)&&x.tagName.toLowerCase()==="button"}function h0(x){return Nl(x)&&x.tagName.toLowerCase()==="form"}function p0(x){return Nl(x)&&x.tagName.toLowerCase()==="input"}function m0(x){return!!(x.metaKey||x.altKey||x.ctrlKey||x.shiftKey)}function y0(x,S){return x.button===0&&(!S||S==="_self")&&!m0(x)}var vl=null;function g0(){if(vl===null)try{new FormData(document.createElement("form"),0),vl=!1}catch{vl=!0}return vl}var v0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tc(x){return x!=null&&!v0.has(x)?(Qn(!1,`"${x}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tl}"`),null):x}function b0(x,S){let A,t,_,y,l;if(h0(x)){let f=x.getAttribute("action");t=f?Hs(f,S):null,A=x.getAttribute("method")||_l,_=Tc(x.getAttribute("enctype"))||Tl,y=new FormData(x)}else if(f0(x)||p0(x)&&(x.type==="submit"||x.type==="image")){let f=x.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=x.getAttribute("formaction")||f.getAttribute("action");if(t=s?Hs(s,S):null,A=x.getAttribute("formmethod")||f.getAttribute("method")||_l,_=Tc(x.getAttribute("formenctype"))||Tc(f.getAttribute("enctype"))||Tl,y=new FormData(f,x),!g0()){let{name:c,type:p,value:m}=x;if(p==="image"){let n=c?`${c}.`:"";y.append(`${n}x`,"0"),y.append(`${n}y`,"0")}else c&&y.append(c,m)}}else{if(Nl(x))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');A=_l,t=null,_=Tl,l=x}return y&&_==="text/plain"&&(l=y,y=void 0),{action:t,method:A.toLowerCase(),encType:_,formData:y,body:l}}function cd(x,S){if(x===!1||x===null||typeof x>"u")throw new Error(S)}async function x0(x,S){if(x.id in S)return S[x.id];try{let A=await import(x.module);return S[x.id]=A,A}catch(A){return console.error(`Error loading route module \`${x.module}\`, reloading page...`),console.error(A),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w0(x){return x==null?!1:x.href==null?x.rel==="preload"&&typeof x.imageSrcSet=="string"&&typeof x.imageSizes=="string":typeof x.rel=="string"&&typeof x.href=="string"}async function j0(x,S,A){let t=await Promise.all(x.map(async _=>{let y=S.routes[_.route.id];if(y){let l=await x0(y,A);return l.links?l.links():[]}return[]}));return E0(t.flat(1).filter(w0).filter(_=>_.rel==="stylesheet"||_.rel==="preload").map(_=>_.rel==="stylesheet"?{..._,rel:"prefetch",as:"style"}:{..._,rel:"prefetch"}))}function op(x,S,A,t,_,y){let l=(s,c)=>A[c]?s.route.id!==A[c].route.id:!0,f=(s,c)=>{var p;return A[c].pathname!==s.pathname||((p=A[c].route.path)==null?void 0:p.endsWith("*"))&&A[c].params["*"]!==s.params["*"]};return y==="assets"?S.filter((s,c)=>l(s,c)||f(s,c)):y==="data"?S.filter((s,c)=>{var m;let p=t.routes[s.route.id];if(!p||!p.hasLoader)return!1;if(l(s,c)||f(s,c))return!0;if(s.route.shouldRevalidate){let n=s.route.shouldRevalidate({currentUrl:new URL(_.pathname+_.search+_.hash,window.origin),currentParams:((m=A[0])==null?void 0:m.params)||{},nextUrl:new URL(x,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof n=="boolean")return n}return!0}):[]}function S0(x,S){return _0(x.map(A=>{let t=S.routes[A.route.id];if(!t)return[];let _=[t.module];return t.imports&&(_=_.concat(t.imports)),_}).flat(1))}function _0(x){return[...new Set(x)]}function T0(x){let S={},A=Object.keys(x).sort();for(let t of A)S[t]=x[t];return S}function E0(x,S){let A=new Set;return new Set(S),x.reduce((t,_)=>{let y=JSON.stringify(T0(_));return A.has(y)||(A.add(y),t.push({key:y,link:_})),t},[])}function k0(x){let S=typeof x=="string"?new URL(x,typeof window>"u"?"server://singlefetch/":window.location.origin):x;return S.pathname==="/"?S.pathname="_root.data":S.pathname=`${S.pathname.replace(/\/$/,"")}.data`,S}function C0(){let x=Ie.useContext(hi);return cd(x,"You must render this element inside a <DataRouterContext.Provider> element"),x}function M0(){let x=Ie.useContext(Fl);return cd(x,"You must render this element inside a <DataRouterStateContext.Provider> element"),x}var dd=Ie.createContext(void 0);dd.displayName="FrameworkContext";function Im(){let x=Ie.useContext(dd);return cd(x,"You must render this element inside a <HydratedRouter> element"),x}function P0(x,S){let A=Ie.useContext(dd),[t,_]=Ie.useState(!1),[y,l]=Ie.useState(!1),{onFocus:f,onBlur:s,onMouseEnter:c,onMouseLeave:p,onTouchStart:m}=S,n=Ie.useRef(null);Ie.useEffect(()=>{if(x==="render"&&l(!0),x==="viewport"){let i=d=>{d.forEach(h=>{l(h.isIntersecting)})},u=new IntersectionObserver(i,{threshold:.5});return n.current&&u.observe(n.current),()=>{u.disconnect()}}},[x]),Ie.useEffect(()=>{if(t){let i=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(i)}}},[t]);let r=()=>{_(!0)},a=()=>{_(!1),l(!1)};return A?x!=="intent"?[y,n,{}]:[y,n,{onFocus:Xi(f,r),onBlur:Xi(s,a),onMouseEnter:Xi(c,r),onMouseLeave:Xi(p,a),onTouchStart:Xi(m,r)}]:[!1,n,{}]}function Xi(x,S){return A=>{x&&x(A),A.defaultPrevented||S(A)}}function O0({page:x,...S}){let{router:A}=C0(),t=Ie.useMemo(()=>_m(A.routes,x,A.basename),[A.routes,x,A.basename]);return t?Ie.createElement(L0,{page:x,matches:t,...S}):null}function A0(x){let{manifest:S,routeModules:A}=Im(),[t,_]=Ie.useState([]);return Ie.useEffect(()=>{let y=!1;return j0(x,S,A).then(l=>{y||_(l)}),()=>{y=!0}},[x,S,A]),t}function L0({page:x,matches:S,...A}){let t=ys(),{manifest:_,routeModules:y}=Im(),{loaderData:l,matches:f}=M0(),s=Ie.useMemo(()=>op(x,S,f,_,t,"data"),[x,S,f,_,t]),c=Ie.useMemo(()=>op(x,S,f,_,t,"assets"),[x,S,f,_,t]),p=Ie.useMemo(()=>{if(x===t.pathname+t.search+t.hash)return[];let r=new Set,a=!1;if(S.forEach(u=>{var h;let d=_.routes[u.route.id];!d||!d.hasLoader||(!s.some(b=>b.route.id===u.route.id)&&u.route.id in l&&((h=y[u.route.id])!=null&&h.shouldRevalidate)||d.hasClientLoader?a=!0:r.add(u.route.id))}),r.size===0)return[];let i=k0(x);return a&&r.size>0&&i.searchParams.set("_routes",S.filter(u=>r.has(u.route.id)).map(u=>u.route.id).join(",")),[i.pathname+i.search]},[l,t,_,s,S,x,y]),m=Ie.useMemo(()=>S0(c,_),[c,_]),n=A0(c);return Ie.createElement(Ie.Fragment,null,p.map(r=>Ie.createElement("link",{key:r,rel:"prefetch",as:"fetch",href:r,...A})),m.map(r=>Ie.createElement("link",{key:r,rel:"modulepreload",href:r,...A})),n.map(({key:r,link:a})=>Ie.createElement("link",{key:r,...a})))}function R0(...x){return S=>{x.forEach(A=>{typeof A=="function"?A(S):A!=null&&(A.current=S)})}}var Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fm&&(window.__reactRouterVersion="7.1.5")}catch{}function D0({basename:x,children:S,window:A}){let t=Ie.useRef();t.current==null&&(t.current=vv({window:A,v5Compat:!0}));let _=t.current,[y,l]=Ie.useState({action:_.action,location:_.location}),f=Ie.useCallback(s=>{Ie.startTransition(()=>l(s))},[l]);return Ie.useLayoutEffect(()=>_.listen(f),[_,f]),Ie.createElement(c0,{basename:x,children:S,location:y.location,navigationType:y.action,navigator:_})}var Nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fd=Ie.forwardRef(function({onClick:S,discover:A="render",prefetch:t="none",relative:_,reloadDocument:y,replace:l,state:f,target:s,to:c,preventScrollReset:p,viewTransition:m,...n},r){let{basename:a}=Ie.useContext(Jn),i=typeof c=="string"&&Nm.test(c),u,d=!1;if(typeof c=="string"&&i&&(u=c,Fm))try{let L=new URL(window.location.href),R=c.startsWith("//")?new URL(L.protocol+c):new URL(c),M=Hs(R.pathname,a);R.origin===L.origin&&M!=null?c=M+R.search+R.hash:d=!0}catch{Qn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=Hv(c,{relative:_}),[b,v,w]=P0(t,n),E=N0(c,{replace:l,state:f,target:s,preventScrollReset:p,relative:_,viewTransition:m});function k(L){S&&S(L),L.defaultPrevented||E(L)}let T=Ie.createElement("a",{...n,...w,href:u||h,onClick:d||y?S:k,ref:R0(r,v),target:s,"data-discover":!i&&A==="render"?"true":void 0});return b&&!i?Ie.createElement(Ie.Fragment,null,T,Ie.createElement(O0,{page:h})):T});fd.displayName="Link";var Um=Ie.forwardRef(function({"aria-current":S="page",caseSensitive:A=!1,className:t="",end:_=!1,style:y,to:l,viewTransition:f,children:s,...c},p){let m=ca(l,{relative:c.relative}),n=ys(),r=Ie.useContext(Fl),{navigator:a,basename:i}=Ie.useContext(Jn),u=r!=null&&z0(m)&&f===!0,d=a.encodeLocation?a.encodeLocation(m).pathname:m.pathname,h=n.pathname,b=r&&r.navigation&&r.navigation.location?r.navigation.location.pathname:null;A||(h=h.toLowerCase(),b=b?b.toLowerCase():null,d=d.toLowerCase()),b&&i&&(b=Hs(b,i)||b);const v=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let w=h===d||!_&&h.startsWith(d)&&h.charAt(v)==="/",E=b!=null&&(b===d||!_&&b.startsWith(d)&&b.charAt(d.length)==="/"),k={isActive:w,isPending:E,isTransitioning:u},T=w?S:void 0,L;typeof t=="function"?L=t(k):L=[t,w?"active":null,E?"pending":null,u?"transitioning":null].filter(Boolean).join(" ");let R=typeof y=="function"?y(k):y;return Ie.createElement(fd,{...c,"aria-current":T,className:L,ref:p,style:R,to:l,viewTransition:f},typeof s=="function"?s(k):s)});Um.displayName="NavLink";var I0=Ie.forwardRef(({discover:x="render",fetcherKey:S,navigate:A,reloadDocument:t,replace:_,state:y,method:l=_l,action:f,onSubmit:s,relative:c,preventScrollReset:p,viewTransition:m,...n},r)=>{let a=V0(),i=G0(f,{relative:c}),u=l.toLowerCase()==="get"?"get":"post",d=typeof f=="string"&&Nm.test(f),h=b=>{if(s&&s(b),b.defaultPrevented)return;b.preventDefault();let v=b.nativeEvent.submitter,w=(v==null?void 0:v.getAttribute("formmethod"))||l;a(v||b.currentTarget,{fetcherKey:S,method:w,navigate:A,replace:_,state:y,relative:c,preventScrollReset:p,viewTransition:m})};return Ie.createElement("form",{ref:r,method:u,action:i,onSubmit:t?s:h,...n,"data-discover":!d&&x==="render"?"true":void 0})});I0.displayName="Form";function F0(x){return`${x} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bm(x){let S=Ie.useContext(hi);return yr(S,F0(x)),S}function N0(x,{target:S,replace:A,state:t,preventScrollReset:_,relative:y,viewTransition:l}={}){let f=Wv(),s=ys(),c=ca(x,{relative:y});return Ie.useCallback(p=>{if(y0(p,S)){p.preventDefault();let m=A!==void 0?A:ta(s)===ta(c);f(x,{replace:m,state:t,preventScrollReset:_,relative:y,viewTransition:l})}},[s,f,c,A,t,S,x,_,y,l])}var U0=0,B0=()=>`__${String(++U0)}__`;function V0(){let{router:x}=Bm("useSubmit"),{basename:S}=Ie.useContext(Jn),A=o0();return Ie.useCallback(async(t,_={})=>{let{action:y,method:l,encType:f,formData:s,body:c}=b0(t,S);if(_.navigate===!1){let p=_.fetcherKey||B0();await x.fetch(p,A,_.action||y,{preventScrollReset:_.preventScrollReset,formData:s,body:c,formMethod:_.method||l,formEncType:_.encType||f,flushSync:_.flushSync})}else await x.navigate(_.action||y,{preventScrollReset:_.preventScrollReset,formData:s,body:c,formMethod:_.method||l,formEncType:_.encType||f,replace:_.replace,state:_.state,fromRouteId:A,flushSync:_.flushSync,viewTransition:_.viewTransition})},[x,S,A])}function G0(x,{relative:S}={}){let{basename:A}=Ie.useContext(Jn),t=Ie.useContext(Gn);yr(t,"useFormAction must be used inside a RouteContext");let[_]=t.matches.slice(-1),y={...ca(x||".",{relative:S})},l=ys();if(x==null){y.search=l.search;let f=new URLSearchParams(y.search),s=f.getAll("index");if(s.some(p=>p==="")){f.delete("index"),s.filter(m=>m).forEach(m=>f.append("index",m));let p=f.toString();y.search=p?`?${p}`:""}}return(!x||x===".")&&_.route.index&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),A!=="/"&&(y.pathname=y.pathname==="/"?A:fs([A,y.pathname])),ta(y)}function z0(x,S={}){let A=Ie.useContext(Pm);yr(A!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:t}=Bm("useViewTransitionState"),_=ca(x,{relative:S.relative});if(!A.isTransitioning)return!1;let y=Hs(A.currentLocation.pathname,t)||A.currentLocation.pathname,l=Hs(A.nextLocation.pathname,t)||A.nextLocation.pathname;return Pl(_.pathname,l)!=null||Pl(_.pathname,y)!=null}new TextEncoder;const H0=({location:x})=>Tt.jsxs("header",{className:"header-nav",children:[Tt.jsx("div",{className:"logo",children:"Logo"}),Tt.jsxs("nav",{className:"header-nav",children:[Tt.jsx(Ec,{path:"/",currentPath:x.pathname,children:"Home"}),Tt.jsx(Ec,{path:"/projects",currentPath:x.pathname,children:"Project"}),Tt.jsx(Ec,{path:"/about",currentPath:x.pathname,children:"About"})]})]}),Ec=({children:x,path:S})=>{const[A,t]=Ie.useState();return Tt.jsx(Um,{to:S,className:`header-item ${A?"hovered":""}`,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:x})},hd=Ie.createContext({});function pd(x){const S=Ie.useRef(null);return S.current===null&&(S.current=x()),S.current}const Ul=Ie.createContext(null),md=Ie.createContext({transformPagePoint:x=>x,isStatic:!1,reducedMotion:"never"});class W0 extends Ie.Component{getSnapshotBeforeUpdate(S){const A=this.props.childRef.current;if(A&&S.isPresent&&!this.props.isPresent){const t=A.offsetParent,_=t instanceof HTMLElement&&t.offsetWidth||0,y=this.props.sizeRef.current;y.height=A.offsetHeight||0,y.width=A.offsetWidth||0,y.top=A.offsetTop,y.left=A.offsetLeft,y.right=_-y.width-y.left}return null}componentDidUpdate(){}render(){return this.props.children}}function X0({children:x,isPresent:S,anchorX:A}){const t=Ie.useId(),_=Ie.useRef(null),y=Ie.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=Ie.useContext(md);return Ie.useInsertionEffect(()=>{const{width:f,height:s,top:c,left:p,right:m}=y.current;if(S||!_.current||!f||!s)return;const n=A==="left"?`left: ${p}`:`right: ${m}`;_.current.dataset.motionPopId=t;const r=document.createElement("style");return l&&(r.nonce=l),document.head.appendChild(r),r.sheet&&r.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${s}px !important;
            ${n}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(r)}},[S]),Tt.jsx(W0,{isPresent:S,childRef:_,sizeRef:y,children:Ie.cloneElement(x,{ref:_})})}const q0=({children:x,initial:S,isPresent:A,onExitComplete:t,custom:_,presenceAffectsLayout:y,mode:l,anchorX:f})=>{const s=pd(Y0),c=Ie.useId(),p=Ie.useCallback(n=>{s.set(n,!0);for(const r of s.values())if(!r)return;t&&t()},[s,t]),m=Ie.useMemo(()=>({id:c,initial:S,isPresent:A,custom:_,onExitComplete:p,register:n=>(s.set(n,!1),()=>s.delete(n))}),y?[Math.random(),p]:[A,p]);return Ie.useMemo(()=>{s.forEach((n,r)=>s.set(r,!1))},[A]),Ie.useEffect(()=>{!A&&!s.size&&t&&t()},[A]),l==="popLayout"&&(x=Tt.jsx(X0,{isPresent:A,anchorX:f,children:x})),Tt.jsx(Ul.Provider,{value:m,children:x})};function Y0(){return new Map}function Vm(x=!0){const S=Ie.useContext(Ul);if(S===null)return[!0,null];const{isPresent:A,onExitComplete:t,register:_}=S,y=Ie.useId();Ie.useEffect(()=>{x&&_(y)},[x]);const l=Ie.useCallback(()=>x&&t&&t(y),[y,t,x]);return!A&&t?[!1,l]:[!0]}const bl=x=>x.key||"";function ip(x){const S=[];return Ie.Children.forEach(x,A=>{Ie.isValidElement(A)&&S.push(A)}),S}const yd=typeof window<"u",Gm=yd?Ie.useLayoutEffect:Ie.useEffect,$0=({children:x,custom:S,initial:A=!0,onExitComplete:t,presenceAffectsLayout:_=!0,mode:y="sync",propagate:l=!1,anchorX:f="left"})=>{const[s,c]=Vm(l),p=Ie.useMemo(()=>ip(x),[x]),m=l&&!s?[]:p.map(bl),n=Ie.useRef(!0),r=Ie.useRef(p),a=pd(()=>new Map),[i,u]=Ie.useState(p),[d,h]=Ie.useState(p);Gm(()=>{n.current=!1,r.current=p;for(let w=0;w<d.length;w++){const E=bl(d[w]);m.includes(E)?a.delete(E):a.get(E)!==!0&&a.set(E,!1)}},[d,m.length,m.join("-")]);const b=[];if(p!==i){let w=[...p];for(let E=0;E<d.length;E++){const k=d[E],T=bl(k);m.includes(T)||(w.splice(E,0,k),b.push(k))}return y==="wait"&&b.length&&(w=b),h(ip(w)),u(p),null}const{forceRender:v}=Ie.useContext(hd);return Tt.jsx(Tt.Fragment,{children:d.map(w=>{const E=bl(w),k=l&&!s?!1:p===d||m.includes(E),T=()=>{if(a.has(E))a.set(E,!0);else return;let L=!0;a.forEach(R=>{R||(L=!1)}),L&&(v==null||v(),h(r.current),l&&(c==null||c()),t&&t())};return Tt.jsx(q0,{isPresent:k,initial:!n.current||A?void 0:!1,custom:S,presenceAffectsLayout:_,mode:y,onExitComplete:k?void 0:T,anchorX:f,children:w},E)})})},wn=x=>x;let Gc=wn;const K0={skipAnimations:!1,useManualTiming:!1},xl=["read","resolveKeyframes","update","preRender","render","postRender"];function Z0(x,S){let A=new Set,t=new Set,_=!1,y=!1;const l=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function s(p){l.has(p)&&(c.schedule(p),x()),p(f)}const c={schedule:(p,m=!1,n=!1)=>{const a=n&&_?A:t;return m&&l.add(p),a.has(p)||a.add(p),p},cancel:p=>{t.delete(p),l.delete(p)},process:p=>{if(f=p,_){y=!0;return}_=!0,[A,t]=[t,A],A.forEach(s),A.clear(),_=!1,y&&(y=!1,c.process(p))}};return c}const Q0=40;function zm(x,S){let A=!1,t=!0;const _={delta:0,timestamp:0,isProcessing:!1},y=()=>A=!0,l=xl.reduce((d,h)=>(d[h]=Z0(y),d),{}),{read:f,resolveKeyframes:s,update:c,preRender:p,render:m,postRender:n}=l,r=()=>{const d=performance.now();A=!1,_.delta=t?1e3/60:Math.max(Math.min(d-_.timestamp,Q0),1),_.timestamp=d,_.isProcessing=!0,f.process(_),s.process(_),c.process(_),p.process(_),m.process(_),n.process(_),_.isProcessing=!1,A&&S&&(t=!1,x(r))},a=()=>{A=!0,t=!0,_.isProcessing||x(r)};return{schedule:xl.reduce((d,h)=>{const b=l[h];return d[h]=(v,w=!1,E=!1)=>(A||a(),b.schedule(v,w,E)),d},{}),cancel:d=>{for(let h=0;h<xl.length;h++)l[xl[h]].cancel(d)},state:_,steps:l}}const{schedule:nr,cancel:Ws,state:Gr,steps:kc}=zm(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),Hm=Ie.createContext({strict:!1}),ap={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ui={};for(const x in ap)ui[x]={isEnabled:S=>ap[x].some(A=>!!S[A])};function J0(x){for(const S in x)ui[S]={...ui[S],...x[S]}}const e1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ol(x){return x.startsWith("while")||x.startsWith("drag")&&x!=="draggable"||x.startsWith("layout")||x.startsWith("onTap")||x.startsWith("onPan")||x.startsWith("onLayout")||e1.has(x)}let Wm=x=>!Ol(x);function t1(x){x&&(Wm=S=>S.startsWith("on")?!Ol(S):x(S))}try{t1(require("@emotion/is-prop-valid").default)}catch{}function r1(x,S,A){const t={};for(const _ in x)_==="values"&&typeof x.values=="object"||(Wm(_)||A===!0&&Ol(_)||!S&&!Ol(_)||x.draggable&&_.startsWith("onDrag"))&&(t[_]=x[_]);return t}function n1(x){if(typeof Proxy>"u")return x;const S=new Map,A=(...t)=>x(...t);return new Proxy(A,{get:(t,_)=>_==="create"?x:(S.has(_)||S.set(_,x(_)),S.get(_))})}const Bl=Ie.createContext({});function Vl(x){return x!==null&&typeof x=="object"&&typeof x.start=="function"}function ra(x){return typeof x=="string"||Array.isArray(x)}const gd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vd=["initial",...gd];function Gl(x){return Vl(x.animate)||vd.some(S=>ra(x[S]))}function Xm(x){return!!(Gl(x)||x.variants)}function s1(x,S){if(Gl(x)){const{initial:A,animate:t}=x;return{initial:A===!1||ra(A)?A:void 0,animate:ra(t)?t:void 0}}return x.inherit!==!1?S:{}}function o1(x){const{initial:S,animate:A}=s1(x,Ie.useContext(Bl));return Ie.useMemo(()=>({initial:S,animate:A}),[lp(S),lp(A)])}function lp(x){return Array.isArray(x)?x.join(" "):x}const i1=Symbol.for("motionComponentSymbol");function si(x){return x&&typeof x=="object"&&Object.prototype.hasOwnProperty.call(x,"current")}function a1(x,S,A){return Ie.useCallback(t=>{t&&x.onMount&&x.onMount(t),S&&(t?S.mount(t):S.unmount()),A&&(typeof A=="function"?A(t):si(A)&&(A.current=t))},[S])}const bd=x=>x.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l1="framerAppearId",qm="data-"+bd(l1),{schedule:xd,cancel:L2}=zm(queueMicrotask,!1),Ym=Ie.createContext({});function u1(x,S,A,t,_){var y,l;const{visualElement:f}=Ie.useContext(Bl),s=Ie.useContext(Hm),c=Ie.useContext(Ul),p=Ie.useContext(md).reducedMotion,m=Ie.useRef(null);t=t||s.renderer,!m.current&&t&&(m.current=t(x,{visualState:S,parent:f,props:A,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:p}));const n=m.current,r=Ie.useContext(Ym);n&&!n.projection&&_&&(n.type==="html"||n.type==="svg")&&c1(m.current,A,_,r);const a=Ie.useRef(!1);Ie.useInsertionEffect(()=>{n&&a.current&&n.update(A,c)});const i=A[qm],u=Ie.useRef(!!i&&!(!((y=window.MotionHandoffIsComplete)===null||y===void 0)&&y.call(window,i))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,i)));return Gm(()=>{n&&(a.current=!0,window.MotionIsMounted=!0,n.updateFeatures(),xd.render(n.render),u.current&&n.animationState&&n.animationState.animateChanges())}),Ie.useEffect(()=>{n&&(!u.current&&n.animationState&&n.animationState.animateChanges(),u.current&&(queueMicrotask(()=>{var d;(d=window.MotionHandoffMarkAsComplete)===null||d===void 0||d.call(window,i)}),u.current=!1))}),n}function c1(x,S,A,t){const{layoutId:_,layout:y,drag:l,dragConstraints:f,layoutScroll:s,layoutRoot:c}=S;x.projection=new A(x.latestValues,S["data-framer-portal-id"]?void 0:$m(x.parent)),x.projection.setOptions({layoutId:_,layout:y,alwaysMeasureLayout:!!l||f&&si(f),visualElement:x,animationType:typeof y=="string"?y:"both",initialPromotionConfig:t,layoutScroll:s,layoutRoot:c})}function $m(x){if(x)return x.options.allowProjection!==!1?x.projection:$m(x.parent)}function d1({preloadedFeatures:x,createVisualElement:S,useRender:A,useVisualState:t,Component:_}){var y,l;x&&J0(x);function f(c,p){let m;const n={...Ie.useContext(md),...c,layoutId:f1(c)},{isStatic:r}=n,a=o1(c),i=t(c,r);if(!r&&yd){h1();const u=p1(n);m=u.MeasureLayout,a.visualElement=u1(_,i,n,S,u.ProjectionNode)}return Tt.jsxs(Bl.Provider,{value:a,children:[m&&a.visualElement?Tt.jsx(m,{visualElement:a.visualElement,...n}):null,A(_,c,a1(i,a.visualElement,p),i,r,a.visualElement)]})}f.displayName=`motion.${typeof _=="string"?_:`create(${(l=(y=_.displayName)!==null&&y!==void 0?y:_.name)!==null&&l!==void 0?l:""})`}`;const s=Ie.forwardRef(f);return s[i1]=_,s}function f1({layoutId:x}){const S=Ie.useContext(hd).id;return S&&x!==void 0?S+"-"+x:x}function h1(x,S){Ie.useContext(Hm).strict}function p1(x){const{drag:S,layout:A}=ui;if(!S&&!A)return{};const t={...S,...A};return{MeasureLayout:S!=null&&S.isEnabled(x)||A!=null&&A.isEnabled(x)?t.MeasureLayout:void 0,ProjectionNode:t.ProjectionNode}}const Km=x=>S=>typeof S=="string"&&S.startsWith(x),wd=Km("--"),m1=Km("var(--"),jd=x=>m1(x)?y1.test(x.split("/*")[0].trim()):!1,y1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,na={};function g1(x){for(const S in x)na[S]=x[S],wd(S)&&(na[S].isCSSVariable=!0)}const pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Co=new Set(pi);function Zm(x,{layout:S,layoutId:A}){return Co.has(x)||x.startsWith("origin")||(S||A!==void 0)&&(!!na[x]||x==="opacity")}const $r=x=>!!(x&&x.getVelocity),Qm=(x,S)=>S&&typeof x=="number"?S.transform(x):x,ms=(x,S,A)=>A>S?S:A<x?x:A,mi={test:x=>typeof x=="number",parse:parseFloat,transform:x=>x},sa={...mi,transform:x=>ms(0,1,x)},wl={...mi,default:1},da=x=>({test:S=>typeof S=="string"&&S.endsWith(x)&&S.split(" ").length===1,parse:parseFloat,transform:S=>`${S}${x}`}),zs=da("deg"),Kn=da("%"),Lt=da("px"),v1=da("vh"),b1=da("vw"),up={...Kn,parse:x=>Kn.parse(x)/100,transform:x=>Kn.transform(x*100)},x1={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},w1={rotate:zs,rotateX:zs,rotateY:zs,rotateZ:zs,scale:wl,scaleX:wl,scaleY:wl,scaleZ:wl,skew:zs,skewX:zs,skewY:zs,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:sa,originX:up,originY:up,originZ:Lt},cp={...mi,transform:Math.round},Sd={...x1,...w1,zIndex:cp,size:Lt,fillOpacity:sa,strokeOpacity:sa,numOctaves:cp},j1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S1=pi.length;function _1(x,S,A){let t="",_=!0;for(let y=0;y<S1;y++){const l=pi[y],f=x[l];if(f===void 0)continue;let s=!0;if(typeof f=="number"?s=f===(l.startsWith("scale")?1:0):s=parseFloat(f)===0,!s||A){const c=Qm(f,Sd[l]);if(!s){_=!1;const p=j1[l]||l;t+=`${p}(${c}) `}A&&(S[l]=c)}}return t=t.trim(),A?t=A(S,_?"":t):_&&(t="none"),t}function _d(x,S,A){const{style:t,vars:_,transformOrigin:y}=x;let l=!1,f=!1;for(const s in S){const c=S[s];if(Co.has(s)){l=!0;continue}else if(wd(s)){_[s]=c;continue}else{const p=Qm(c,Sd[s]);s.startsWith("origin")?(f=!0,y[s]=p):t[s]=p}}if(S.transform||(l||A?t.transform=_1(S,x.transform,A):t.transform&&(t.transform="none")),f){const{originX:s="50%",originY:c="50%",originZ:p=0}=y;t.transformOrigin=`${s} ${c} ${p}`}}const Td=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jm(x,S,A){for(const t in S)!$r(S[t])&&!Zm(t,A)&&(x[t]=S[t])}function T1({transformTemplate:x},S){return Ie.useMemo(()=>{const A=Td();return _d(A,S,x),Object.assign({},A.vars,A.style)},[S])}function E1(x,S){const A=x.style||{},t={};return Jm(t,A,x),Object.assign(t,T1(x,S)),t}function k1(x,S){const A={},t=E1(x,S);return x.drag&&x.dragListener!==!1&&(A.draggable=!1,t.userSelect=t.WebkitUserSelect=t.WebkitTouchCallout="none",t.touchAction=x.drag===!0?"none":`pan-${x.drag==="x"?"y":"x"}`),x.tabIndex===void 0&&(x.onTap||x.onTapStart||x.whileTap)&&(A.tabIndex=0),A.style=t,A}const C1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ed(x){return typeof x!="string"||x.includes("-")?!1:!!(C1.indexOf(x)>-1||/[A-Z]/u.test(x))}const M1={offset:"stroke-dashoffset",array:"stroke-dasharray"},P1={offset:"strokeDashoffset",array:"strokeDasharray"};function O1(x,S,A=1,t=0,_=!0){x.pathLength=1;const y=_?M1:P1;x[y.offset]=Lt.transform(-t);const l=Lt.transform(S),f=Lt.transform(A);x[y.array]=`${l} ${f}`}function dp(x,S,A){return typeof x=="string"?x:Lt.transform(S+A*x)}function A1(x,S,A){const t=dp(S,x.x,x.width),_=dp(A,x.y,x.height);return`${t} ${_}`}function kd(x,{attrX:S,attrY:A,attrScale:t,originX:_,originY:y,pathLength:l,pathSpacing:f=1,pathOffset:s=0,...c},p,m){if(_d(x,c,m),p){x.style.viewBox&&(x.attrs.viewBox=x.style.viewBox);return}x.attrs=x.style,x.style={};const{attrs:n,style:r,dimensions:a}=x;n.transform&&(a&&(r.transform=n.transform),delete n.transform),a&&(_!==void 0||y!==void 0||r.transform)&&(r.transformOrigin=A1(a,_!==void 0?_:.5,y!==void 0?y:.5)),S!==void 0&&(n.x=S),A!==void 0&&(n.y=A),t!==void 0&&(n.scale=t),l!==void 0&&O1(n,l,f,s,!1)}const ey=()=>({...Td(),attrs:{}}),Cd=x=>typeof x=="string"&&x.toLowerCase()==="svg";function L1(x,S,A,t){const _=Ie.useMemo(()=>{const y=ey();return kd(y,S,Cd(t),x.transformTemplate),{...y.attrs,style:{...y.style}}},[S]);if(x.style){const y={};Jm(y,x.style,x),_.style={...y,..._.style}}return _}function R1(x=!1){return(A,t,_,{latestValues:y},l)=>{const s=(Ed(A)?L1:k1)(t,y,l,A),c=r1(t,typeof A=="string",x),p=A!==Ie.Fragment?{...c,...s,ref:_}:{},{children:m}=t,n=Ie.useMemo(()=>$r(m)?m.get():m,[m]);return Ie.createElement(A,{...p,children:n})}}function fp(x){const S=[{},{}];return x==null||x.values.forEach((A,t)=>{S[0][t]=A.get(),S[1][t]=A.getVelocity()}),S}function Md(x,S,A,t){if(typeof S=="function"){const[_,y]=fp(t);S=S(A!==void 0?A:x.custom,_,y)}if(typeof S=="string"&&(S=x.variants&&x.variants[S]),typeof S=="function"){const[_,y]=fp(t);S=S(A!==void 0?A:x.custom,_,y)}return S}const zc=x=>Array.isArray(x),D1=x=>!!(x&&typeof x=="object"&&x.mix&&x.toValue),I1=x=>zc(x)?x[x.length-1]||0:x;function El(x){const S=$r(x)?x.get():x;return D1(S)?S.toValue():S}function F1({scrapeMotionValuesFromProps:x,createRenderState:S,onUpdate:A},t,_,y){const l={latestValues:N1(t,_,y,x),renderState:S()};return A&&(l.onMount=f=>A({props:t,current:f,...l}),l.onUpdate=f=>A(f)),l}const ty=x=>(S,A)=>{const t=Ie.useContext(Bl),_=Ie.useContext(Ul),y=()=>F1(x,S,t,_);return A?y():pd(y)};function N1(x,S,A,t){const _={},y=t(x,{});for(const n in y)_[n]=El(y[n]);let{initial:l,animate:f}=x;const s=Gl(x),c=Xm(x);S&&c&&!s&&x.inherit!==!1&&(l===void 0&&(l=S.initial),f===void 0&&(f=S.animate));let p=A?A.initial===!1:!1;p=p||l===!1;const m=p?f:l;if(m&&typeof m!="boolean"&&!Vl(m)){const n=Array.isArray(m)?m:[m];for(let r=0;r<n.length;r++){const a=Md(x,n[r]);if(a){const{transitionEnd:i,transition:u,...d}=a;for(const h in d){let b=d[h];if(Array.isArray(b)){const v=p?b.length-1:0;b=b[v]}b!==null&&(_[h]=b)}for(const h in i)_[h]=i[h]}}}return _}function Pd(x,S,A){var t;const{style:_}=x,y={};for(const l in _)($r(_[l])||S.style&&$r(S.style[l])||Zm(l,x)||((t=A==null?void 0:A.getValue(l))===null||t===void 0?void 0:t.liveStyle)!==void 0)&&(y[l]=_[l]);return y}const U1={useVisualState:ty({scrapeMotionValuesFromProps:Pd,createRenderState:Td})};function ry(x,S){try{S.dimensions=typeof x.getBBox=="function"?x.getBBox():x.getBoundingClientRect()}catch{S.dimensions={x:0,y:0,width:0,height:0}}}function ny(x,{style:S,vars:A},t,_){Object.assign(x.style,S,_&&_.getProjectionStyles(t));for(const y in A)x.style.setProperty(y,A[y])}const sy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oy(x,S,A,t){ny(x,S,void 0,t);for(const _ in S.attrs)x.setAttribute(sy.has(_)?_:bd(_),S.attrs[_])}function iy(x,S,A){const t=Pd(x,S,A);for(const _ in x)if($r(x[_])||$r(S[_])){const y=pi.indexOf(_)!==-1?"attr"+_.charAt(0).toUpperCase()+_.substring(1):_;t[y]=x[_]}return t}const hp=["x","y","width","height","cx","cy","r"],B1={useVisualState:ty({scrapeMotionValuesFromProps:iy,createRenderState:ey,onUpdate:({props:x,prevProps:S,current:A,renderState:t,latestValues:_})=>{if(!A)return;let y=!!x.drag;if(!y){for(const f in _)if(Co.has(f)){y=!0;break}}if(!y)return;let l=!S;if(S)for(let f=0;f<hp.length;f++){const s=hp[f];x[s]!==S[s]&&(l=!0)}l&&nr.read(()=>{ry(A,t),nr.render(()=>{kd(t,_,Cd(A.tagName),x.transformTemplate),oy(A,t)})})}})};function V1(x,S){return function(t,{forwardMotionProps:_}={forwardMotionProps:!1}){const l={...Ed(t)?B1:U1,preloadedFeatures:x,useRender:R1(_),createVisualElement:S,Component:t};return d1(l)}}function zl(x,S,A){const t=x.getProps();return Md(t,S,A!==void 0?A:t.custom,x)}function Od(x,S){return x?x[S]||x.default||x:void 0}const ay=new Set(["width","height","top","left","right","bottom",...pi]);let kl;function G1(){kl=void 0}const Zn={now:()=>(kl===void 0&&Zn.set(Gr.isProcessing||K0.useManualTiming?Gr.timestamp:performance.now()),kl),set:x=>{kl=x,queueMicrotask(G1)}};function Ad(x,S){x.indexOf(S)===-1&&x.push(S)}function Ld(x,S){const A=x.indexOf(S);A>-1&&x.splice(A,1)}class Rd{constructor(){this.subscriptions=[]}add(S){return Ad(this.subscriptions,S),()=>Ld(this.subscriptions,S)}notify(S,A,t){const _=this.subscriptions.length;if(_)if(_===1)this.subscriptions[0](S,A,t);else for(let y=0;y<_;y++){const l=this.subscriptions[y];l&&l(S,A,t)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ly(x,S){return S?x*(1e3/S):0}const pp=30,z1=x=>!isNaN(parseFloat(x));class H1{constructor(S,A={}){this.version="12.4.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,_=!0)=>{const y=Zn.now();this.updatedAt!==y&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),_&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(S),this.owner=A.owner}setCurrent(S){this.current=S,this.updatedAt=Zn.now(),this.canTrackVelocity===null&&S!==void 0&&(this.canTrackVelocity=z1(this.current))}setPrevFrameValue(S=this.current){this.prevFrameValue=S,this.prevUpdatedAt=this.updatedAt}onChange(S){return this.on("change",S)}on(S,A){this.events[S]||(this.events[S]=new Rd);const t=this.events[S].add(A);return S==="change"?()=>{t(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:t}clearListeners(){for(const S in this.events)this.events[S].clear()}attach(S,A){this.passiveEffect=S,this.stopPassiveEffect=A}set(S,A=!0){!A||!this.passiveEffect?this.updateAndNotify(S,A):this.passiveEffect(S,this.updateAndNotify)}setWithVelocity(S,A,t){this.set(A),this.prev=void 0,this.prevFrameValue=S,this.prevUpdatedAt=this.updatedAt-t}jump(S,A=!0){this.updateAndNotify(S),this.prev=S,this.prevUpdatedAt=this.prevFrameValue=void 0,A&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const S=Zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||S-this.updatedAt>pp)return 0;const A=Math.min(this.updatedAt-this.prevUpdatedAt,pp);return ly(parseFloat(this.current)-parseFloat(this.prevFrameValue),A)}start(S){return this.stop(),new Promise(A=>{this.hasAnimated=!0,this.animation=S(A),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oa(x,S){return new H1(x,S)}function W1(x,S,A){x.hasValue(S)?x.getValue(S).set(A):x.addValue(S,oa(A))}function X1(x,S){const A=zl(x,S);let{transitionEnd:t={},transition:_={},...y}=A||{};y={...y,...t};for(const l in y){const f=I1(y[l]);W1(x,l,f)}}function q1(x){return!!($r(x)&&x.add)}function Hc(x,S){const A=x.getValue("willChange");if(q1(A))return A.add(S)}function uy(x){return x.props[qm]}function Dd(x){let S;return()=>(S===void 0&&(S=x()),S)}const Y1=Dd(()=>window.ScrollTimeline!==void 0);class $1{constructor(S){this.stop=()=>this.runAll("stop"),this.animations=S.filter(Boolean)}get finished(){return Promise.all(this.animations.map(S=>"finished"in S?S.finished:S))}getAll(S){return this.animations[0][S]}setAll(S,A){for(let t=0;t<this.animations.length;t++)this.animations[t][S]=A}attachTimeline(S,A){const t=this.animations.map(_=>{if(Y1()&&_.attachTimeline)return _.attachTimeline(S);if(typeof A=="function")return A(_)});return()=>{t.forEach((_,y)=>{_&&_(),this.animations[y].stop()})}}get time(){return this.getAll("time")}set time(S){this.setAll("time",S)}get speed(){return this.getAll("speed")}set speed(S){this.setAll("speed",S)}get startTime(){return this.getAll("startTime")}get duration(){let S=0;for(let A=0;A<this.animations.length;A++)S=Math.max(S,this.animations[A].duration);return S}runAll(S){this.animations.forEach(A=>A[S]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class K1 extends $1{then(S,A){return Promise.all(this.animations).then(S).catch(A)}}const hs=x=>x*1e3,ps=x=>x/1e3;function Id(x){return typeof x=="function"}function mp(x,S){x.timeline=S,x.onfinish=null}const Fd=x=>Array.isArray(x)&&typeof x[0]=="number",Z1={linearEasing:void 0};function Q1(x,S){const A=Dd(x);return()=>{var t;return(t=Z1[S])!==null&&t!==void 0?t:A()}}const Al=Q1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ci=(x,S,A)=>{const t=S-x;return t===0?1:(A-x)/t},cy=(x,S,A=10)=>{let t="";const _=Math.max(Math.round(S/A),2);for(let y=0;y<_;y++)t+=x(ci(0,_-1,y))+", ";return`linear(${t.substring(0,t.length-2)})`};function dy(x){return!!(typeof x=="function"&&Al()||!x||typeof x=="string"&&(x in Wc||Al())||Fd(x)||Array.isArray(x)&&x.every(dy))}const $i=([x,S,A,t])=>`cubic-bezier(${x}, ${S}, ${A}, ${t})`,Wc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$i([0,.65,.55,1]),circOut:$i([.55,0,1,.45]),backIn:$i([.31,.01,.66,-.59]),backOut:$i([.33,1.53,.69,.99])};function fy(x,S){if(x)return typeof x=="function"&&Al()?cy(x,S):Fd(x)?$i(x):Array.isArray(x)?x.map(A=>fy(A,S)||Wc.easeOut):Wc[x]}const hy=(x,S,A)=>(((1-3*A+3*S)*x+(3*A-6*S))*x+3*S)*x,J1=1e-7,eb=12;function tb(x,S,A,t,_){let y,l,f=0;do l=S+(A-S)/2,y=hy(l,t,_)-x,y>0?A=l:S=l;while(Math.abs(y)>J1&&++f<eb);return l}function fa(x,S,A,t){if(x===S&&A===t)return wn;const _=y=>tb(y,0,1,x,A);return y=>y===0||y===1?y:hy(_(y),S,t)}const py=x=>S=>S<=.5?x(2*S)/2:(2-x(2*(1-S)))/2,my=x=>S=>1-x(1-S),yy=fa(.33,1.53,.69,.99),Nd=my(yy),gy=py(Nd),vy=x=>(x*=2)<1?.5*Nd(x):.5*(2-Math.pow(2,-10*(x-1))),Ud=x=>1-Math.sin(Math.acos(x)),by=my(Ud),xy=py(Ud),wy=x=>/^0[^.\s]+$/u.test(x);function rb(x){return typeof x=="number"?x===0:x!==null?x==="none"||x==="0"||wy(x):!0}const Zi=x=>Math.round(x*1e5)/1e5,Bd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nb(x){return x==null}const sb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vd=(x,S)=>A=>!!(typeof A=="string"&&sb.test(A)&&A.startsWith(x)||S&&!nb(A)&&Object.prototype.hasOwnProperty.call(A,S)),jy=(x,S,A)=>t=>{if(typeof t!="string")return t;const[_,y,l,f]=t.match(Bd);return{[x]:parseFloat(_),[S]:parseFloat(y),[A]:parseFloat(l),alpha:f!==void 0?parseFloat(f):1}},ob=x=>ms(0,255,x),Cc={...mi,transform:x=>Math.round(ob(x))},Eo={test:Vd("rgb","red"),parse:jy("red","green","blue"),transform:({red:x,green:S,blue:A,alpha:t=1})=>"rgba("+Cc.transform(x)+", "+Cc.transform(S)+", "+Cc.transform(A)+", "+Zi(sa.transform(t))+")"};function ib(x){let S="",A="",t="",_="";return x.length>5?(S=x.substring(1,3),A=x.substring(3,5),t=x.substring(5,7),_=x.substring(7,9)):(S=x.substring(1,2),A=x.substring(2,3),t=x.substring(3,4),_=x.substring(4,5),S+=S,A+=A,t+=t,_+=_),{red:parseInt(S,16),green:parseInt(A,16),blue:parseInt(t,16),alpha:_?parseInt(_,16)/255:1}}const Xc={test:Vd("#"),parse:ib,transform:Eo.transform},oi={test:Vd("hsl","hue"),parse:jy("hue","saturation","lightness"),transform:({hue:x,saturation:S,lightness:A,alpha:t=1})=>"hsla("+Math.round(x)+", "+Kn.transform(Zi(S))+", "+Kn.transform(Zi(A))+", "+Zi(sa.transform(t))+")"},Yr={test:x=>Eo.test(x)||Xc.test(x)||oi.test(x),parse:x=>Eo.test(x)?Eo.parse(x):oi.test(x)?oi.parse(x):Xc.parse(x),transform:x=>typeof x=="string"?x:x.hasOwnProperty("red")?Eo.transform(x):oi.transform(x)},ab=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lb(x){var S,A;return isNaN(x)&&typeof x=="string"&&(((S=x.match(Bd))===null||S===void 0?void 0:S.length)||0)+(((A=x.match(ab))===null||A===void 0?void 0:A.length)||0)>0}const Sy="number",_y="color",ub="var",cb="var(",yp="${}",db=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ia(x){const S=x.toString(),A=[],t={color:[],number:[],var:[]},_=[];let y=0;const f=S.replace(db,s=>(Yr.test(s)?(t.color.push(y),_.push(_y),A.push(Yr.parse(s))):s.startsWith(cb)?(t.var.push(y),_.push(ub),A.push(s)):(t.number.push(y),_.push(Sy),A.push(parseFloat(s))),++y,yp)).split(yp);return{values:A,split:f,indexes:t,types:_}}function Ty(x){return ia(x).values}function Ey(x){const{split:S,types:A}=ia(x),t=S.length;return _=>{let y="";for(let l=0;l<t;l++)if(y+=S[l],_[l]!==void 0){const f=A[l];f===Sy?y+=Zi(_[l]):f===_y?y+=Yr.transform(_[l]):y+=_[l]}return y}}const fb=x=>typeof x=="number"?0:x;function hb(x){const S=Ty(x);return Ey(x)(S.map(fb))}const Xs={test:lb,parse:Ty,createTransformer:Ey,getAnimatableNone:hb},pb=new Set(["brightness","contrast","saturate","opacity"]);function mb(x){const[S,A]=x.slice(0,-1).split("(");if(S==="drop-shadow")return x;const[t]=A.match(Bd)||[];if(!t)return x;const _=A.replace(t,"");let y=pb.has(S)?1:0;return t!==A&&(y*=100),S+"("+y+_+")"}const yb=/\b([a-z-]*)\(.*?\)/gu,qc={...Xs,getAnimatableNone:x=>{const S=x.match(yb);return S?S.map(mb).join(" "):x}},gb={...Sd,color:Yr,backgroundColor:Yr,outlineColor:Yr,fill:Yr,stroke:Yr,borderColor:Yr,borderTopColor:Yr,borderRightColor:Yr,borderBottomColor:Yr,borderLeftColor:Yr,filter:qc,WebkitFilter:qc},Gd=x=>gb[x];function ky(x,S){let A=Gd(x);return A!==qc&&(A=Xs),A.getAnimatableNone?A.getAnimatableNone(S):void 0}const vb=new Set(["auto","none","0"]);function bb(x,S,A){let t=0,_;for(;t<x.length&&!_;){const y=x[t];typeof y=="string"&&!vb.has(y)&&ia(y).values.length&&(_=x[t]),t++}if(_&&A)for(const y of S)x[y]=ky(A,_)}const gp=x=>x===mi||x===Lt,vp=(x,S)=>parseFloat(x.split(", ")[S]),bp=(x,S)=>(A,{transform:t})=>{if(t==="none"||!t)return 0;const _=t.match(/^matrix3d\((.+)\)$/u);if(_)return vp(_[1],S);{const y=t.match(/^matrix\((.+)\)$/u);return y?vp(y[1],x):0}},xb=new Set(["x","y","z"]),wb=pi.filter(x=>!xb.has(x));function jb(x){const S=[];return wb.forEach(A=>{const t=x.getValue(A);t!==void 0&&(S.push([A,t.get()]),t.set(A.startsWith("scale")?1:0))}),S}const di={width:({x},{paddingLeft:S="0",paddingRight:A="0"})=>x.max-x.min-parseFloat(S)-parseFloat(A),height:({y:x},{paddingTop:S="0",paddingBottom:A="0"})=>x.max-x.min-parseFloat(S)-parseFloat(A),top:(x,{top:S})=>parseFloat(S),left:(x,{left:S})=>parseFloat(S),bottom:({y:x},{top:S})=>parseFloat(S)+(x.max-x.min),right:({x},{left:S})=>parseFloat(S)+(x.max-x.min),x:bp(4,13),y:bp(5,14)};di.translateX=di.x;di.translateY=di.y;const ko=new Set;let Yc=!1,$c=!1;function Cy(){if($c){const x=Array.from(ko).filter(t=>t.needsMeasurement),S=new Set(x.map(t=>t.element)),A=new Map;S.forEach(t=>{const _=jb(t);_.length&&(A.set(t,_),t.render())}),x.forEach(t=>t.measureInitialState()),S.forEach(t=>{t.render();const _=A.get(t);_&&_.forEach(([y,l])=>{var f;(f=t.getValue(y))===null||f===void 0||f.set(l)})}),x.forEach(t=>t.measureEndState()),x.forEach(t=>{t.suspendedScrollY!==void 0&&window.scrollTo(0,t.suspendedScrollY)})}$c=!1,Yc=!1,ko.forEach(x=>x.complete()),ko.clear()}function My(){ko.forEach(x=>{x.readKeyframes(),x.needsMeasurement&&($c=!0)})}function Sb(){My(),Cy()}class zd{constructor(S,A,t,_,y,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...S],this.onComplete=A,this.name=t,this.motionValue=_,this.element=y,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ko.add(this),Yc||(Yc=!0,nr.read(My),nr.resolveKeyframes(Cy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:S,name:A,element:t,motionValue:_}=this;for(let y=0;y<S.length;y++)if(S[y]===null)if(y===0){const l=_==null?void 0:_.get(),f=S[S.length-1];if(l!==void 0)S[0]=l;else if(t&&A){const s=t.readValue(A,f);s!=null&&(S[0]=s)}S[0]===void 0&&(S[0]=f),_&&l===void 0&&_.set(S[0])}else S[y]=S[y-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Py=x=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(x),_b=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tb(x){const S=_b.exec(x);if(!S)return[,];const[,A,t,_]=S;return[`--${A??t}`,_]}function Oy(x,S,A=1){const[t,_]=Tb(x);if(!t)return;const y=window.getComputedStyle(S).getPropertyValue(t);if(y){const l=y.trim();return Py(l)?parseFloat(l):l}return jd(_)?Oy(_,S,A+1):_}const Ay=x=>S=>S.test(x),Eb={test:x=>x==="auto",parse:x=>x},Ly=[mi,Lt,Kn,zs,b1,v1,Eb],xp=x=>Ly.find(Ay(x));class Ry extends zd{constructor(S,A,t,_,y){super(S,A,t,_,y,!0)}readKeyframes(){const{unresolvedKeyframes:S,element:A,name:t}=this;if(!A||!A.current)return;super.readKeyframes();for(let s=0;s<S.length;s++){let c=S[s];if(typeof c=="string"&&(c=c.trim(),jd(c))){const p=Oy(c,A.current);p!==void 0&&(S[s]=p),s===S.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ay.has(t)||S.length!==2)return;const[_,y]=S,l=xp(_),f=xp(y);if(l!==f)if(gp(l)&&gp(f))for(let s=0;s<S.length;s++){const c=S[s];typeof c=="string"&&(S[s]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:S,name:A}=this,t=[];for(let _=0;_<S.length;_++)rb(S[_])&&t.push(_);t.length&&bb(S,t,A)}measureInitialState(){const{element:S,unresolvedKeyframes:A,name:t}=this;if(!S||!S.current)return;t==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[t](S.measureViewportBox(),window.getComputedStyle(S.current)),A[0]=this.measuredOrigin;const _=A[A.length-1];_!==void 0&&S.getValue(t,_).jump(_,!1)}measureEndState(){var S;const{element:A,name:t,unresolvedKeyframes:_}=this;if(!A||!A.current)return;const y=A.getValue(t);y&&y.jump(this.measuredOrigin,!1);const l=_.length-1,f=_[l];_[l]=di[t](A.measureViewportBox(),window.getComputedStyle(A.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((S=this.removedTransforms)===null||S===void 0)&&S.length&&this.removedTransforms.forEach(([s,c])=>{A.getValue(s).set(c)}),this.resolveNoneKeyframes()}}const wp=(x,S)=>S==="zIndex"?!1:!!(typeof x=="number"||Array.isArray(x)||typeof x=="string"&&(Xs.test(x)||x==="0")&&!x.startsWith("url("));function kb(x){const S=x[0];if(x.length===1)return!0;for(let A=0;A<x.length;A++)if(x[A]!==S)return!0}function Cb(x,S,A,t){const _=x[0];if(_===null)return!1;if(S==="display"||S==="visibility")return!0;const y=x[x.length-1],l=wp(_,S),f=wp(y,S);return!l||!f?!1:kb(x)||(A==="spring"||Id(A))&&t}const Mb=x=>x!==null;function Hl(x,{repeat:S,repeatType:A="loop"},t){const _=x.filter(Mb),y=S&&A!=="loop"&&S%2===1?0:_.length-1;return!y||t===void 0?_[y]:t}const Pb=40;class Dy{constructor({autoplay:S=!0,delay:A=0,type:t="keyframes",repeat:_=0,repeatDelay:y=0,repeatType:l="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zn.now(),this.options={autoplay:S,delay:A,type:t,repeat:_,repeatDelay:y,repeatType:l,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Sb(),this._resolved}onKeyframesResolved(S,A){this.resolvedAt=Zn.now(),this.hasAttemptedResolve=!0;const{name:t,type:_,velocity:y,delay:l,onComplete:f,onUpdate:s,isGenerator:c}=this.options;if(!c&&!Cb(S,t,_,y))if(l)this.options.duration=0;else{s&&s(Hl(S,this.options,A)),f&&f(),this.resolveFinishedPromise();return}const p=this.initPlayback(S,A);p!==!1&&(this._resolved={keyframes:S,finalKeyframe:A,...p},this.onPostResolved())}onPostResolved(){}then(S,A){return this.currentFinishedPromise.then(S,A)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(S=>{this.resolveFinishedPromise=S})}}const Kc=2e4;function Iy(x){let S=0;const A=50;let t=x.next(S);for(;!t.done&&S<Kc;)S+=A,t=x.next(S);return S>=Kc?1/0:S}const mr=(x,S,A)=>x+(S-x)*A;function Mc(x,S,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?x+(S-x)*6*A:A<1/2?S:A<2/3?x+(S-x)*(2/3-A)*6:x}function Ob({hue:x,saturation:S,lightness:A,alpha:t}){x/=360,S/=100,A/=100;let _=0,y=0,l=0;if(!S)_=y=l=A;else{const f=A<.5?A*(1+S):A+S-A*S,s=2*A-f;_=Mc(s,f,x+1/3),y=Mc(s,f,x),l=Mc(s,f,x-1/3)}return{red:Math.round(_*255),green:Math.round(y*255),blue:Math.round(l*255),alpha:t}}function Ll(x,S){return A=>A>0?S:x}const Pc=(x,S,A)=>{const t=x*x,_=A*(S*S-t)+t;return _<0?0:Math.sqrt(_)},Ab=[Xc,Eo,oi],Lb=x=>Ab.find(S=>S.test(x));function jp(x){const S=Lb(x);if(!S)return!1;let A=S.parse(x);return S===oi&&(A=Ob(A)),A}const Sp=(x,S)=>{const A=jp(x),t=jp(S);if(!A||!t)return Ll(x,S);const _={...A};return y=>(_.red=Pc(A.red,t.red,y),_.green=Pc(A.green,t.green,y),_.blue=Pc(A.blue,t.blue,y),_.alpha=mr(A.alpha,t.alpha,y),Eo.transform(_))},Rb=(x,S)=>A=>S(x(A)),ha=(...x)=>x.reduce(Rb),Zc=new Set(["none","hidden"]);function Db(x,S){return Zc.has(x)?A=>A<=0?x:S:A=>A>=1?S:x}function Ib(x,S){return A=>mr(x,S,A)}function Hd(x){return typeof x=="number"?Ib:typeof x=="string"?jd(x)?Ll:Yr.test(x)?Sp:Ub:Array.isArray(x)?Fy:typeof x=="object"?Yr.test(x)?Sp:Fb:Ll}function Fy(x,S){const A=[...x],t=A.length,_=x.map((y,l)=>Hd(y)(y,S[l]));return y=>{for(let l=0;l<t;l++)A[l]=_[l](y);return A}}function Fb(x,S){const A={...x,...S},t={};for(const _ in A)x[_]!==void 0&&S[_]!==void 0&&(t[_]=Hd(x[_])(x[_],S[_]));return _=>{for(const y in t)A[y]=t[y](_);return A}}function Nb(x,S){var A;const t=[],_={color:0,var:0,number:0};for(let y=0;y<S.values.length;y++){const l=S.types[y],f=x.indexes[l][_[l]],s=(A=x.values[f])!==null&&A!==void 0?A:0;t[y]=s,_[l]++}return t}const Ub=(x,S)=>{const A=Xs.createTransformer(S),t=ia(x),_=ia(S);return t.indexes.var.length===_.indexes.var.length&&t.indexes.color.length===_.indexes.color.length&&t.indexes.number.length>=_.indexes.number.length?Zc.has(x)&&!_.values.length||Zc.has(S)&&!t.values.length?Db(x,S):ha(Fy(Nb(t,_),_.values),A):Ll(x,S)};function Ny(x,S,A){return typeof x=="number"&&typeof S=="number"&&typeof A=="number"?mr(x,S,A):Hd(x)(x,S)}const Bb=5;function Uy(x,S,A){const t=Math.max(S-Bb,0);return ly(A-x(t),S-t)}const wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_p=.001;function Vb({duration:x=wr.duration,bounce:S=wr.bounce,velocity:A=wr.velocity,mass:t=wr.mass}){let _,y,l=1-S;l=ms(wr.minDamping,wr.maxDamping,l),x=ms(wr.minDuration,wr.maxDuration,ps(x)),l<1?(_=c=>{const p=c*l,m=p*x,n=p-A,r=Qc(c,l),a=Math.exp(-m);return _p-n/r*a},y=c=>{const m=c*l*x,n=m*A+A,r=Math.pow(l,2)*Math.pow(c,2)*x,a=Math.exp(-m),i=Qc(Math.pow(c,2),l);return(-_(c)+_p>0?-1:1)*((n-r)*a)/i}):(_=c=>{const p=Math.exp(-c*x),m=(c-A)*x+1;return-.001+p*m},y=c=>{const p=Math.exp(-c*x),m=(A-c)*(x*x);return p*m});const f=5/x,s=zb(_,y,f);if(x=hs(x),isNaN(s))return{stiffness:wr.stiffness,damping:wr.damping,duration:x};{const c=Math.pow(s,2)*t;return{stiffness:c,damping:l*2*Math.sqrt(t*c),duration:x}}}const Gb=12;function zb(x,S,A){let t=A;for(let _=1;_<Gb;_++)t=t-x(t)/S(t);return t}function Qc(x,S){return x*Math.sqrt(1-S*S)}const Hb=["duration","bounce"],Wb=["stiffness","damping","mass"];function Tp(x,S){return S.some(A=>x[A]!==void 0)}function Xb(x){let S={velocity:wr.velocity,stiffness:wr.stiffness,damping:wr.damping,mass:wr.mass,isResolvedFromDuration:!1,...x};if(!Tp(x,Wb)&&Tp(x,Hb))if(x.visualDuration){const A=x.visualDuration,t=2*Math.PI/(A*1.2),_=t*t,y=2*ms(.05,1,1-(x.bounce||0))*Math.sqrt(_);S={...S,mass:wr.mass,stiffness:_,damping:y}}else{const A=Vb(x);S={...S,...A,mass:wr.mass},S.isResolvedFromDuration=!0}return S}function By(x=wr.visualDuration,S=wr.bounce){const A=typeof x!="object"?{visualDuration:x,keyframes:[0,1],bounce:S}:x;let{restSpeed:t,restDelta:_}=A;const y=A.keyframes[0],l=A.keyframes[A.keyframes.length-1],f={done:!1,value:y},{stiffness:s,damping:c,mass:p,duration:m,velocity:n,isResolvedFromDuration:r}=Xb({...A,velocity:-ps(A.velocity||0)}),a=n||0,i=c/(2*Math.sqrt(s*p)),u=l-y,d=ps(Math.sqrt(s/p)),h=Math.abs(u)<5;t||(t=h?wr.restSpeed.granular:wr.restSpeed.default),_||(_=h?wr.restDelta.granular:wr.restDelta.default);let b;if(i<1){const w=Qc(d,i);b=E=>{const k=Math.exp(-i*d*E);return l-k*((a+i*d*u)/w*Math.sin(w*E)+u*Math.cos(w*E))}}else if(i===1)b=w=>l-Math.exp(-d*w)*(u+(a+d*u)*w);else{const w=d*Math.sqrt(i*i-1);b=E=>{const k=Math.exp(-i*d*E),T=Math.min(w*E,300);return l-k*((a+i*d*u)*Math.sinh(T)+w*u*Math.cosh(T))/w}}const v={calculatedDuration:r&&m||null,next:w=>{const E=b(w);if(r)f.done=w>=m;else{let k=0;i<1&&(k=w===0?hs(a):Uy(b,w,E));const T=Math.abs(k)<=t,L=Math.abs(l-E)<=_;f.done=T&&L}return f.value=f.done?l:E,f},toString:()=>{const w=Math.min(Iy(v),Kc),E=cy(k=>v.next(w*k).value,w,30);return w+"ms "+E}};return v}function Ep({keyframes:x,velocity:S=0,power:A=.8,timeConstant:t=325,bounceDamping:_=10,bounceStiffness:y=500,modifyTarget:l,min:f,max:s,restDelta:c=.5,restSpeed:p}){const m=x[0],n={done:!1,value:m},r=T=>f!==void 0&&T<f||s!==void 0&&T>s,a=T=>f===void 0?s:s===void 0||Math.abs(f-T)<Math.abs(s-T)?f:s;let i=A*S;const u=m+i,d=l===void 0?u:l(u);d!==u&&(i=d-m);const h=T=>-i*Math.exp(-T/t),b=T=>d+h(T),v=T=>{const L=h(T),R=b(T);n.done=Math.abs(L)<=c,n.value=n.done?d:R};let w,E;const k=T=>{r(n.value)&&(w=T,E=By({keyframes:[n.value,a(n.value)],velocity:Uy(b,T,n.value),damping:_,stiffness:y,restDelta:c,restSpeed:p}))};return k(0),{calculatedDuration:null,next:T=>{let L=!1;return!E&&w===void 0&&(L=!0,v(T),k(T)),w!==void 0&&T>=w?E.next(T-w):(!L&&v(T),n)}}}const qb=fa(.42,0,1,1),Yb=fa(0,0,.58,1),Vy=fa(.42,0,.58,1),$b=x=>Array.isArray(x)&&typeof x[0]!="number",kp={linear:wn,easeIn:qb,easeInOut:Vy,easeOut:Yb,circIn:Ud,circInOut:xy,circOut:by,backIn:Nd,backInOut:gy,backOut:yy,anticipate:vy},Cp=x=>{if(Fd(x)){Gc(x.length===4);const[S,A,t,_]=x;return fa(S,A,t,_)}else if(typeof x=="string")return Gc(kp[x]!==void 0),kp[x];return x};function Kb(x,S,A){const t=[],_=A||Ny,y=x.length-1;for(let l=0;l<y;l++){let f=_(x[l],x[l+1]);if(S){const s=Array.isArray(S)?S[l]||wn:S;f=ha(s,f)}t.push(f)}return t}function Zb(x,S,{clamp:A=!0,ease:t,mixer:_}={}){const y=x.length;if(Gc(y===S.length),y===1)return()=>S[0];if(y===2&&S[0]===S[1])return()=>S[1];const l=x[0]===x[1];x[0]>x[y-1]&&(x=[...x].reverse(),S=[...S].reverse());const f=Kb(S,t,_),s=f.length,c=p=>{if(l&&p<x[0])return S[0];let m=0;if(s>1)for(;m<x.length-2&&!(p<x[m+1]);m++);const n=ci(x[m],x[m+1],p);return f[m](n)};return A?p=>c(ms(x[0],x[y-1],p)):c}function Qb(x,S){const A=x[x.length-1];for(let t=1;t<=S;t++){const _=ci(0,S,t);x.push(mr(A,1,_))}}function Jb(x){const S=[0];return Qb(S,x.length-1),S}function ex(x,S){return x.map(A=>A*S)}function tx(x,S){return x.map(()=>S||Vy).splice(0,x.length-1)}function Rl({duration:x=300,keyframes:S,times:A,ease:t="easeInOut"}){const _=$b(t)?t.map(Cp):Cp(t),y={done:!1,value:S[0]},l=ex(A&&A.length===S.length?A:Jb(S),x),f=Zb(l,S,{ease:Array.isArray(_)?_:tx(S,_)});return{calculatedDuration:x,next:s=>(y.value=f(s),y.done=s>=x,y)}}const rx=x=>{const S=({timestamp:A})=>x(A);return{start:()=>nr.update(S,!0),stop:()=>Ws(S),now:()=>Gr.isProcessing?Gr.timestamp:Zn.now()}},nx={decay:Ep,inertia:Ep,tween:Rl,keyframes:Rl,spring:By},sx=x=>x/100;class Wd extends Dy{constructor(S){super(S),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:s}=this.options;s&&s()};const{name:A,motionValue:t,element:_,keyframes:y}=this.options,l=(_==null?void 0:_.KeyframeResolver)||zd,f=(s,c)=>this.onKeyframesResolved(s,c);this.resolver=new l(y,f,A,t,_),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(S){const{type:A="keyframes",repeat:t=0,repeatDelay:_=0,repeatType:y,velocity:l=0}=this.options,f=Id(A)?A:nx[A]||Rl;let s,c;f!==Rl&&typeof S[0]!="number"&&(s=ha(sx,Ny(S[0],S[1])),S=[0,100]);const p=f({...this.options,keyframes:S});y==="mirror"&&(c=f({...this.options,keyframes:[...S].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Iy(p));const{calculatedDuration:m}=p,n=m+_,r=n*(t+1)-_;return{generator:p,mirroredGenerator:c,mapPercentToKeyframes:s,calculatedDuration:m,resolvedDuration:n,totalDuration:r}}onPostResolved(){const{autoplay:S=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!S?this.pause():this.state=this.pendingPlayState}tick(S,A=!1){const{resolved:t}=this;if(!t){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:_,generator:y,mirroredGenerator:l,mapPercentToKeyframes:f,keyframes:s,calculatedDuration:c,totalDuration:p,resolvedDuration:m}=t;if(this.startTime===null)return y.next(0);const{delay:n,repeat:r,repeatType:a,repeatDelay:i,onUpdate:u}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,S):this.speed<0&&(this.startTime=Math.min(S-p/this.speed,this.startTime)),A?this.currentTime=S:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(S-this.startTime)*this.speed;const d=this.currentTime-n*(this.speed>=0?1:-1),h=this.speed>=0?d<0:d>p;this.currentTime=Math.max(d,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let b=this.currentTime,v=y;if(r){const T=Math.min(this.currentTime,p)/m;let L=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&L--,L=Math.min(L,r+1),!!(L%2)&&(a==="reverse"?(R=1-R,i&&(R-=i/m)):a==="mirror"&&(v=l)),b=ms(0,1,R)*m}const w=h?{done:!1,value:s[0]}:v.next(b);f&&(w.value=f(w.value));let{done:E}=w;!h&&c!==null&&(E=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&_!==void 0&&(w.value=Hl(s,this.options,_)),u&&u(w.value),k&&this.finish(),w}get duration(){const{resolved:S}=this;return S?ps(S.calculatedDuration):0}get time(){return ps(this.currentTime)}set time(S){S=hs(S),this.currentTime=S,this.holdTime!==null||this.speed===0?this.holdTime=S:this.driver&&(this.startTime=this.driver.now()-S/this.speed)}get speed(){return this.playbackSpeed}set speed(S){const A=this.playbackSpeed!==S;this.playbackSpeed=S,A&&(this.time=ps(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:S=rx,onPlay:A,startTime:t}=this.options;this.driver||(this.driver=S(y=>this.tick(y))),A&&A();const _=this.driver.now();this.holdTime!==null?this.startTime=_-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=_):this.startTime=t??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var S;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(S=this.currentTime)!==null&&S!==void 0?S:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:S}=this.options;S&&S()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(S){return this.startTime=0,this.tick(S,!0)}}const ox=new Set(["opacity","clipPath","filter","transform"]);function ix(x,S,A,{delay:t=0,duration:_=300,repeat:y=0,repeatType:l="loop",ease:f="easeInOut",times:s}={}){const c={[S]:A};s&&(c.offset=s);const p=fy(f,_);return Array.isArray(p)&&(c.easing=p),x.animate(c,{delay:t,duration:_,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:y+1,direction:l==="reverse"?"alternate":"normal"})}const ax=Dd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dl=10,lx=2e4;function ux(x){return Id(x.type)||x.type==="spring"||!dy(x.ease)}function cx(x,S){const A=new Wd({...S,keyframes:x,repeat:0,delay:0,isGenerator:!0});let t={done:!1,value:x[0]};const _=[];let y=0;for(;!t.done&&y<lx;)t=A.sample(y),_.push(t.value),y+=Dl;return{times:void 0,keyframes:_,duration:y-Dl,ease:"linear"}}const Gy={anticipate:vy,backInOut:gy,circInOut:xy};function dx(x){return x in Gy}class Mp extends Dy{constructor(S){super(S);const{name:A,motionValue:t,element:_,keyframes:y}=this.options;this.resolver=new Ry(y,(l,f)=>this.onKeyframesResolved(l,f),A,t,_),this.resolver.scheduleResolve()}initPlayback(S,A){let{duration:t=300,times:_,ease:y,type:l,motionValue:f,name:s,startTime:c}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof y=="string"&&Al()&&dx(y)&&(y=Gy[y]),ux(this.options)){const{onComplete:m,onUpdate:n,motionValue:r,element:a,...i}=this.options,u=cx(S,i);S=u.keyframes,S.length===1&&(S[1]=S[0]),t=u.duration,_=u.times,y=u.ease,l="keyframes"}const p=ix(f.owner.current,s,S,{...this.options,duration:t,times:_,ease:y});return p.startTime=c??this.calcStartTime(),this.pendingTimeline?(mp(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:m}=this.options;f.set(Hl(S,this.options,A)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:t,times:_,type:l,ease:y,keyframes:S}}get duration(){const{resolved:S}=this;if(!S)return 0;const{duration:A}=S;return ps(A)}get time(){const{resolved:S}=this;if(!S)return 0;const{animation:A}=S;return ps(A.currentTime||0)}set time(S){const{resolved:A}=this;if(!A)return;const{animation:t}=A;t.currentTime=hs(S)}get speed(){const{resolved:S}=this;if(!S)return 1;const{animation:A}=S;return A.playbackRate}set speed(S){const{resolved:A}=this;if(!A)return;const{animation:t}=A;t.playbackRate=S}get state(){const{resolved:S}=this;if(!S)return"idle";const{animation:A}=S;return A.playState}get startTime(){const{resolved:S}=this;if(!S)return null;const{animation:A}=S;return A.startTime}attachTimeline(S){if(!this._resolved)this.pendingTimeline=S;else{const{resolved:A}=this;if(!A)return wn;const{animation:t}=A;mp(t,S)}return wn}play(){if(this.isStopped)return;const{resolved:S}=this;if(!S)return;const{animation:A}=S;A.playState==="finished"&&this.updateFinishedPromise(),A.play()}pause(){const{resolved:S}=this;if(!S)return;const{animation:A}=S;A.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:S}=this;if(!S)return;const{animation:A,keyframes:t,duration:_,type:y,ease:l,times:f}=S;if(A.playState==="idle"||A.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:p,onComplete:m,element:n,...r}=this.options,a=new Wd({...r,keyframes:t,duration:_,type:y,ease:l,times:f,isGenerator:!0}),i=hs(this.time);c.setWithVelocity(a.sample(i-Dl).value,a.sample(i).value,Dl)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:S}=this;S&&S.animation.finish()}cancel(){const{resolved:S}=this;S&&S.animation.cancel()}static supports(S){const{motionValue:A,name:t,repeatDelay:_,repeatType:y,damping:l,type:f}=S;if(!A||!A.owner||!(A.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:c}=A.owner.getProps();return ax()&&t&&ox.has(t)&&!s&&!c&&!_&&y!=="mirror"&&l!==0&&f!=="inertia"}}const fx={type:"spring",stiffness:500,damping:25,restSpeed:10},hx=x=>({type:"spring",stiffness:550,damping:x===0?2*Math.sqrt(550):30,restSpeed:10}),px={type:"keyframes",duration:.8},mx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yx=(x,{keyframes:S})=>S.length>2?px:Co.has(x)?x.startsWith("scale")?hx(S[1]):fx:mx;function gx({when:x,delay:S,delayChildren:A,staggerChildren:t,staggerDirection:_,repeat:y,repeatType:l,repeatDelay:f,from:s,elapsed:c,...p}){return!!Object.keys(p).length}const Xd=(x,S,A,t={},_,y)=>l=>{const f=Od(t,x)||{},s=f.delay||t.delay||0;let{elapsed:c=0}=t;c=c-hs(s);let p={keyframes:Array.isArray(A)?A:[null,A],ease:"easeOut",velocity:S.getVelocity(),...f,delay:-c,onUpdate:n=>{S.set(n),f.onUpdate&&f.onUpdate(n)},onComplete:()=>{l(),f.onComplete&&f.onComplete()},name:x,motionValue:S,element:y?void 0:_};gx(f)||(p={...p,...yx(x,p)}),p.duration&&(p.duration=hs(p.duration)),p.repeatDelay&&(p.repeatDelay=hs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),m&&!y&&S.get()!==void 0){const n=Hl(p.keyframes,f);if(n!==void 0)return nr.update(()=>{p.onUpdate(n),p.onComplete()}),new K1([])}return!y&&Mp.supports(p)?new Mp(p):new Wd(p)};function vx({protectedKeys:x,needsAnimating:S},A){const t=x.hasOwnProperty(A)&&S[A]!==!0;return S[A]=!1,t}function zy(x,S,{delay:A=0,transitionOverride:t,type:_}={}){var y;let{transition:l=x.getDefaultTransition(),transitionEnd:f,...s}=S;t&&(l=t);const c=[],p=_&&x.animationState&&x.animationState.getState()[_];for(const m in s){const n=x.getValue(m,(y=x.latestValues[m])!==null&&y!==void 0?y:null),r=s[m];if(r===void 0||p&&vx(p,m))continue;const a={delay:A,...Od(l||{},m)};let i=!1;if(window.MotionHandoffAnimation){const d=uy(x);if(d){const h=window.MotionHandoffAnimation(d,m,nr);h!==null&&(a.startTime=h,i=!0)}}Hc(x,m),n.start(Xd(m,n,r,x.shouldReduceMotion&&ay.has(m)?{type:!1}:a,x,i));const u=n.animation;u&&c.push(u)}return f&&Promise.all(c).then(()=>{nr.update(()=>{f&&X1(x,f)})}),c}function Jc(x,S,A={}){var t;const _=zl(x,S,A.type==="exit"?(t=x.presenceContext)===null||t===void 0?void 0:t.custom:void 0);let{transition:y=x.getDefaultTransition()||{}}=_||{};A.transitionOverride&&(y=A.transitionOverride);const l=_?()=>Promise.all(zy(x,_,A)):()=>Promise.resolve(),f=x.variantChildren&&x.variantChildren.size?(c=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:n}=y;return bx(x,S,p+c,m,n,A)}:()=>Promise.resolve(),{when:s}=y;if(s){const[c,p]=s==="beforeChildren"?[l,f]:[f,l];return c().then(()=>p())}else return Promise.all([l(),f(A.delay)])}function bx(x,S,A=0,t=0,_=1,y){const l=[],f=(x.variantChildren.size-1)*t,s=_===1?(c=0)=>c*t:(c=0)=>f-c*t;return Array.from(x.variantChildren).sort(xx).forEach((c,p)=>{c.notify("AnimationStart",S),l.push(Jc(c,S,{...y,delay:A+s(p)}).then(()=>c.notify("AnimationComplete",S)))}),Promise.all(l)}function xx(x,S){return x.sortNodePosition(S)}function wx(x,S,A={}){x.notify("AnimationStart",S);let t;if(Array.isArray(S)){const _=S.map(y=>Jc(x,y,A));t=Promise.all(_)}else if(typeof S=="string")t=Jc(x,S,A);else{const _=typeof S=="function"?zl(x,S,A.custom):S;t=Promise.all(zy(x,_,A))}return t.then(()=>{x.notify("AnimationComplete",S)})}function Hy(x,S){if(!Array.isArray(S))return!1;const A=S.length;if(A!==x.length)return!1;for(let t=0;t<A;t++)if(S[t]!==x[t])return!1;return!0}const jx=vd.length;function Wy(x){if(!x)return;if(!x.isControllingVariants){const A=x.parent?Wy(x.parent)||{}:{};return x.props.initial!==void 0&&(A.initial=x.props.initial),A}const S={};for(let A=0;A<jx;A++){const t=vd[A],_=x.props[t];(ra(_)||_===!1)&&(S[t]=_)}return S}const Sx=[...gd].reverse(),_x=gd.length;function Tx(x){return S=>Promise.all(S.map(({animation:A,options:t})=>wx(x,A,t)))}function Ex(x){let S=Tx(x),A=Pp(),t=!0;const _=s=>(c,p)=>{var m;const n=zl(x,p,s==="exit"?(m=x.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(n){const{transition:r,transitionEnd:a,...i}=n;c={...c,...i,...a}}return c};function y(s){S=s(x)}function l(s){const{props:c}=x,p=Wy(x.parent)||{},m=[],n=new Set;let r={},a=1/0;for(let u=0;u<_x;u++){const d=Sx[u],h=A[d],b=c[d]!==void 0?c[d]:p[d],v=ra(b),w=d===s?h.isActive:null;w===!1&&(a=u);let E=b===p[d]&&b!==c[d]&&v;if(E&&t&&x.manuallyAnimateOnMount&&(E=!1),h.protectedKeys={...r},!h.isActive&&w===null||!b&&!h.prevProp||Vl(b)||typeof b=="boolean")continue;const k=kx(h.prevProp,b);let T=k||d===s&&h.isActive&&!E&&v||u>a&&v,L=!1;const R=Array.isArray(b)?b:[b];let M=R.reduce(_(d),{});w===!1&&(M={});const{prevResolvedValues:N={}}=h,D={...N,...M},G=$=>{T=!0,n.has($)&&(L=!0,n.delete($)),h.needsAnimating[$]=!0;const q=x.getValue($);q&&(q.liveStyle=!1)};for(const $ in D){const q=M[$],Y=N[$];if(r.hasOwnProperty($))continue;let ee=!1;zc(q)&&zc(Y)?ee=!Hy(q,Y):ee=q!==Y,ee?q!=null?G($):n.add($):q!==void 0&&n.has($)?G($):h.protectedKeys[$]=!0}h.prevProp=b,h.prevResolvedValues=M,h.isActive&&(r={...r,...M}),t&&x.blockInitialAnimation&&(T=!1),T&&(!(E&&k)||L)&&m.push(...R.map($=>({animation:$,options:{type:d}})))}if(n.size){const u={};n.forEach(d=>{const h=x.getBaseTarget(d),b=x.getValue(d);b&&(b.liveStyle=!0),u[d]=h??null}),m.push({animation:u})}let i=!!m.length;return t&&(c.initial===!1||c.initial===c.animate)&&!x.manuallyAnimateOnMount&&(i=!1),t=!1,i?S(m):Promise.resolve()}function f(s,c){var p;if(A[s].isActive===c)return Promise.resolve();(p=x.variantChildren)===null||p===void 0||p.forEach(n=>{var r;return(r=n.animationState)===null||r===void 0?void 0:r.setActive(s,c)}),A[s].isActive=c;const m=l(s);for(const n in A)A[n].protectedKeys={};return m}return{animateChanges:l,setActive:f,setAnimateFunction:y,getState:()=>A,reset:()=>{A=Pp(),t=!0}}}function kx(x,S){return typeof S=="string"?S!==x:Array.isArray(S)?!Hy(S,x):!1}function So(x=!1){return{isActive:x,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pp(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class qs{constructor(S){this.isMounted=!1,this.node=S}update(){}}class Cx extends qs{constructor(S){super(S),S.animationState||(S.animationState=Ex(S))}updateAnimationControlsSubscription(){const{animate:S}=this.node.getProps();Vl(S)&&(this.unmountControls=S.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:S}=this.node.getProps(),{animate:A}=this.node.prevProps||{};S!==A&&this.updateAnimationControlsSubscription()}unmount(){var S;this.node.animationState.reset(),(S=this.unmountControls)===null||S===void 0||S.call(this)}}let Mx=0;class Px extends qs{constructor(){super(...arguments),this.id=Mx++}update(){if(!this.node.presenceContext)return;const{isPresent:S,onExitComplete:A}=this.node.presenceContext,{isPresent:t}=this.node.prevPresenceContext||{};if(!this.node.animationState||S===t)return;const _=this.node.animationState.setActive("exit",!S);A&&!S&&_.then(()=>{A(this.id)})}mount(){const{register:S,onExitComplete:A}=this.node.presenceContext||{};A&&A(this.id),S&&(this.unmount=S(this.id))}unmount(){}}const Ox={animation:{Feature:Cx},exit:{Feature:Px}},Vn={x:!1,y:!1};function Xy(){return Vn.x||Vn.y}function Ax(x){return x==="x"||x==="y"?Vn[x]?null:(Vn[x]=!0,()=>{Vn[x]=!1}):Vn.x||Vn.y?null:(Vn.x=Vn.y=!0,()=>{Vn.x=Vn.y=!1})}const qd=x=>x.pointerType==="mouse"?typeof x.button!="number"||x.button<=0:x.isPrimary!==!1;function aa(x,S,A,t={passive:!0}){return x.addEventListener(S,A,t),()=>x.removeEventListener(S,A)}function pa(x){return{point:{x:x.pageX,y:x.pageY}}}const Lx=x=>S=>qd(S)&&x(S,pa(S));function Qi(x,S,A,t){return aa(x,S,Lx(A),t)}const Op=(x,S)=>Math.abs(x-S);function Rx(x,S){const A=Op(x.x,S.x),t=Op(x.y,S.y);return Math.sqrt(A**2+t**2)}class qy{constructor(S,A,{transformPagePoint:t,contextWindow:_,dragSnapToOrigin:y=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ac(this.lastMoveEventInfo,this.history),n=this.startEvent!==null,r=Rx(m.offset,{x:0,y:0})>=3;if(!n&&!r)return;const{point:a}=m,{timestamp:i}=Gr;this.history.push({...a,timestamp:i});const{onStart:u,onMove:d}=this.handlers;n||(u&&u(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),d&&d(this.lastMoveEvent,m)},this.handlePointerMove=(m,n)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Oc(n,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(m,n)=>{this.end();const{onEnd:r,onSessionEnd:a,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Ac(m.type==="pointercancel"?this.lastMoveEventInfo:Oc(n,this.transformPagePoint),this.history);this.startEvent&&r&&r(m,u),a&&a(m,u)},!qd(S))return;this.dragSnapToOrigin=y,this.handlers=A,this.transformPagePoint=t,this.contextWindow=_||window;const l=pa(S),f=Oc(l,this.transformPagePoint),{point:s}=f,{timestamp:c}=Gr;this.history=[{...s,timestamp:c}];const{onSessionStart:p}=A;p&&p(S,Ac(f,this.history)),this.removeListeners=ha(Qi(this.contextWindow,"pointermove",this.handlePointerMove),Qi(this.contextWindow,"pointerup",this.handlePointerUp),Qi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(S){this.handlers=S}end(){this.removeListeners&&this.removeListeners(),Ws(this.updatePoint)}}function Oc(x,S){return S?{point:S(x.point)}:x}function Ap(x,S){return{x:x.x-S.x,y:x.y-S.y}}function Ac({point:x},S){return{point:x,delta:Ap(x,Yy(S)),offset:Ap(x,Dx(S)),velocity:Ix(S,.1)}}function Dx(x){return x[0]}function Yy(x){return x[x.length-1]}function Ix(x,S){if(x.length<2)return{x:0,y:0};let A=x.length-1,t=null;const _=Yy(x);for(;A>=0&&(t=x[A],!(_.timestamp-t.timestamp>hs(S)));)A--;if(!t)return{x:0,y:0};const y=ps(_.timestamp-t.timestamp);if(y===0)return{x:0,y:0};const l={x:(_.x-t.x)/y,y:(_.y-t.y)/y};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const $y=1e-4,Fx=1-$y,Nx=1+$y,Ky=.01,Ux=0-Ky,Bx=0+Ky;function Jr(x){return x.max-x.min}function Vx(x,S,A){return Math.abs(x-S)<=A}function Lp(x,S,A,t=.5){x.origin=t,x.originPoint=mr(S.min,S.max,x.origin),x.scale=Jr(A)/Jr(S),x.translate=mr(A.min,A.max,x.origin)-x.originPoint,(x.scale>=Fx&&x.scale<=Nx||isNaN(x.scale))&&(x.scale=1),(x.translate>=Ux&&x.translate<=Bx||isNaN(x.translate))&&(x.translate=0)}function Ji(x,S,A,t){Lp(x.x,S.x,A.x,t?t.originX:void 0),Lp(x.y,S.y,A.y,t?t.originY:void 0)}function Rp(x,S,A){x.min=A.min+S.min,x.max=x.min+Jr(S)}function Gx(x,S,A){Rp(x.x,S.x,A.x),Rp(x.y,S.y,A.y)}function Dp(x,S,A){x.min=S.min-A.min,x.max=x.min+Jr(S)}function ea(x,S,A){Dp(x.x,S.x,A.x),Dp(x.y,S.y,A.y)}function zx(x,{min:S,max:A},t){return S!==void 0&&x<S?x=t?mr(S,x,t.min):Math.max(x,S):A!==void 0&&x>A&&(x=t?mr(A,x,t.max):Math.min(x,A)),x}function Ip(x,S,A){return{min:S!==void 0?x.min+S:void 0,max:A!==void 0?x.max+A-(x.max-x.min):void 0}}function Hx(x,{top:S,left:A,bottom:t,right:_}){return{x:Ip(x.x,A,_),y:Ip(x.y,S,t)}}function Fp(x,S){let A=S.min-x.min,t=S.max-x.max;return S.max-S.min<x.max-x.min&&([A,t]=[t,A]),{min:A,max:t}}function Wx(x,S){return{x:Fp(x.x,S.x),y:Fp(x.y,S.y)}}function Xx(x,S){let A=.5;const t=Jr(x),_=Jr(S);return _>t?A=ci(S.min,S.max-t,x.min):t>_&&(A=ci(x.min,x.max-_,S.min)),ms(0,1,A)}function qx(x,S){const A={};return S.min!==void 0&&(A.min=S.min-x.min),S.max!==void 0&&(A.max=S.max-x.min),A}const ed=.35;function Yx(x=ed){return x===!1?x=0:x===!0&&(x=ed),{x:Np(x,"left","right"),y:Np(x,"top","bottom")}}function Np(x,S,A){return{min:Up(x,S),max:Up(x,A)}}function Up(x,S){return typeof x=="number"?x:x[S]||0}const Bp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ii=()=>({x:Bp(),y:Bp()}),Vp=()=>({min:0,max:0}),_r=()=>({x:Vp(),y:Vp()});function Mn(x){return[x("x"),x("y")]}function Zy({top:x,left:S,right:A,bottom:t}){return{x:{min:S,max:A},y:{min:x,max:t}}}function $x({x,y:S}){return{top:S.min,right:x.max,bottom:S.max,left:x.min}}function Kx(x,S){if(!S)return x;const A=S({x:x.left,y:x.top}),t=S({x:x.right,y:x.bottom});return{top:A.y,left:A.x,bottom:t.y,right:t.x}}function Lc(x){return x===void 0||x===1}function td({scale:x,scaleX:S,scaleY:A}){return!Lc(x)||!Lc(S)||!Lc(A)}function To(x){return td(x)||Qy(x)||x.z||x.rotate||x.rotateX||x.rotateY||x.skewX||x.skewY}function Qy(x){return Gp(x.x)||Gp(x.y)}function Gp(x){return x&&x!=="0%"}function Il(x,S,A){const t=x-A,_=S*t;return A+_}function zp(x,S,A,t,_){return _!==void 0&&(x=Il(x,_,t)),Il(x,A,t)+S}function rd(x,S=0,A=1,t,_){x.min=zp(x.min,S,A,t,_),x.max=zp(x.max,S,A,t,_)}function Jy(x,{x:S,y:A}){rd(x.x,S.translate,S.scale,S.originPoint),rd(x.y,A.translate,A.scale,A.originPoint)}const Hp=.999999999999,Wp=1.0000000000001;function Zx(x,S,A,t=!1){const _=A.length;if(!_)return;S.x=S.y=1;let y,l;for(let f=0;f<_;f++){y=A[f],l=y.projectionDelta;const{visualElement:s}=y.options;s&&s.props.style&&s.props.style.display==="contents"||(t&&y.options.layoutScroll&&y.scroll&&y!==y.root&&li(x,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),l&&(S.x*=l.x.scale,S.y*=l.y.scale,Jy(x,l)),t&&To(y.latestValues)&&li(x,y.latestValues))}S.x<Wp&&S.x>Hp&&(S.x=1),S.y<Wp&&S.y>Hp&&(S.y=1)}function ai(x,S){x.min=x.min+S,x.max=x.max+S}function Xp(x,S,A,t,_=.5){const y=mr(x.min,x.max,_);rd(x,S,A,y,t)}function li(x,S){Xp(x.x,S.x,S.scaleX,S.scale,S.originX),Xp(x.y,S.y,S.scaleY,S.scale,S.originY)}function eg(x,S){return Zy(Kx(x.getBoundingClientRect(),S))}function Qx(x,S,A){const t=eg(x,A),{scroll:_}=S;return _&&(ai(t.x,_.offset.x),ai(t.y,_.offset.y)),t}const tg=({current:x})=>x?x.ownerDocument.defaultView:null,Jx=new WeakMap;class ew{constructor(S){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.visualElement=S}start(S,{snapToCursor:A=!1}={}){const{presenceContext:t}=this.visualElement;if(t&&t.isPresent===!1)return;const _=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),A&&this.snapToCursor(pa(p).point)},y=(p,m)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ax(n),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(u=>{let d=this.getAxisMotionValue(u).get()||0;if(Kn.test(d)){const{projection:h}=this.visualElement;if(h&&h.layout){const b=h.layout.layoutBox[u];b&&(d=Jr(b)*(parseFloat(d)/100))}}this.originPoint[u]=d}),a&&nr.postRender(()=>a(p,m)),Hc(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},l=(p,m)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:u}=m;if(r&&this.currentDirection===null){this.currentDirection=tw(u),this.currentDirection!==null&&a&&a(this.currentDirection);return}this.updateAxis("x",m.point,u),this.updateAxis("y",m.point,u),this.visualElement.render(),i&&i(p,m)},f=(p,m)=>this.stop(p,m),s=()=>Mn(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qy(S,{onSessionStart:_,onStart:y,onMove:l,onSessionEnd:f,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:tg(this.visualElement)})}stop(S,A){const t=this.isDragging;if(this.cancel(),!t)return;const{velocity:_}=A;this.startAnimation(_);const{onDragEnd:y}=this.getProps();y&&nr.postRender(()=>y(S,A))}cancel(){this.isDragging=!1;const{projection:S,animationState:A}=this.visualElement;S&&(S.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:t}=this.getProps();!t&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),A&&A.setActive("whileDrag",!1)}updateAxis(S,A,t){const{drag:_}=this.getProps();if(!t||!jl(S,_,this.currentDirection))return;const y=this.getAxisMotionValue(S);let l=this.originPoint[S]+t[S];this.constraints&&this.constraints[S]&&(l=zx(l,this.constraints[S],this.elastic[S])),y.set(l)}resolveConstraints(){var S;const{dragConstraints:A,dragElastic:t}=this.getProps(),_=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(S=this.visualElement.projection)===null||S===void 0?void 0:S.layout,y=this.constraints;A&&si(A)?this.constraints||(this.constraints=this.resolveRefConstraints()):A&&_?this.constraints=Hx(_.layoutBox,A):this.constraints=!1,this.elastic=Yx(t),y!==this.constraints&&_&&this.constraints&&!this.hasMutatedConstraints&&Mn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=qx(_.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:S,onMeasureDragConstraints:A}=this.getProps();if(!S||!si(S))return!1;const t=S.current,{projection:_}=this.visualElement;if(!_||!_.layout)return!1;const y=Qx(t,_.root,this.visualElement.getTransformPagePoint());let l=Wx(_.layout.layoutBox,y);if(A){const f=A($x(l));this.hasMutatedConstraints=!!f,f&&(l=Zy(f))}return l}startAnimation(S){const{drag:A,dragMomentum:t,dragElastic:_,dragTransition:y,dragSnapToOrigin:l,onDragTransitionEnd:f}=this.getProps(),s=this.constraints||{},c=Mn(p=>{if(!jl(p,A,this.currentDirection))return;let m=s[p]||{};l&&(m={min:0,max:0});const n=_?200:1e6,r=_?40:1e7,a={type:"inertia",velocity:t?S[p]:0,bounceStiffness:n,bounceDamping:r,timeConstant:750,restDelta:1,restSpeed:10,...y,...m};return this.startAxisValueAnimation(p,a)});return Promise.all(c).then(f)}startAxisValueAnimation(S,A){const t=this.getAxisMotionValue(S);return Hc(this.visualElement,S),t.start(Xd(S,t,0,A,this.visualElement,!1))}stopAnimation(){Mn(S=>this.getAxisMotionValue(S).stop())}pauseAnimation(){Mn(S=>{var A;return(A=this.getAxisMotionValue(S).animation)===null||A===void 0?void 0:A.pause()})}getAnimationState(S){var A;return(A=this.getAxisMotionValue(S).animation)===null||A===void 0?void 0:A.state}getAxisMotionValue(S){const A=`_drag${S.toUpperCase()}`,t=this.visualElement.getProps(),_=t[A];return _||this.visualElement.getValue(S,(t.initial?t.initial[S]:void 0)||0)}snapToCursor(S){Mn(A=>{const{drag:t}=this.getProps();if(!jl(A,t,this.currentDirection))return;const{projection:_}=this.visualElement,y=this.getAxisMotionValue(A);if(_&&_.layout){const{min:l,max:f}=_.layout.layoutBox[A];y.set(S[A]-mr(l,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:S,dragConstraints:A}=this.getProps(),{projection:t}=this.visualElement;if(!si(A)||!t||!this.constraints)return;this.stopAnimation();const _={x:0,y:0};Mn(l=>{const f=this.getAxisMotionValue(l);if(f&&this.constraints!==!1){const s=f.get();_[l]=Xx({min:s,max:s},this.constraints[l])}});const{transformTemplate:y}=this.visualElement.getProps();this.visualElement.current.style.transform=y?y({},""):"none",t.root&&t.root.updateScroll(),t.updateLayout(),this.resolveConstraints(),Mn(l=>{if(!jl(l,S,null))return;const f=this.getAxisMotionValue(l),{min:s,max:c}=this.constraints[l];f.set(mr(s,c,_[l]))})}addListeners(){if(!this.visualElement.current)return;Jx.set(this.visualElement,this);const S=this.visualElement.current,A=Qi(S,"pointerdown",s=>{const{drag:c,dragListener:p=!0}=this.getProps();c&&p&&this.start(s)}),t=()=>{const{dragConstraints:s}=this.getProps();si(s)&&s.current&&(this.constraints=this.resolveRefConstraints())},{projection:_}=this.visualElement,y=_.addEventListener("measure",t);_&&!_.layout&&(_.root&&_.root.updateScroll(),_.updateLayout()),nr.read(t);const l=aa(window,"resize",()=>this.scalePositionWithinConstraints()),f=_.addEventListener("didUpdate",({delta:s,hasLayoutChanged:c})=>{this.isDragging&&c&&(Mn(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=s[p].translate,m.set(m.get()+s[p].translate))}),this.visualElement.render())});return()=>{l(),A(),y(),f&&f()}}getProps(){const S=this.visualElement.getProps(),{drag:A=!1,dragDirectionLock:t=!1,dragPropagation:_=!1,dragConstraints:y=!1,dragElastic:l=ed,dragMomentum:f=!0}=S;return{...S,drag:A,dragDirectionLock:t,dragPropagation:_,dragConstraints:y,dragElastic:l,dragMomentum:f}}}function jl(x,S,A){return(S===!0||S===x)&&(A===null||A===x)}function tw(x,S=10){let A=null;return Math.abs(x.y)>S?A="y":Math.abs(x.x)>S&&(A="x"),A}class rw extends qs{constructor(S){super(S),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new ew(S)}mount(){const{dragControls:S}=this.node.getProps();S&&(this.removeGroupControls=S.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const qp=x=>(S,A)=>{x&&nr.postRender(()=>x(S,A))};class nw extends qs{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(S){this.session=new qy(S,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tg(this.node)})}createPanHandlers(){const{onPanSessionStart:S,onPanStart:A,onPan:t,onPanEnd:_}=this.node.getProps();return{onSessionStart:qp(S),onStart:qp(A),onMove:t,onEnd:(y,l)=>{delete this.session,_&&nr.postRender(()=>_(y,l))}}}mount(){this.removePointerDownListener=Qi(this.node.current,"pointerdown",S=>this.onPointerDown(S))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yp(x,S){return S.max===S.min?0:x/(S.max-S.min)*100}const qi={correct:(x,S)=>{if(!S.target)return x;if(typeof x=="string")if(Lt.test(x))x=parseFloat(x);else return x;const A=Yp(x,S.target.x),t=Yp(x,S.target.y);return`${A}% ${t}%`}},sw={correct:(x,{treeScale:S,projectionDelta:A})=>{const t=x,_=Xs.parse(x);if(_.length>5)return t;const y=Xs.createTransformer(x),l=typeof _[0]!="number"?1:0,f=A.x.scale*S.x,s=A.y.scale*S.y;_[0+l]/=f,_[1+l]/=s;const c=mr(f,s,.5);return typeof _[2+l]=="number"&&(_[2+l]/=c),typeof _[3+l]=="number"&&(_[3+l]/=c),y(_)}};class ow extends Ie.Component{componentDidMount(){const{visualElement:S,layoutGroup:A,switchLayoutGroup:t,layoutId:_}=this.props,{projection:y}=S;g1(iw),y&&(A.group&&A.group.add(y),t&&t.register&&_&&t.register(y),y.root.didUpdate(),y.addEventListener("animationComplete",()=>{this.safeToRemove()}),y.setOptions({...y.options,onExitComplete:()=>this.safeToRemove()})),Cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(S){const{layoutDependency:A,visualElement:t,drag:_,isPresent:y}=this.props,l=t.projection;return l&&(l.isPresent=y,_||S.layoutDependency!==A||A===void 0?l.willUpdate():this.safeToRemove(),S.isPresent!==y&&(y?l.promote():l.relegate()||nr.postRender(()=>{const f=l.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:S}=this.props.visualElement;S&&(S.root.didUpdate(),xd.postRender(()=>{!S.currentAnimation&&S.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:S,layoutGroup:A,switchLayoutGroup:t}=this.props,{projection:_}=S;_&&(_.scheduleCheckAfterUnmount(),A&&A.group&&A.group.remove(_),t&&t.deregister&&t.deregister(_))}safeToRemove(){const{safeToRemove:S}=this.props;S&&S()}render(){return null}}function rg(x){const[S,A]=Vm(),t=Ie.useContext(hd);return Tt.jsx(ow,{...x,layoutGroup:t,switchLayoutGroup:Ie.useContext(Ym),isPresent:S,safeToRemove:A})}const iw={borderRadius:{...qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qi,borderTopRightRadius:qi,borderBottomLeftRadius:qi,borderBottomRightRadius:qi,boxShadow:sw};function aw(x,S,A){const t=$r(x)?x:oa(x);return t.start(Xd("",t,S,A)),t.animation}function lw(x){return x instanceof SVGElement&&x.tagName!=="svg"}const uw=(x,S)=>x.depth-S.depth;class cw{constructor(){this.children=[],this.isDirty=!1}add(S){Ad(this.children,S),this.isDirty=!0}remove(S){Ld(this.children,S),this.isDirty=!0}forEach(S){this.isDirty&&this.children.sort(uw),this.isDirty=!1,this.children.forEach(S)}}function dw(x,S){const A=Zn.now(),t=({timestamp:_})=>{const y=_-A;y>=S&&(Ws(t),x(y-S))};return nr.read(t,!0),()=>Ws(t)}const ng=["TopLeft","TopRight","BottomLeft","BottomRight"],fw=ng.length,$p=x=>typeof x=="string"?parseFloat(x):x,Kp=x=>typeof x=="number"||Lt.test(x);function hw(x,S,A,t,_,y){_?(x.opacity=mr(0,A.opacity!==void 0?A.opacity:1,pw(t)),x.opacityExit=mr(S.opacity!==void 0?S.opacity:1,0,mw(t))):y&&(x.opacity=mr(S.opacity!==void 0?S.opacity:1,A.opacity!==void 0?A.opacity:1,t));for(let l=0;l<fw;l++){const f=`border${ng[l]}Radius`;let s=Zp(S,f),c=Zp(A,f);if(s===void 0&&c===void 0)continue;s||(s=0),c||(c=0),s===0||c===0||Kp(s)===Kp(c)?(x[f]=Math.max(mr($p(s),$p(c),t),0),(Kn.test(c)||Kn.test(s))&&(x[f]+="%")):x[f]=c}(S.rotate||A.rotate)&&(x.rotate=mr(S.rotate||0,A.rotate||0,t))}function Zp(x,S){return x[S]!==void 0?x[S]:x.borderRadius}const pw=sg(0,.5,by),mw=sg(.5,.95,wn);function sg(x,S,A){return t=>t<x?0:t>S?1:A(ci(x,S,t))}function Qp(x,S){x.min=S.min,x.max=S.max}function Cn(x,S){Qp(x.x,S.x),Qp(x.y,S.y)}function Jp(x,S){x.translate=S.translate,x.scale=S.scale,x.originPoint=S.originPoint,x.origin=S.origin}function em(x,S,A,t,_){return x-=S,x=Il(x,1/A,t),_!==void 0&&(x=Il(x,1/_,t)),x}function yw(x,S=0,A=1,t=.5,_,y=x,l=x){if(Kn.test(S)&&(S=parseFloat(S),S=mr(l.min,l.max,S/100)-l.min),typeof S!="number")return;let f=mr(y.min,y.max,t);x===y&&(f-=S),x.min=em(x.min,S,A,f,_),x.max=em(x.max,S,A,f,_)}function tm(x,S,[A,t,_],y,l){yw(x,S[A],S[t],S[_],S.scale,y,l)}const gw=["x","scaleX","originX"],vw=["y","scaleY","originY"];function rm(x,S,A,t){tm(x.x,S,gw,A?A.x:void 0,t?t.x:void 0),tm(x.y,S,vw,A?A.y:void 0,t?t.y:void 0)}function nm(x){return x.translate===0&&x.scale===1}function og(x){return nm(x.x)&&nm(x.y)}function sm(x,S){return x.min===S.min&&x.max===S.max}function bw(x,S){return sm(x.x,S.x)&&sm(x.y,S.y)}function om(x,S){return Math.round(x.min)===Math.round(S.min)&&Math.round(x.max)===Math.round(S.max)}function ig(x,S){return om(x.x,S.x)&&om(x.y,S.y)}function im(x){return Jr(x.x)/Jr(x.y)}function am(x,S){return x.translate===S.translate&&x.scale===S.scale&&x.originPoint===S.originPoint}class xw{constructor(){this.members=[]}add(S){Ad(this.members,S),S.scheduleRender()}remove(S){if(Ld(this.members,S),S===this.prevLead&&(this.prevLead=void 0),S===this.lead){const A=this.members[this.members.length-1];A&&this.promote(A)}}relegate(S){const A=this.members.findIndex(_=>S===_);if(A===0)return!1;let t;for(let _=A;_>=0;_--){const y=this.members[_];if(y.isPresent!==!1){t=y;break}}return t?(this.promote(t),!0):!1}promote(S,A){const t=this.lead;if(S!==t&&(this.prevLead=t,this.lead=S,S.show(),t)){t.instance&&t.scheduleRender(),S.scheduleRender(),S.resumeFrom=t,A&&(S.resumeFrom.preserveOpacity=!0),t.snapshot&&(S.snapshot=t.snapshot,S.snapshot.latestValues=t.animationValues||t.latestValues),S.root&&S.root.isUpdating&&(S.isLayoutDirty=!0);const{crossfade:_}=S.options;_===!1&&t.hide()}}exitAnimationComplete(){this.members.forEach(S=>{const{options:A,resumingFrom:t}=S;A.onExitComplete&&A.onExitComplete(),t&&t.options.onExitComplete&&t.options.onExitComplete()})}scheduleRender(){this.members.forEach(S=>{S.instance&&S.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ww(x,S,A){let t="";const _=x.x.translate/S.x,y=x.y.translate/S.y,l=(A==null?void 0:A.z)||0;if((_||y||l)&&(t=`translate3d(${_}px, ${y}px, ${l}px) `),(S.x!==1||S.y!==1)&&(t+=`scale(${1/S.x}, ${1/S.y}) `),A){const{transformPerspective:c,rotate:p,rotateX:m,rotateY:n,skewX:r,skewY:a}=A;c&&(t=`perspective(${c}px) ${t}`),p&&(t+=`rotate(${p}deg) `),m&&(t+=`rotateX(${m}deg) `),n&&(t+=`rotateY(${n}deg) `),r&&(t+=`skewX(${r}deg) `),a&&(t+=`skewY(${a}deg) `)}const f=x.x.scale*S.x,s=x.y.scale*S.y;return(f!==1||s!==1)&&(t+=`scale(${f}, ${s})`),t||"none"}const Rc=["","X","Y","Z"],jw={visibility:"hidden"},lm=1e3;let Sw=0;function Dc(x,S,A,t){const{latestValues:_}=S;_[x]&&(A[x]=_[x],S.setStaticValue(x,0),t&&(t[x]=0))}function ag(x){if(x.hasCheckedOptimisedAppear=!0,x.root===x)return;const{visualElement:S}=x.options;if(!S)return;const A=uy(S);if(window.MotionHasOptimisedAnimation(A,"transform")){const{layout:_,layoutId:y}=x.options;window.MotionCancelOptimisedAnimation(A,"transform",nr,!(_||y))}const{parent:t}=x;t&&!t.hasCheckedOptimisedAppear&&ag(t)}function lg({attachResizeListener:x,defaultParent:S,measureScroll:A,checkIsScrollRoot:t,resetTransform:_}){return class{constructor(l={},f=S==null?void 0:S()){this.id=Sw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ew),this.nodes.forEach(Ow),this.nodes.forEach(Aw),this.nodes.forEach(kw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new cw)}addEventListener(l,f){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Rd),this.eventHandlers.get(l).add(f)}notifyListeners(l,...f){const s=this.eventHandlers.get(l);s&&s.notify(...f)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lw(l),this.instance=l;const{layoutId:s,layout:c,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(c||s)&&(this.isLayoutDirty=!0),x){let m;const n=()=>this.root.updateBlockedByResize=!1;x(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=dw(n,250),Cl.hasAnimatedSinceResize&&(Cl.hasAnimatedSinceResize=!1,this.nodes.forEach(cm))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&p&&(s||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:a})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const i=this.options.transition||p.getDefaultTransition()||Fw,{onLayoutAnimationStart:u,onLayoutAnimationComplete:d}=p.getProps(),h=!this.targetLayout||!ig(this.targetLayout,a),b=!n&&r;if(this.options.layoutRoot||this.resumeFrom||b||n&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const v={...Od(i,"layout"),onPlay:u,onComplete:d};(p.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else n||cm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lw),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ag(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:f,layout:s}=this.options;if(f===void 0&&!s)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(um);return}this.isUpdating||this.nodes.forEach(Mw),this.isUpdating=!1,this.nodes.forEach(Pw),this.nodes.forEach(_w),this.nodes.forEach(Tw),this.clearAllSnapshots();const f=Zn.now();Gr.delta=ms(0,1e3/60,f-Gr.timestamp),Gr.timestamp=f,Gr.isProcessing=!0,kc.update.process(Gr),kc.preRender.process(Gr),kc.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cw),this.sharedNodes.forEach(Rw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jr(this.snapshot.measuredBox.x)&&!Jr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(f=!1),f){const s=t(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:s,offset:A(this.instance),wasRoot:this.scroll?this.scroll.isRoot:s}}}resetTransform(){if(!_)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!og(this.projectionDelta),s=this.getTransformTemplate(),c=s?s(this.latestValues,""):void 0,p=c!==this.prevTransformTemplateValue;l&&(f||To(this.latestValues)||p)&&(_(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const f=this.measurePageBox();let s=this.removeElementScroll(f);return l&&(s=this.removeTransform(s)),Nw(s),{animationId:this.root.animationId,measuredBox:f,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:f}=this.options;if(!f)return _r();const s=f.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Uw))){const{scroll:p}=this.root;p&&(ai(s.x,p.offset.x),ai(s.y,p.offset.y))}return s}removeElementScroll(l){var f;const s=_r();if(Cn(s,l),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return s;for(let c=0;c<this.path.length;c++){const p=this.path[c],{scroll:m,options:n}=p;p!==this.root&&m&&n.layoutScroll&&(m.wasRoot&&Cn(s,l),ai(s.x,m.offset.x),ai(s.y,m.offset.y))}return s}applyTransform(l,f=!1){const s=_r();Cn(s,l);for(let c=0;c<this.path.length;c++){const p=this.path[c];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&li(s,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),To(p.latestValues)&&li(s,p.latestValues)}return To(this.latestValues)&&li(s,this.latestValues),s}removeTransform(l){const f=_r();Cn(f,l);for(let s=0;s<this.path.length;s++){const c=this.path[s];if(!c.instance||!To(c.latestValues))continue;td(c.latestValues)&&c.updateSnapshot();const p=_r(),m=c.measurePageBox();Cn(p,m),rm(f,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,p)}return To(this.latestValues)&&rm(f,this.latestValues),f}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var f;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==s;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:n}=this.options;if(!(!this.layout||!(m||n))){if(this.resolvedRelativeTargetAt=Gr.timestamp,!this.targetDelta&&!this.relativeTarget){const r=this.getClosestProjectingParent();r&&r.layout&&this.animationProgress!==1?(this.relativeParent=r,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),ea(this.relativeTargetOrigin,this.layout.layoutBox,r.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),Jy(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const r=this.getClosestProjectingParent();r&&!!r.resumingFrom==!!this.resumingFrom&&!r.options.layoutScroll&&r.target&&this.animationProgress!==1?(this.relativeParent=r,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),ea(this.relativeTargetOrigin,this.target,r.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||Qy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const f=this.getLead(),s=!!this.resumingFrom||this!==f;let c=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(c=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(c=!1),c)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Cn(this.layoutCorrected,this.layout.layoutBox);const n=this.treeScale.x,r=this.treeScale.y;Zx(this.layoutCorrected,this.treeScale,this.path,s),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=_r());const{target:a}=f;if(!a){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jp(this.prevProjectionDelta.x,this.projectionDelta.x),Jp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ji(this.projectionDelta,this.layoutCorrected,a,this.latestValues),(this.treeScale.x!==n||this.treeScale.y!==r||!am(this.projectionDelta.x,this.prevProjectionDelta.x)||!am(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),l){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ii(),this.projectionDelta=ii(),this.projectionDeltaWithTransform=ii()}setAnimationOrigin(l,f=!1){const s=this.snapshot,c=s?s.latestValues:{},p={...this.latestValues},m=ii();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const n=_r(),r=s?s.source:void 0,a=this.layout?this.layout.source:void 0,i=r!==a,u=this.getStack(),d=!u||u.members.length<=1,h=!!(i&&!d&&this.options.crossfade===!0&&!this.path.some(Iw));this.animationProgress=0;let b;this.mixTargetDelta=v=>{const w=v/1e3;dm(m.x,l.x,w),dm(m.y,l.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ea(n,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dw(this.relativeTarget,this.relativeTargetOrigin,n,w),b&&bw(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=_r()),Cn(b,this.relativeTarget)),i&&(this.animationValues=p,hw(p,c,this.latestValues,w,h,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{Cl.hasAnimatedSinceResize=!0,this.currentAnimation=aw(0,lm,{...l,onUpdate:f=>{this.mixTargetDelta(f),l.onUpdate&&l.onUpdate(f)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:f,target:s,layout:c,latestValues:p}=l;if(!(!f||!s||!c)){if(this!==l&&this.layout&&c&&ug(this.options.animationType,this.layout.layoutBox,c.layoutBox)){s=this.target||_r();const m=Jr(this.layout.layoutBox.x);s.x.min=l.target.x.min,s.x.max=s.x.min+m;const n=Jr(this.layout.layoutBox.y);s.y.min=l.target.y.min,s.y.max=s.y.min+n}Cn(f,s),li(f,p),Ji(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(l,f){this.sharedNodes.has(l)||this.sharedNodes.set(l,new xw),this.sharedNodes.get(l).add(f);const c=f.options.initialPromotionConfig;f.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(f):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:f}=this.options;return f?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:f}=this.options;return f?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:f,preserveFollowOpacity:s}={}){const c=this.getStack();c&&c.promote(this,s),l&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let f=!1;const{latestValues:s}=l;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(f=!0),!f)return;const c={};s.z&&Dc("z",l,c,this.animationValues);for(let p=0;p<Rc.length;p++)Dc(`rotate${Rc[p]}`,l,c,this.animationValues),Dc(`skew${Rc[p]}`,l,c,this.animationValues);l.render();for(const p in c)l.setStaticValue(p,c[p]),this.animationValues&&(this.animationValues[p]=c[p]);l.scheduleRender()}getProjectionStyles(l){var f,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jw;const c={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=El(l==null?void 0:l.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const i={};return this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=El(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(i.transform=p?p({},""):"none",this.hasProjected=!1),i}const n=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=ww(this.projectionDeltaWithTransform,this.treeScale,n),p&&(c.transform=p(n,c.transform));const{x:r,y:a}=this.projectionDelta;c.transformOrigin=`${r.origin*100}% ${a.origin*100}% 0`,m.animationValues?c.opacity=m===this?(s=(f=n.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:n.opacityExit:c.opacity=m===this?n.opacity!==void 0?n.opacity:"":n.opacityExit!==void 0?n.opacityExit:0;for(const i in na){if(n[i]===void 0)continue;const{correct:u,applyTo:d,isCSSVariable:h}=na[i],b=c.transform==="none"?n[i]:u(n[i],m);if(d){const v=d.length;for(let w=0;w<v;w++)c[d[w]]=b}else h?this.options.visualElement.renderState.vars[i]=b:c[i]=b}return this.options.layoutId&&(c.pointerEvents=m===this?El(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var f;return(f=l.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(um),this.root.sharedNodes.clear()}}}function _w(x){x.updateLayout()}function Tw(x){var S;const A=((S=x.resumeFrom)===null||S===void 0?void 0:S.snapshot)||x.snapshot;if(x.isLead()&&x.layout&&A&&x.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:_}=x.layout,{animationType:y}=x.options,l=A.source!==x.layout.source;y==="size"?Mn(m=>{const n=l?A.measuredBox[m]:A.layoutBox[m],r=Jr(n);n.min=t[m].min,n.max=n.min+r}):ug(y,A.layoutBox,t)&&Mn(m=>{const n=l?A.measuredBox[m]:A.layoutBox[m],r=Jr(t[m]);n.max=n.min+r,x.relativeTarget&&!x.currentAnimation&&(x.isProjectionDirty=!0,x.relativeTarget[m].max=x.relativeTarget[m].min+r)});const f=ii();Ji(f,t,A.layoutBox);const s=ii();l?Ji(s,x.applyTransform(_,!0),A.measuredBox):Ji(s,t,A.layoutBox);const c=!og(f);let p=!1;if(!x.resumeFrom){const m=x.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:n,layout:r}=m;if(n&&r){const a=_r();ea(a,A.layoutBox,n.layoutBox);const i=_r();ea(i,t,r.layoutBox),ig(a,i)||(p=!0),m.options.layoutRoot&&(x.relativeTarget=i,x.relativeTargetOrigin=a,x.relativeParent=m)}}}x.notifyListeners("didUpdate",{layout:t,snapshot:A,delta:s,layoutDelta:f,hasLayoutChanged:c,hasRelativeLayoutChanged:p})}else if(x.isLead()){const{onExitComplete:t}=x.options;t&&t()}x.options.transition=void 0}function Ew(x){x.parent&&(x.isProjecting()||(x.isProjectionDirty=x.parent.isProjectionDirty),x.isSharedProjectionDirty||(x.isSharedProjectionDirty=!!(x.isProjectionDirty||x.parent.isProjectionDirty||x.parent.isSharedProjectionDirty)),x.isTransformDirty||(x.isTransformDirty=x.parent.isTransformDirty))}function kw(x){x.isProjectionDirty=x.isSharedProjectionDirty=x.isTransformDirty=!1}function Cw(x){x.clearSnapshot()}function um(x){x.clearMeasurements()}function Mw(x){x.isLayoutDirty=!1}function Pw(x){const{visualElement:S}=x.options;S&&S.getProps().onBeforeLayoutMeasure&&S.notify("BeforeLayoutMeasure"),x.resetTransform()}function cm(x){x.finishAnimation(),x.targetDelta=x.relativeTarget=x.target=void 0,x.isProjectionDirty=!0}function Ow(x){x.resolveTargetDelta()}function Aw(x){x.calcProjection()}function Lw(x){x.resetSkewAndRotation()}function Rw(x){x.removeLeadSnapshot()}function dm(x,S,A){x.translate=mr(S.translate,0,A),x.scale=mr(S.scale,1,A),x.origin=S.origin,x.originPoint=S.originPoint}function fm(x,S,A,t){x.min=mr(S.min,A.min,t),x.max=mr(S.max,A.max,t)}function Dw(x,S,A,t){fm(x.x,S.x,A.x,t),fm(x.y,S.y,A.y,t)}function Iw(x){return x.animationValues&&x.animationValues.opacityExit!==void 0}const Fw={duration:.45,ease:[.4,0,.1,1]},hm=x=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(x),pm=hm("applewebkit/")&&!hm("chrome/")?Math.round:wn;function mm(x){x.min=pm(x.min),x.max=pm(x.max)}function Nw(x){mm(x.x),mm(x.y)}function ug(x,S,A){return x==="position"||x==="preserve-aspect"&&!Vx(im(S),im(A),.2)}function Uw(x){var S;return x!==x.root&&((S=x.scroll)===null||S===void 0?void 0:S.wasRoot)}const Bw=lg({attachResizeListener:(x,S)=>aa(x,"resize",S),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ic={current:void 0},cg=lg({measureScroll:x=>({x:x.scrollLeft,y:x.scrollTop}),defaultParent:()=>{if(!Ic.current){const x=new Bw({});x.mount(window),x.setOptions({layoutScroll:!0}),Ic.current=x}return Ic.current},resetTransform:(x,S)=>{x.style.transform=S!==void 0?S:"none"},checkIsScrollRoot:x=>window.getComputedStyle(x).position==="fixed"}),Vw={pan:{Feature:nw},drag:{Feature:rw,ProjectionNode:cg,MeasureLayout:rg}};function Gw(x,S,A){var t;if(x instanceof Element)return[x];if(typeof x=="string"){let _=document;const y=(t=void 0)!==null&&t!==void 0?t:_.querySelectorAll(x);return y?Array.from(y):[]}return Array.from(x)}function dg(x,S){const A=Gw(x),t=new AbortController,_={passive:!0,...S,signal:t.signal};return[A,_,()=>t.abort()]}function ym(x){return!(x.pointerType==="touch"||Xy())}function zw(x,S,A={}){const[t,_,y]=dg(x,A),l=f=>{if(!ym(f))return;const{target:s}=f,c=S(s,f);if(typeof c!="function"||!s)return;const p=m=>{ym(m)&&(c(m),s.removeEventListener("pointerleave",p))};s.addEventListener("pointerleave",p,_)};return t.forEach(f=>{f.addEventListener("pointerenter",l,_)}),y}function gm(x,S,A){const{props:t}=x;x.animationState&&t.whileHover&&x.animationState.setActive("whileHover",A==="Start");const _="onHover"+A,y=t[_];y&&nr.postRender(()=>y(S,pa(S)))}class Hw extends qs{mount(){const{current:S}=this.node;S&&(this.unmount=zw(S,(A,t)=>(gm(this.node,t,"Start"),_=>gm(this.node,_,"End"))))}unmount(){}}class Ww extends qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let S=!1;try{S=this.node.current.matches(":focus-visible")}catch{S=!0}!S||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ha(aa(this.node.current,"focus",()=>this.onFocus()),aa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fg=(x,S)=>S?x===S?!0:fg(x,S.parentElement):!1,Xw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qw(x){return Xw.has(x.tagName)||x.tabIndex!==-1}const Ki=new WeakSet;function vm(x){return S=>{S.key==="Enter"&&x(S)}}function Fc(x,S){x.dispatchEvent(new PointerEvent("pointer"+S,{isPrimary:!0,bubbles:!0}))}const Yw=(x,S)=>{const A=x.currentTarget;if(!A)return;const t=vm(()=>{if(Ki.has(A))return;Fc(A,"down");const _=vm(()=>{Fc(A,"up")}),y=()=>Fc(A,"cancel");A.addEventListener("keyup",_,S),A.addEventListener("blur",y,S)});A.addEventListener("keydown",t,S),A.addEventListener("blur",()=>A.removeEventListener("keydown",t),S)};function bm(x){return qd(x)&&!Xy()}function $w(x,S,A={}){const[t,_,y]=dg(x,A),l=f=>{const s=f.currentTarget;if(!bm(f)||Ki.has(s))return;Ki.add(s);const c=S(s,f),p=(r,a)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",n),!(!bm(r)||!Ki.has(s))&&(Ki.delete(s),typeof c=="function"&&c(r,{success:a}))},m=r=>{p(r,A.useGlobalTarget||fg(s,r.target))},n=r=>{p(r,!1)};window.addEventListener("pointerup",m,_),window.addEventListener("pointercancel",n,_)};return t.forEach(f=>{!qw(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(A.useGlobalTarget?window:f).addEventListener("pointerdown",l,_),f.addEventListener("focus",c=>Yw(c,_),_)}),y}function xm(x,S,A){const{props:t}=x;x.animationState&&t.whileTap&&x.animationState.setActive("whileTap",A==="Start");const _="onTap"+(A==="End"?"":A),y=t[_];y&&nr.postRender(()=>y(S,pa(S)))}class Kw extends qs{mount(){const{current:S}=this.node;S&&(this.unmount=$w(S,(A,t)=>(xm(this.node,t,"Start"),(_,{success:y})=>xm(this.node,_,y?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nd=new WeakMap,Nc=new WeakMap,Zw=x=>{const S=nd.get(x.target);S&&S(x)},Qw=x=>{x.forEach(Zw)};function Jw({root:x,...S}){const A=x||document;Nc.has(A)||Nc.set(A,{});const t=Nc.get(A),_=JSON.stringify(S);return t[_]||(t[_]=new IntersectionObserver(Qw,{root:x,...S})),t[_]}function e2(x,S,A){const t=Jw(S);return nd.set(x,A),t.observe(x),()=>{nd.delete(x),t.unobserve(x)}}const t2={some:0,all:1};class r2 extends qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:S={}}=this.node.getProps(),{root:A,margin:t,amount:_="some",once:y}=S,l={root:A?A.current:void 0,rootMargin:t,threshold:typeof _=="number"?_:t2[_]},f=s=>{const{isIntersecting:c}=s;if(this.isInView===c||(this.isInView=c,y&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),n=c?p:m;n&&n(s)};return e2(this.node.current,l,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:S,prevProps:A}=this.node;["amount","margin","root"].some(n2(S,A))&&this.startObserver()}unmount(){}}function n2({viewport:x={}},{viewport:S={}}={}){return A=>x[A]!==S[A]}const s2={inView:{Feature:r2},tap:{Feature:Kw},focus:{Feature:Ww},hover:{Feature:Hw}},o2={layout:{ProjectionNode:cg,MeasureLayout:rg}},sd={current:null},hg={current:!1};function i2(){if(hg.current=!0,!!yd)if(window.matchMedia){const x=window.matchMedia("(prefers-reduced-motion)"),S=()=>sd.current=x.matches;x.addListener(S),S()}else sd.current=!1}const a2=[...Ly,Yr,Xs],l2=x=>a2.find(Ay(x)),u2=new WeakMap;function c2(x,S,A){for(const t in S){const _=S[t],y=A[t];if($r(_))x.addValue(t,_);else if($r(y))x.addValue(t,oa(_,{owner:x}));else if(y!==_)if(x.hasValue(t)){const l=x.getValue(t);l.liveStyle===!0?l.jump(_):l.hasAnimated||l.set(_)}else{const l=x.getStaticValue(t);x.addValue(t,oa(l!==void 0?l:_,{owner:x}))}}for(const t in A)S[t]===void 0&&x.removeValue(t);return S}const wm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d2{scrapeMotionValuesFromProps(S,A,t){return{}}constructor({parent:S,props:A,presenceContext:t,reducedMotionConfig:_,blockInitialAnimation:y,visualState:l},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const r=Zn.now();this.renderScheduledAt<r&&(this.renderScheduledAt=r,nr.render(this.render,!1,!0))};const{latestValues:s,renderState:c,onUpdate:p}=l;this.onUpdate=p,this.latestValues=s,this.baseTarget={...s},this.initialValues=A.initial?{...s}:{},this.renderState=c,this.parent=S,this.props=A,this.presenceContext=t,this.depth=S?S.depth+1:0,this.reducedMotionConfig=_,this.options=f,this.blockInitialAnimation=!!y,this.isControllingVariants=Gl(A),this.isVariantNode=Xm(A),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(S&&S.current);const{willChange:m,...n}=this.scrapeMotionValuesFromProps(A,{},this);for(const r in n){const a=n[r];s[r]!==void 0&&$r(a)&&a.set(s[r],!1)}}mount(S){this.current=S,u2.set(S,this),this.projection&&!this.projection.instance&&this.projection.mount(S),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((A,t)=>this.bindToMotionValue(t,A)),hg.current||i2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ws(this.notifyUpdate),Ws(this.render),this.valueSubscriptions.forEach(S=>S()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const S in this.events)this.events[S].clear();for(const S in this.features){const A=this.features[S];A&&(A.unmount(),A.isMounted=!1)}this.current=null}bindToMotionValue(S,A){this.valueSubscriptions.has(S)&&this.valueSubscriptions.get(S)();const t=Co.has(S);t&&this.onBindTransform&&this.onBindTransform();const _=A.on("change",f=>{this.latestValues[S]=f,this.props.onUpdate&&nr.preRender(this.notifyUpdate),t&&this.projection&&(this.projection.isTransformDirty=!0)}),y=A.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,S,A)),this.valueSubscriptions.set(S,()=>{_(),y(),l&&l(),A.owner&&A.stop()})}sortNodePosition(S){return!this.current||!this.sortInstanceNodePosition||this.type!==S.type?0:this.sortInstanceNodePosition(this.current,S.current)}updateFeatures(){let S="animation";for(S in ui){const A=ui[S];if(!A)continue;const{isEnabled:t,Feature:_}=A;if(!this.features[S]&&_&&t(this.props)&&(this.features[S]=new _(this)),this.features[S]){const y=this.features[S];y.isMounted?y.update():(y.mount(),y.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(S){return this.latestValues[S]}setStaticValue(S,A){this.latestValues[S]=A}update(S,A){(S.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=S,this.prevPresenceContext=this.presenceContext,this.presenceContext=A;for(let t=0;t<wm.length;t++){const _=wm[t];this.propEventSubscriptions[_]&&(this.propEventSubscriptions[_](),delete this.propEventSubscriptions[_]);const y="on"+_,l=S[y];l&&(this.propEventSubscriptions[_]=this.on(_,l))}this.prevMotionValues=c2(this,this.scrapeMotionValuesFromProps(S,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(S){return this.props.variants?this.props.variants[S]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(S){const A=this.getClosestVariantNode();if(A)return A.variantChildren&&A.variantChildren.add(S),()=>A.variantChildren.delete(S)}addValue(S,A){const t=this.values.get(S);A!==t&&(t&&this.removeValue(S),this.bindToMotionValue(S,A),this.values.set(S,A),this.latestValues[S]=A.get())}removeValue(S){this.values.delete(S);const A=this.valueSubscriptions.get(S);A&&(A(),this.valueSubscriptions.delete(S)),delete this.latestValues[S],this.removeValueFromRenderState(S,this.renderState)}hasValue(S){return this.values.has(S)}getValue(S,A){if(this.props.values&&this.props.values[S])return this.props.values[S];let t=this.values.get(S);return t===void 0&&A!==void 0&&(t=oa(A===null?void 0:A,{owner:this}),this.addValue(S,t)),t}readValue(S,A){var t;let _=this.latestValues[S]!==void 0||!this.current?this.latestValues[S]:(t=this.getBaseTargetFromProps(this.props,S))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,S,this.options);return _!=null&&(typeof _=="string"&&(Py(_)||wy(_))?_=parseFloat(_):!l2(_)&&Xs.test(A)&&(_=ky(S,A)),this.setBaseTarget(S,$r(_)?_.get():_)),$r(_)?_.get():_}setBaseTarget(S,A){this.baseTarget[S]=A}getBaseTarget(S){var A;const{initial:t}=this.props;let _;if(typeof t=="string"||typeof t=="object"){const l=Md(this.props,t,(A=this.presenceContext)===null||A===void 0?void 0:A.custom);l&&(_=l[S])}if(t&&_!==void 0)return _;const y=this.getBaseTargetFromProps(this.props,S);return y!==void 0&&!$r(y)?y:this.initialValues[S]!==void 0&&_===void 0?void 0:this.baseTarget[S]}on(S,A){return this.events[S]||(this.events[S]=new Rd),this.events[S].add(A)}notify(S,...A){this.events[S]&&this.events[S].notify(...A)}}class pg extends d2{constructor(){super(...arguments),this.KeyframeResolver=Ry}sortInstanceNodePosition(S,A){return S.compareDocumentPosition(A)&2?1:-1}getBaseTargetFromProps(S,A){return S.style?S.style[A]:void 0}removeValueFromRenderState(S,{vars:A,style:t}){delete A[S],delete t[S]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:S}=this.props;$r(S)&&(this.childSubscription=S.on("change",A=>{this.current&&(this.current.textContent=`${A}`)}))}}function f2(x){return window.getComputedStyle(x)}class h2 extends pg{constructor(){super(...arguments),this.type="html",this.renderInstance=ny}readValueFromInstance(S,A){if(Co.has(A)){const t=Gd(A);return t&&t.default||0}else{const t=f2(S),_=(wd(A)?t.getPropertyValue(A):t[A])||0;return typeof _=="string"?_.trim():_}}measureInstanceViewportBox(S,{transformPagePoint:A}){return eg(S,A)}build(S,A,t){_d(S,A,t.transformTemplate)}scrapeMotionValuesFromProps(S,A,t){return Pd(S,A,t)}}class p2 extends pg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_r,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&ry(this.current,this.renderState)}}getBaseTargetFromProps(S,A){return S[A]}readValueFromInstance(S,A){if(Co.has(A)){const t=Gd(A);return t&&t.default||0}return A=sy.has(A)?A:bd(A),S.getAttribute(A)}scrapeMotionValuesFromProps(S,A,t){return iy(S,A,t)}onBindTransform(){this.current&&!this.renderState.dimensions&&nr.postRender(this.updateDimensions)}build(S,A,t){kd(S,A,this.isSVGTag,t.transformTemplate)}renderInstance(S,A,t,_){oy(S,A,t,_)}mount(S){this.isSVGTag=Cd(S.tagName),super.mount(S)}}const m2=(x,S)=>Ed(x)?new p2(S):new h2(S,{allowProjection:x!==Ie.Fragment}),y2=V1({...Ox,...s2,...Vw,...o2},m2),Yd=n1(y2),mg=({children:x})=>Tt.jsx(Yd.div,{initial:{width:0},animate:{width:"auto"},exit:{width:"0px",opacity:0,transition:{duration:.1}},transition:{duration:.3},className:"panel-animated-box",children:x}),g2=({project:x,expanded:S})=>{var s;const[A,t]=Ie.useState(!1),_=Ie.useRef(null),y=Ie.useRef(null),l=()=>{_.current=setTimeout(()=>{t(!0)},12)},f=()=>{clearTimeout(_.current),t(!1)};return Ie.useEffect(()=>{S&&f()},[S]),Tt.jsxs("div",{className:"project-card",onMouseEnter:l,onMouseLeave:f,children:[Tt.jsxs(fd,{to:x.projectID,className:"project-header",children:[Tt.jsxs("div",{className:`project-title-bar ${A?"collapsed":""}`,children:[Tt.jsx("h2",{children:x.title}),Tt.jsx("p",{children:x.description})]}),Tt.jsx("div",{className:`project-title-bar link ${A?"":"collapsed"}`,children:Tt.jsx("h2",{children:"Read More"})})]}),Tt.jsx(Yd.div,{className:`project-preview ${A?"hovered":""}`,ref:y}),S&&Tt.jsx(u0,{context:{bounds:(s=y.current)==null?void 0:s.getBoundingClientRect()}})]})},v2=()=>{const{project:x}=$v(),{bounds:S}=qv();return console.log(S),Tt.jsx(Yd.div,{initial:S?{left:S.left,right:S.right,width:S.right-S.left}:{left:"-3px",right:0,width:"100vw"},animate:{left:"-3px",right:0,width:"100vw"},transition:{duration:.3},className:"project-overlay",children:x})};console.log("Projects data loaded");const b2=[{index:1,projectID:"arems",title:"Arems",description:"This is a description of project 1",thumbnail:"../images/project1.jpg",content:""},{index:2,title:"AsfasTRT",projectID:"asfastrt",description:"This is a description of project 2",thumbnail:"../images/project2.jpg",content:""},{index:3,title:"Ssad-SD",projectID:"ssad-sd",description:"This is a description of project 3",thumbnail:"../images/project3.jpg",content:""},{index:4,title:"Fasd-sdas",projectID:"fasd-sdas",description:"This is a description of project 4",thumbnail:"../images/project4.jpg",content:""}],x2=()=>{const x=ys();return Tt.jsx("div",{className:"project-page",children:Tt.jsx(mg,{children:b2.map(S=>Tt.jsx(g2,{project:S,expanded:S.projectID===x.pathname.split("/")[2]},S.projectID))})})},w2="/ruiyang-space/assets/profile-pic-uv9FFAkg.jpg",j2=()=>Tt.jsx(mg,{children:Tt.jsxs("div",{className:"about-page",children:[Tt.jsx("img",{src:w2,alt:"profile"}),Tt.jsx("h1",{children:"About Me"}),Tt.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tincidunt, arcu nec vehicula aliquet, diam metus gravida erat, in pharetra metus odio nec libero. Nullam nec purus nec libero bibendum ultricies. Nullam nec purus nec libero bibendum ultricies."})]})});function S2(){const x=ys();return Tt.jsxs("div",{className:"page-left",children:[Tt.jsx(H0,{location:x}),Tt.jsx($0,{mode:"wait",children:Tt.jsxs(d0,{children:[Tt.jsx(Yi,{index:!0,path:"/",element:Tt.jsx(Tt.Fragment,{})}),Tt.jsx(Yi,{path:"projects",element:Tt.jsx(x2,{}),children:Tt.jsx(Yi,{path:":project",element:Tt.jsx(v2,{})})}),Tt.jsx(Yi,{path:"about",element:Tt.jsx(j2,{})})]})})]})}function Sl(x){throw new Error('Could not dynamically require "'+x+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uc={exports:{}};/*! p5.js v1.11.3 January 22, 2025 */var jm;function _2(){return jm||(jm=1,function(x,S){(function(A){x.exports=A()})(function(){var A;return function t(_,y,l){function f(p,m){if(!y[p]){if(!_[p]){var n=typeof Sl=="function"&&Sl;if(!m&&n)return n(p,!0);if(s)return s(p,!0);throw(m=new Error("Cannot find module '"+p+"'")).code="MODULE_NOT_FOUND",m}n=y[p]={exports:{}},_[p][0].call(n.exports,function(r){return f(_[p][1][r]||r)},n,n.exports,t,_,y,l)}return y[p].exports}for(var s=typeof Sl=="function"&&Sl,c=0;c<l.length;c++)f(l[c]);return f}({1:[function(t,_,y){y.byteLength=function(i){var i=n(i),a=i[0],i=i[1];return 3*(a+i)/4-i},y.toByteArray=function(r){var a,i,d=n(r),u=d[0],d=d[1],h=new s(function(w,E){return 3*(w+E)/4-E}(u,d)),b=0,v=0<d?u-4:u;for(i=0;i<v;i+=4)a=f[r.charCodeAt(i)]<<18|f[r.charCodeAt(i+1)]<<12|f[r.charCodeAt(i+2)]<<6|f[r.charCodeAt(i+3)],h[b++]=a>>16&255,h[b++]=a>>8&255,h[b++]=255&a;return d===2&&(a=f[r.charCodeAt(i)]<<2|f[r.charCodeAt(i+1)]>>4,h[b++]=255&a),d===1&&(a=f[r.charCodeAt(i)]<<10|f[r.charCodeAt(i+1)]<<4|f[r.charCodeAt(i+2)]>>2,h[b++]=a>>8&255,h[b++]=255&a),h},y.fromByteArray=function(r){for(var a,i=r.length,u=i%3,d=[],h=0,b=i-u;h<b;h+=16383)d.push(function(v,w,E){for(var k,T=[],L=w;L<E;L+=3)k=(v[L]<<16&16711680)+(v[L+1]<<8&65280)+(255&v[L+2]),T.push(function(R){return l[R>>18&63]+l[R>>12&63]+l[R>>6&63]+l[63&R]}(k));return T.join("")}(r,h,b<h+16383?b:h+16383));return u==1?(a=r[i-1],d.push(l[a>>2]+l[a<<4&63]+"==")):u==2&&(a=(r[i-2]<<8)+r[i-1],d.push(l[a>>10]+l[a>>4&63]+l[a<<2&63]+"=")),d.join("")};for(var l=[],f=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=c.length;p<m;++p)l[p]=c[p],f[c.charCodeAt(p)]=p;function n(r){var a=r.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return r=r.indexOf("="),a=(r=r===-1?a:r)===a?0:4-r%4,[r,a]}f[45]=62,f[95]=63},{}],2:[function(t,_,y){},{}],3:[function(t,_,y){},{}],4:[function(t,_,y){(function(n){var f=t("base64-js"),s=t("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,p=(y.Buffer=n,y.SlowBuffer=function(P){return+P!=P&&(P=0),n.alloc(+P)},y.INSPECT_MAX_BYTES=50,2147483647);function m(P){if(p<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');return P=new Uint8Array(P),Object.setPrototypeOf(P,n.prototype),P}function n(P,B,W){if(typeof P!="number")return r(P,B,W);if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(P)}function r(P,B,W){if(typeof P=="string"){var K=P,ne=B;if(n.isEncoding(ne=typeof ne=="string"&&ne!==""?ne:"utf8"))return oe=0|h(K,ne),fe=m(oe),fe=(K=fe.write(K,ne))!==oe?fe.slice(0,K):fe;throw new TypeError("Unknown encoding: "+ne)}if(ArrayBuffer.isView(P))return u(P);if(P!=null){if(ee(P,ArrayBuffer)||P&&ee(P.buffer,ArrayBuffer)){var oe=P,K=B,fe=W;if(K<0||oe.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<K+(fe||0))throw new RangeError('"length" is outside of buffer bounds');return oe=K===void 0&&fe===void 0?new Uint8Array(oe):fe===void 0?new Uint8Array(oe,K):new Uint8Array(oe,K,fe),Object.setPrototypeOf(oe,n.prototype),oe}if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ne=P.valueOf&&P.valueOf(),ne!=null&&ne!==P)return n.from(ne,B,W);var ge=function(de){{var ye,be;if(n.isBuffer(de))return ye=0|d(de.length),(be=m(ye)).length!==0&&de.copy(be,0,0,ye),be}if(de.length!==void 0)return typeof de.length!="number"||Z(de.length)?m(0):u(de);if(de.type==="Buffer"&&Array.isArray(de.data))return u(de.data)}(P);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return n.from(P[Symbol.toPrimitive]("string"),B,W)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function a(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function i(P){return a(P),m(P<0?0:0|d(P))}function u(P){for(var B=P.length<0?0:0|d(P.length),W=m(B),K=0;K<B;K+=1)W[K]=255&P[K];return W}function d(P){if(p<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|P}function h(P,B){if(n.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||ee(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var W=P.length,K=2<arguments.length&&arguments[2]===!0;if(!K&&W===0)return 0;for(var ne=!1;;)switch(B){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return $(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return q(P).length;default:if(ne)return K?-1:$(P).length;B=(""+B).toLowerCase(),ne=!0}}function b(P,B,W){var K,ne=!1;if((B=B===void 0||B<0?0:B)>this.length||(W=W===void 0||W>this.length?this.length:W)<=0||(W>>>=0)<=(B>>>=0))return"";for(P=P||"utf8";;)switch(P){case"hex":var oe=this,Se=B,fe=W,be=oe.length;(!fe||fe<0||be<fe)&&(fe=be);for(var ge="",de=Se=!Se||Se<0?0:Se;de<fe;++de)ge+=se[oe[de]];return ge;case"utf8":case"utf-8":return L(this,B,W);case"ascii":var ye=this,be=B,ae=W,ve="";ae=Math.min(ye.length,ae);for(var _e=be;_e<ae;++_e)ve+=String.fromCharCode(127&ye[_e]);return ve;case"latin1":case"binary":var Me=this,Se=B,Te=W,Re="";Te=Math.min(Me.length,Te);for(var Ye=Se;Ye<Te;++Ye)Re+=String.fromCharCode(Me[Ye]);return Re;case"base64":return Fe=this,K=W,(pt=B)===0&&K===Fe.length?f.fromByteArray(Fe):f.fromByteArray(Fe.slice(pt,K));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Fe=B,pt=W,ot=this.slice(Fe,pt),it="",ut=0;ut<ot.length;ut+=2)it+=String.fromCharCode(ot[ut]+256*ot[ut+1]);return it;default:if(ne)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),ne=!0}}function v(P,B,W){var K=P[B];P[B]=P[W],P[W]=K}function w(P,B,W,K,ne){if(P.length===0)return-1;if(typeof W=="string"?(K=W,W=0):2147483647<W?W=2147483647:W<-2147483648&&(W=-2147483648),(W=(W=Z(W=+W)?ne?0:P.length-1:W)<0?P.length+W:W)>=P.length){if(ne)return-1;W=P.length-1}else if(W<0){if(!ne)return-1;W=0}if(typeof B=="string"&&(B=n.from(B,K)),n.isBuffer(B))return B.length===0?-1:E(P,B,W,K,ne);if(typeof B=="number")return B&=255,typeof Uint8Array.prototype.indexOf=="function"?(ne?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(P,B,W):E(P,[B],W,K,ne);throw new TypeError("val must be string, number or Buffer")}function E(P,B,W,K,ne){var oe=1,fe=P.length,ge=B.length;if(K!==void 0&&((K=String(K).toLowerCase())==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(P.length<2||B.length<2)return-1;fe/=oe=2,ge/=2,W/=2}function de(_e,Me){return oe===1?_e[Me]:_e.readUInt16BE(Me*oe)}if(ne)for(var ye=-1,be=W;be<fe;be++)if(de(P,be)===de(B,ye===-1?0:be-ye)){if(be-(ye=ye===-1?be:ye)+1===ge)return ye*oe}else ye!==-1&&(be-=be-ye),ye=-1;else for(be=W=fe<W+ge?fe-ge:W;0<=be;be--){for(var ae=!0,ve=0;ve<ge;ve++)if(de(P,be+ve)!==de(B,ve)){ae=!1;break}if(ae)return be}return-1}function k(P,B,W,K){return Y(function(ne){for(var oe=[],fe=0;fe<ne.length;++fe)oe.push(255&ne.charCodeAt(fe));return oe}(B),P,W,K)}function T(P,B,W,K){return Y(function(ne,oe){for(var fe,ge,de=[],ye=0;ye<ne.length&&!((oe-=2)<0);++ye)ge=ne.charCodeAt(ye),fe=ge>>8,ge=ge%256,de.push(ge),de.push(fe);return de}(B,P.length-W),P,W,K)}function L(P,B,W){W=Math.min(P.length,W);for(var K=[],ne=B;ne<W;){var oe,fe,ge,de,ye=P[ne],be=null,ae=239<ye?4:223<ye?3:191<ye?2:1;if(ne+ae<=W)switch(ae){case 1:ye<128&&(be=ye);break;case 2:(192&(oe=P[ne+1]))==128&&127<(de=(31&ye)<<6|63&oe)&&(be=de);break;case 3:oe=P[ne+1],fe=P[ne+2],(192&oe)==128&&(192&fe)==128&&2047<(de=(15&ye)<<12|(63&oe)<<6|63&fe)&&(de<55296||57343<de)&&(be=de);break;case 4:oe=P[ne+1],fe=P[ne+2],ge=P[ne+3],(192&oe)==128&&(192&fe)==128&&(192&ge)==128&&65535<(de=(15&ye)<<18|(63&oe)<<12|(63&fe)<<6|63&ge)&&de<1114112&&(be=de)}be===null?(be=65533,ae=1):65535<be&&(be-=65536,K.push(be>>>10&1023|55296),be=56320|1023&be),K.push(be),ne+=ae}var ve=K,_e=ve.length;if(_e<=R)return String.fromCharCode.apply(String,ve);for(var Me="",Se=0;Se<_e;)Me+=String.fromCharCode.apply(String,ve.slice(Se,Se+=R));return Me}y.kMaxLength=p,(n.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(P,B),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=r,Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(P,B,W){return B=B,W=W,a(P=P),!(P<=0)&&B!==void 0?typeof W=="string"?m(P).fill(B,W):m(P).fill(B):m(P)},n.allocUnsafe=i,n.allocUnsafeSlow=i,n.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==n.prototype},n.compare=function(P,B){if(ee(P,Uint8Array)&&(P=n.from(P,P.offset,P.byteLength)),ee(B,Uint8Array)&&(B=n.from(B,B.offset,B.byteLength)),!n.isBuffer(P)||!n.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===B)return 0;for(var W=P.length,K=B.length,ne=0,oe=Math.min(W,K);ne<oe;++ne)if(P[ne]!==B[ne]){W=P[ne],K=B[ne];break}return W<K?-1:K<W?1:0},n.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(P,B){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return n.alloc(0);if(B===void 0)for(ne=B=0;ne<P.length;++ne)B+=P[ne].length;for(var W=n.allocUnsafe(B),K=0,ne=0;ne<P.length;++ne){var oe=P[ne];if(ee(oe,Uint8Array)&&(oe=n.from(oe)),!n.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(W,K),K+=oe.length}return W},n.byteLength=h,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<P;B+=2)v(this,B,B+1);return this},n.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<P;B+=4)v(this,B,B+3),v(this,B+1,B+2);return this},n.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<P;B+=8)v(this,B,B+7),v(this,B+1,B+6),v(this,B+2,B+5),v(this,B+3,B+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?L(this,0,P):b.apply(this,arguments)},n.prototype.equals=function(P){if(n.isBuffer(P))return this===P||n.compare(this,P)===0;throw new TypeError("Argument must be a Buffer")},n.prototype.inspect=function(){var B="",P=y.INSPECT_MAX_BYTES,B=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim();return this.length>P&&(B+=" ... "),"<Buffer "+B+">"},c&&(n.prototype[c]=n.prototype.inspect),n.prototype.compare=function(P,B,W,K,ne){if(ee(P,Uint8Array)&&(P=n.from(P,P.offset,P.byteLength)),!n.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(W===void 0&&(W=P?P.length:0),K===void 0&&(K=0),ne===void 0&&(ne=this.length),(B=B===void 0?0:B)<0||W>P.length||K<0||ne>this.length)throw new RangeError("out of range index");if(ne<=K&&W<=B)return 0;if(ne<=K)return-1;if(W<=B)return 1;if(this===P)return 0;for(var oe=(ne>>>=0)-(K>>>=0),fe=(W>>>=0)-(B>>>=0),ge=Math.min(oe,fe),de=this.slice(K,ne),ye=P.slice(B,W),be=0;be<ge;++be)if(de[be]!==ye[be]){oe=de[be],fe=ye[be];break}return oe<fe?-1:fe<oe?1:0},n.prototype.includes=function(P,B,W){return this.indexOf(P,B,W)!==-1},n.prototype.indexOf=function(P,B,W){return w(this,P,B,W,!0)},n.prototype.lastIndexOf=function(P,B,W){return w(this,P,B,W,!1)},n.prototype.write=function(P,B,W,K){if(B===void 0)K="utf8",W=this.length,B=0;else if(W===void 0&&typeof B=="string")K=B,W=this.length,B=0;else{if(!isFinite(B))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");B>>>=0,isFinite(W)?(W>>>=0,K===void 0&&(K="utf8")):(K=W,W=void 0)}var ne=this.length-B;if((W===void 0||ne<W)&&(W=ne),0<P.length&&(W<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");K=K||"utf8";for(var oe,fe,ge,de=!1;;)switch(K){case"hex":var ye=this,be=P,ae=B,ve=W,_e=(ae=Number(ae)||0,ye.length-ae);(!ve||_e<(ve=Number(ve)))&&(ve=_e),(_e=be.length)/2<ve&&(ve=_e/2);for(var Me=0;Me<ve;++Me){var Se=parseInt(be.substr(2*Me,2),16);if(Z(Se))return Me;ye[ae+Me]=Se}return Me;case"utf8":case"utf-8":return _e=B,ge=W,Y($(P,(fe=this).length-_e),fe,_e,ge);case"ascii":return k(this,P,B,W);case"latin1":case"binary":return k(this,P,B,W);case"base64":return fe=this,ge=B,oe=W,Y(q(P),fe,ge,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,P,B,W);default:if(de)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),de=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function M(P,B,W){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(W<P+B)throw new RangeError("Trying to access beyond buffer length")}function N(P,B,W,K,ne,oe){if(!n.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne<B||B<oe)throw new RangeError('"value" argument is out of bounds');if(W+K>P.length)throw new RangeError("Index out of range")}function D(P,B,W,K){if(W+K>P.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function G(P,B,W,K,ne){return B=+B,W>>>=0,ne||D(P,0,W,4),s.write(P,B,W,K,23,4),W+4}function V(P,B,W,K,ne){return B=+B,W>>>=0,ne||D(P,0,W,8),s.write(P,B,W,K,52,8),W+8}n.prototype.slice=function(P,B){var W=this.length,W=((P=~~P)<0?(P+=W)<0&&(P=0):W<P&&(P=W),(B=B===void 0?W:~~B)<0?(B+=W)<0&&(B=0):W<B&&(B=W),B<P&&(B=P),this.subarray(P,B));return Object.setPrototypeOf(W,n.prototype),W},n.prototype.readUIntLE=function(P,B,W){P>>>=0,B>>>=0,W||M(P,B,this.length);for(var K=this[P],ne=1,oe=0;++oe<B&&(ne*=256);)K+=this[P+oe]*ne;return K},n.prototype.readUIntBE=function(P,B,W){P>>>=0,B>>>=0,W||M(P,B,this.length);for(var K=this[P+--B],ne=1;0<B&&(ne*=256);)K+=this[P+--B]*ne;return K},n.prototype.readUInt8=function(P,B){return P>>>=0,B||M(P,1,this.length),this[P]},n.prototype.readUInt16LE=function(P,B){return P>>>=0,B||M(P,2,this.length),this[P]|this[P+1]<<8},n.prototype.readUInt16BE=function(P,B){return P>>>=0,B||M(P,2,this.length),this[P]<<8|this[P+1]},n.prototype.readUInt32LE=function(P,B){return P>>>=0,B||M(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},n.prototype.readUInt32BE=function(P,B){return P>>>=0,B||M(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},n.prototype.readIntLE=function(P,B,W){P>>>=0,B>>>=0,W||M(P,B,this.length);for(var K=this[P],ne=1,oe=0;++oe<B&&(ne*=256);)K+=this[P+oe]*ne;return(ne*=128)<=K&&(K-=Math.pow(2,8*B)),K},n.prototype.readIntBE=function(P,B,W){P>>>=0,B>>>=0,W||M(P,B,this.length);for(var K=B,ne=1,oe=this[P+--K];0<K&&(ne*=256);)oe+=this[P+--K]*ne;return(ne*=128)<=oe&&(oe-=Math.pow(2,8*B)),oe},n.prototype.readInt8=function(P,B){return P>>>=0,B||M(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},n.prototype.readInt16LE=function(P,B){return P>>>=0,B||M(P,2,this.length),B=this[P]|this[P+1]<<8,32768&B?4294901760|B:B},n.prototype.readInt16BE=function(P,B){return P>>>=0,B||M(P,2,this.length),B=this[P+1]|this[P]<<8,32768&B?4294901760|B:B},n.prototype.readInt32LE=function(P,B){return P>>>=0,B||M(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},n.prototype.readInt32BE=function(P,B){return P>>>=0,B||M(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},n.prototype.readFloatLE=function(P,B){return P>>>=0,B||M(P,4,this.length),s.read(this,P,!0,23,4)},n.prototype.readFloatBE=function(P,B){return P>>>=0,B||M(P,4,this.length),s.read(this,P,!1,23,4)},n.prototype.readDoubleLE=function(P,B){return P>>>=0,B||M(P,8,this.length),s.read(this,P,!0,52,8)},n.prototype.readDoubleBE=function(P,B){return P>>>=0,B||M(P,8,this.length),s.read(this,P,!1,52,8)},n.prototype.writeUIntLE=function(P,B,W,K){P=+P,B>>>=0,W>>>=0,K||N(this,P,B,W,Math.pow(2,8*W)-1,0);var ne=1,oe=0;for(this[B]=255&P;++oe<W&&(ne*=256);)this[B+oe]=P/ne&255;return B+W},n.prototype.writeUIntBE=function(P,B,W,K){P=+P,B>>>=0,W>>>=0,K||N(this,P,B,W,Math.pow(2,8*W)-1,0);var ne=W-1,oe=1;for(this[B+ne]=255&P;0<=--ne&&(oe*=256);)this[B+ne]=P/oe&255;return B+W},n.prototype.writeUInt8=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,1,255,0),this[B]=255&P,B+1},n.prototype.writeUInt16LE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,2,65535,0),this[B]=255&P,this[B+1]=P>>>8,B+2},n.prototype.writeUInt16BE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,2,65535,0),this[B]=P>>>8,this[B+1]=255&P,B+2},n.prototype.writeUInt32LE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,4,4294967295,0),this[B+3]=P>>>24,this[B+2]=P>>>16,this[B+1]=P>>>8,this[B]=255&P,B+4},n.prototype.writeUInt32BE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,4,4294967295,0),this[B]=P>>>24,this[B+1]=P>>>16,this[B+2]=P>>>8,this[B+3]=255&P,B+4},n.prototype.writeIntLE=function(P,B,W,K){P=+P,B>>>=0,K||N(this,P,B,W,(K=Math.pow(2,8*W-1))-1,-K);var ne=0,oe=1,fe=0;for(this[B]=255&P;++ne<W&&(oe*=256);)P<0&&fe===0&&this[B+ne-1]!==0&&(fe=1),this[B+ne]=(P/oe>>0)-fe&255;return B+W},n.prototype.writeIntBE=function(P,B,W,K){P=+P,B>>>=0,K||N(this,P,B,W,(K=Math.pow(2,8*W-1))-1,-K);var ne=W-1,oe=1,fe=0;for(this[B+ne]=255&P;0<=--ne&&(oe*=256);)P<0&&fe===0&&this[B+ne+1]!==0&&(fe=1),this[B+ne]=(P/oe>>0)-fe&255;return B+W},n.prototype.writeInt8=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,1,127,-128),this[B]=255&(P=P<0?255+P+1:P),B+1},n.prototype.writeInt16LE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,2,32767,-32768),this[B]=255&P,this[B+1]=P>>>8,B+2},n.prototype.writeInt16BE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,2,32767,-32768),this[B]=P>>>8,this[B+1]=255&P,B+2},n.prototype.writeInt32LE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,4,2147483647,-2147483648),this[B]=255&P,this[B+1]=P>>>8,this[B+2]=P>>>16,this[B+3]=P>>>24,B+4},n.prototype.writeInt32BE=function(P,B,W){return P=+P,B>>>=0,W||N(this,P,B,4,2147483647,-2147483648),this[B]=(P=P<0?4294967295+P+1:P)>>>24,this[B+1]=P>>>16,this[B+2]=P>>>8,this[B+3]=255&P,B+4},n.prototype.writeFloatLE=function(P,B,W){return G(this,P,B,!0,W)},n.prototype.writeFloatBE=function(P,B,W){return G(this,P,B,!1,W)},n.prototype.writeDoubleLE=function(P,B,W){return V(this,P,B,!0,W)},n.prototype.writeDoubleBE=function(P,B,W){return V(this,P,B,!1,W)},n.prototype.copy=function(P,B,W,K){if(!n.isBuffer(P))throw new TypeError("argument should be a Buffer");if(W=W||0,K||K===0||(K=this.length),B>=P.length&&(B=P.length),(K=0<K&&K<W?W:K)===W||P.length===0||this.length===0)return 0;if((B=B||0)<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length);var ne=(K=P.length-B<K-W?P.length-B+W:K)-W;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(B,W,K);else if(this===P&&W<B&&B<K)for(var oe=ne-1;0<=oe;--oe)P[oe+B]=this[oe+W];else Uint8Array.prototype.set.call(P,this.subarray(W,K),B);return ne},n.prototype.fill=function(P,B,W,K){if(typeof P=="string"){if(typeof B=="string"?(K=B,B=0,W=this.length):typeof W=="string"&&(K=W,W=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!n.isEncoding(K))throw new TypeError("Unknown encoding: "+K);var ne;P.length===1&&(ne=P.charCodeAt(0),(K==="utf8"&&ne<128||K==="latin1")&&(P=ne))}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(B<0||this.length<B||this.length<W)throw new RangeError("Out of range index");var oe;if(!(W<=B))if(B>>>=0,W=W===void 0?this.length:W>>>0,typeof(P=P||0)=="number")for(oe=B;oe<W;++oe)this[oe]=P;else{var fe=n.isBuffer(P)?P:n.from(P,K),ge=fe.length;if(ge===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(oe=0;oe<W-B;++oe)this[oe+B]=fe[oe%ge]}return this};var z=/[^+/0-9A-Za-z-_]/g;function $(P,B){B=B||1/0;for(var W,K=P.length,ne=null,oe=[],fe=0;fe<K;++fe){if(55295<(W=P.charCodeAt(fe))&&W<57344){if(!ne){if(56319<W){-1<(B-=3)&&oe.push(239,191,189);continue}if(fe+1===K){-1<(B-=3)&&oe.push(239,191,189);continue}ne=W;continue}if(W<56320){-1<(B-=3)&&oe.push(239,191,189),ne=W;continue}W=65536+(ne-55296<<10|W-56320)}else ne&&-1<(B-=3)&&oe.push(239,191,189);if(ne=null,W<128){if(--B<0)break;oe.push(W)}else if(W<2048){if((B-=2)<0)break;oe.push(W>>6|192,63&W|128)}else if(W<65536){if((B-=3)<0)break;oe.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;oe.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return oe}function q(P){return f.toByteArray(function(B){if((B=(B=B.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(P))}function Y(P,B,W,K){for(var ne=0;ne<K&&!(ne+W>=B.length||ne>=P.length);++ne)B[ne+W]=P[ne];return ne}function ee(P,B){return P instanceof B||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===B.name}function Z(P){return P!=P}var se=function(){for(var P="0123456789abcdef",B=new Array(256),W=0;W<16;++W)for(var K=16*W,ne=0;ne<16;++ne)B[K+ne]=P[W]+P[ne];return B}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,_,y){_.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},{}],6:[function(t,_,y){var l=t("../internals/is-object");_.exports=function(f){if(l(f)||f===null)return f;throw TypeError("Can't set "+String(f)+" as a prototype")}},{"../internals/is-object":75}],7:[function(s,_,y){var l=s("../internals/well-known-symbol"),f=s("../internals/object-create"),s=s("../internals/object-define-property"),c=l("unscopables"),p=Array.prototype;p[c]==null&&s.f(p,c,{configurable:!0,value:f(null)}),_.exports=function(m){p[c][m]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,_,y){var l=t("../internals/string-multibyte").charAt;_.exports=function(f,s,c){return s+(c?l(f,s).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,_,y){_.exports=function(l,f,s){if(l instanceof f)return l;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,_,y){var l=t("../internals/is-object");_.exports=function(f){if(l(f))return f;throw TypeError(String(f)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,_,y){_.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(D,_,y){function l(V){return m(V)&&n(G,r(V))}var f,s=D("../internals/array-buffer-native"),c=D("../internals/descriptors"),p=D("../internals/global"),m=D("../internals/is-object"),n=D("../internals/has"),r=D("../internals/classof"),a=D("../internals/create-non-enumerable-property"),i=D("../internals/redefine"),u=D("../internals/object-define-property").f,d=D("../internals/object-get-prototype-of"),h=D("../internals/object-set-prototype-of"),R=D("../internals/well-known-symbol"),D=D("../internals/uid"),b=p.Int8Array,v=b&&b.prototype,w=p.Uint8ClampedArray,w=w&&w.prototype,E=b&&d(b),k=v&&d(v),T=Object.prototype,L=T.isPrototypeOf,R=R("toStringTag"),M=D("TYPED_ARRAY_TAG"),N=s&&!!h&&r(p.opera)!=="Opera",D=!1,G={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(f in G)p[f]||(N=!1);if((!N||typeof E!="function"||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},N))for(f in G)p[f]&&h(p[f],E);if((!N||!k||k===T)&&(k=E.prototype,N))for(f in G)p[f]&&h(p[f].prototype,k);if(N&&d(w)!==k&&h(w,k),c&&!n(k,R))for(f in D=!0,u(k,R,{get:function(){return m(this)?this[M]:void 0}}),G)p[f]&&a(p[f],M,f);_.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:D&&M,aTypedArray:function(V){if(l(V))return V;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(V){if(h){if(L.call(E,V))return V}else for(var z in G)if(n(G,f)&&(z=p[z],z&&(V===z||L.call(z,V))))return V;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(V,z,$){if(c){if($)for(var q in G)q=p[q],q&&n(q.prototype,V)&&delete q.prototype[V];k[V]&&!$||i(k,V,!$&&N&&v[V]||z)}},exportTypedArrayStaticMethod:function(V,z,$){var q,Y;if(c){if(h){if($)for(q in G)(Y=p[q])&&n(Y,V)&&delete Y[V];if(E[V]&&!$)return;try{return i(E,V,!$&&N&&b[V]||z)}catch{}}for(q in G)!(Y=p[q])||Y[V]&&!$||i(Y,V,z)}},isView:function(V){return V=r(V),V==="DataView"||n(G,V)},isTypedArray:l,TypedArray:E,TypedArrayPrototype:k}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(W,_,y){function l(ae){return[255&ae]}function f(ae){return[255&ae,ae>>8&255]}function s(ae){return[255&ae,ae>>8&255,ae>>16&255,ae>>24&255]}function c(ae){return ae[3]<<24|ae[2]<<16|ae[1]<<8|ae[0]}function p(ae){return oe(ae,23,4)}function m(ae){return oe(ae,52,8)}function n(ae,ve){D(ae[ee],ve,{get:function(){return z(this)[ve]}})}function r(Re,ve,Te,Me){if(Te=T(Te),Re=z(Re),Te+ve>Re.byteLength)throw ne(Z);var Se=z(Re.buffer).bytes,Te=Te+Re.byteOffset,Re=Se.slice(Te,Te+ve);return Me?Re:Re.reverse()}function a(ae,ve,_e,Me,Se,Te){if(_e=T(_e),ae=z(ae),_e+ve>ae.byteLength)throw ne(Z);for(var Re=z(ae.buffer).bytes,Ye=_e+ae.byteOffset,Fe=Me(+Se),pt=0;pt<ve;pt++)Re[Ye+pt]=Fe[Te?pt:ve-pt-1]}var i=W("../internals/global"),u=W("../internals/descriptors"),d=W("../internals/array-buffer-native"),h=W("../internals/create-non-enumerable-property"),b=W("../internals/redefine-all"),v=W("../internals/fails"),w=W("../internals/an-instance"),E=W("../internals/to-integer"),k=W("../internals/to-length"),T=W("../internals/to-index"),L=W("../internals/ieee754"),R=W("../internals/object-get-prototype-of"),M=W("../internals/object-set-prototype-of"),N=W("../internals/object-get-own-property-names").f,D=W("../internals/object-define-property").f,G=W("../internals/array-fill"),V=W("../internals/set-to-string-tag"),W=W("../internals/internal-state"),z=W.get,$=W.set,q="ArrayBuffer",Y="DataView",ee="prototype",Z="Wrong index",se=i[q],P=se,B=i[Y],W=B&&B[ee],K=Object.prototype,ne=i.RangeError,oe=L.pack,fe=L.unpack;if(d){if(!v(function(){se(1)})||!v(function(){new se(-1)})||v(function(){return new se,new se(1.5),new se(NaN),se.name!=q})){for(var ge,i=(P=function(_e){return w(this,P),new se(T(_e))})[ee]=se[ee],de=N(se),ye=0;de.length>ye;)(ge=de[ye++])in P||h(P,ge,se[ge]);i.constructor=P}M&&R(W)!==K&&M(W,K);var L=new B(new P(2)),be=W.setInt8;L.setInt8(0,2147483648),L.setInt8(1,2147483649),!L.getInt8(0)&&L.getInt8(1)||b(W,{setInt8:function(ve,_e){be.call(this,ve,_e<<24>>24)},setUint8:function(ve,_e){be.call(this,ve,_e<<24>>24)}},{unsafe:!0})}else P=function(ae){w(this,P,q),ae=T(ae),$(this,{bytes:G.call(new Array(ae),0),byteLength:ae}),u||(this.byteLength=ae)},B=function(ae,Se,_e){w(this,B,Y),w(ae,P,Y);var Me=z(ae).byteLength,Se=E(Se);if(Se<0||Me<Se)throw ne("Wrong offset");if(Me<Se+(_e=_e===void 0?Me-Se:k(_e)))throw ne("Wrong length");$(this,{buffer:ae,byteLength:_e,byteOffset:Se}),u||(this.buffer=ae,this.byteLength=_e,this.byteOffset=Se)},u&&(n(P,"byteLength"),n(B,"buffer"),n(B,"byteLength"),n(B,"byteOffset")),b(B[ee],{getInt8:function(ae){return r(this,1,ae)[0]<<24>>24},getUint8:function(ae){return r(this,1,ae)[0]},getInt16:function(ae){return ae=r(this,2,ae,1<arguments.length?arguments[1]:void 0),(ae[1]<<8|ae[0])<<16>>16},getUint16:function(ae){return ae=r(this,2,ae,1<arguments.length?arguments[1]:void 0),ae[1]<<8|ae[0]},getInt32:function(ae){return c(r(this,4,ae,1<arguments.length?arguments[1]:void 0))},getUint32:function(ae){return c(r(this,4,ae,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ae){return fe(r(this,4,ae,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ae){return fe(r(this,8,ae,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ae,ve){a(this,1,ae,l,ve)},setUint8:function(ae,ve){a(this,1,ae,l,ve)},setInt16:function(ae,ve){a(this,2,ae,f,ve,2<arguments.length?arguments[2]:void 0)},setUint16:function(ae,ve){a(this,2,ae,f,ve,2<arguments.length?arguments[2]:void 0)},setInt32:function(ae,ve){a(this,4,ae,s,ve,2<arguments.length?arguments[2]:void 0)},setUint32:function(ae,ve){a(this,4,ae,s,ve,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ae,ve){a(this,4,ae,p,ve,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ae,ve){a(this,8,ae,m,ve,2<arguments.length?arguments[2]:void 0)}});V(P,q),V(B,Y),_.exports={ArrayBuffer:P,DataView:B}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,_,y){var l=t("../internals/to-object"),f=t("../internals/to-absolute-index"),s=t("../internals/to-length"),c=Math.min;_.exports=[].copyWithin||function(u,m){var n=l(this),r=s(n.length),a=f(u,r),i=f(m,r),u=2<arguments.length?arguments[2]:void 0,d=c((u===void 0?r:f(u,r))-i,r-a),h=1;for(i<a&&a<i+d&&(h=-1,i+=d-1,a+=d-1);0<d--;)i in n?n[a]=n[i]:delete n[a],a+=h,i+=h;return n}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,_,y){var l=t("../internals/to-object"),f=t("../internals/to-absolute-index"),s=t("../internals/to-length");_.exports=function(c){for(var p=l(this),m=s(p.length),r=arguments.length,n=f(1<r?arguments[1]:void 0,m),r=2<r?arguments[2]:void 0,a=r===void 0?m:f(r,m);n<a;)p[n++]=c;return p}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(s,_,y){var l=s("../internals/array-iteration").forEach,f=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),f=f("forEach"),s=s("forEach");_.exports=f&&s?[].forEach:function(c){return l(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,_,y){var l=t("../internals/function-bind-context"),f=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),c=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),m=t("../internals/create-property"),n=t("../internals/get-iterator-method");_.exports=function(w){var a,i,u,d,h,b,v=f(w),w=typeof this=="function"?this:Array,E=arguments.length,k=1<E?arguments[1]:void 0,T=k!==void 0,L=n(v),R=0;if(T&&(k=l(k,2<E?arguments[2]:void 0,2)),L==null||w==Array&&c(L))for(i=new w(a=p(v.length));R<a;R++)b=T?k(v[R],R):v[R],m(i,R,b);else for(h=(d=L.call(v)).next,i=new w;!(u=h.call(d)).done;R++)b=T?s(d,k,[u.value,R],!0):u.value,m(i,R,b);return i.length=R,i}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,_,y){function l(p){return function(m,n,r){var a,i=f(m),u=s(i.length),d=c(r,u);if(p&&n!=n){for(;d<u;)if((a=i[d++])!=a)return!0}else for(;d<u;d++)if((p||d in i)&&i[d]===n)return p||d||0;return!p&&-1}}var f=t("../internals/to-indexed-object"),s=t("../internals/to-length"),c=t("../internals/to-absolute-index");_.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,_,y){function l(r){var a=r==1,i=r==2,u=r==3,d=r==4,h=r==6,b=r==5||h;return function(v,w,E,k){for(var T,L,R=c(v),M=s(R),N=f(w,E,3),D=p(M.length),G=0,w=k||m,V=a?w(v,D):i?w(v,0):void 0;G<D;G++)if((b||G in M)&&(L=N(T=M[G],G,R),r)){if(a)V[G]=L;else if(L)switch(r){case 3:return!0;case 5:return T;case 6:return G;case 2:n.call(V,T)}else if(d)return!1}return h?-1:u||d?d:V}}var f=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),c=t("../internals/to-object"),p=t("../internals/to-length"),m=t("../internals/array-species-create"),n=[].push;_.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(r,_,y){var l=r("../internals/to-indexed-object"),f=r("../internals/to-integer"),s=r("../internals/to-length"),n=r("../internals/array-method-is-strict"),r=r("../internals/array-method-uses-to-length"),c=Math.min,p=[].lastIndexOf,m=!!p&&1/[1].lastIndexOf(1,-0)<0,n=n("lastIndexOf"),r=r("indexOf",{ACCESSORS:!0,1:0});_.exports=m||!n||!r?function(a){if(m)return p.apply(this,arguments)||0;var i=l(this),u=s(i.length),d=u-1;for((d=1<arguments.length?c(d,f(arguments[1])):d)<0&&(d=u+d);0<=d;d--)if(d in i&&i[d]===a)return d||0;return-1}:p},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,_,y){var l=t("../internals/fails"),f=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),c=f("species");_.exports=function(p){return 51<=s||!l(function(){var m=[];return(m.constructor={})[c]=function(){return{foo:1}},m[p](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,_,y){var l=t("../internals/fails");_.exports=function(f,s){var c=[][f];return!!c&&l(function(){c.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,_,y){function l(n){throw n}var f=t("../internals/descriptors"),s=t("../internals/fails"),c=t("../internals/has"),p=Object.defineProperty,m={};_.exports=function(n,r){var a,i,u,d;return c(m,n)?m[n]:(a=[][n],i=!!c(r=r||{},"ACCESSORS")&&r.ACCESSORS,u=c(r,0)?r[0]:l,d=c(r,1)?r[1]:void 0,m[n]=!!a&&!s(function(){if(i&&!f)return!0;var h={length:-1};i?p(h,1,{enumerable:!0,get:l}):h[1]=1,a.call(h,u,d)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,_,y){function l(m){return function(n,r,a,i){f(r);var u=s(n),d=c(u),h=p(u.length),b=m?h-1:0,v=m?-1:1;if(a<2)for(;;){if(b in d){i=d[b],b+=v;break}if(b+=v,m?b<0:h<=b)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=b:b<h;b+=v)b in d&&(i=r(i,d[b],b,u));return i}}var f=t("../internals/a-function"),s=t("../internals/to-object"),c=t("../internals/indexed-object"),p=t("../internals/to-length");_.exports={left:l(!1),right:l(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,_,y){var l=t("../internals/is-object"),f=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");_.exports=function(c,p){var m;return new((m=f(c)&&(typeof(m=c.constructor)=="function"&&(m===Array||f(m.prototype))||l(m)&&(m=m[s])===null)?void 0:m)===void 0?Array:m)(p===0?0:p)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,_,y){var l=t("../internals/an-object");_.exports=function(f,s,c,p){try{return p?s(l(c)[0],c[1]):s(c)}catch(m){throw p=f.return,p!==void 0&&l(p.call(f)),m}}},{"../internals/an-object":10}],27:[function(t,_,y){var l=t("../internals/well-known-symbol")("iterator"),f=!1;try{var s=0,c={next:function(){return{done:!!s++}},return:function(){f=!0}};c[l]=function(){return this},Array.from(c,function(){throw 2})}catch{}_.exports=function(p,m){if(!m&&!f)return!1;var n=!1;try{var r={};r[l]=function(){return{next:function(){return{done:n=!0}}}},p(r)}catch{}return n}},{"../internals/well-known-symbol":150}],28:[function(t,_,y){var l={}.toString;_.exports=function(f){return l.call(f).slice(8,-1)}},{}],29:[function(t,_,y){var l=t("../internals/to-string-tag-support"),f=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),c=f(function(){return arguments}())=="Arguments";_.exports=l?f:function(p){var m;return p===void 0?"Undefined":p===null?"Null":typeof(m=function(n,r){try{return n[r]}catch{}}(p=Object(p),s))=="string"?m:c?f(p):(m=f(p))=="Object"&&typeof p.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(u,_,y){var l=u("../internals/object-define-property").f,f=u("../internals/object-create"),s=u("../internals/redefine-all"),c=u("../internals/function-bind-context"),p=u("../internals/an-instance"),m=u("../internals/iterate"),n=u("../internals/define-iterator"),r=u("../internals/set-species"),a=u("../internals/descriptors"),i=u("../internals/internal-metadata").fastKey,u=u("../internals/internal-state"),d=u.set,h=u.getterFor;_.exports={getConstructor:function(b,v,w,E){function k(M,N,D){var G,V=R(M),z=T(M,N);return z?z.value=D:(V.last=z={index:G=i(N,!0),key:N,value:D,previous:N=V.last,next:void 0,removed:!1},V.first||(V.first=z),N&&(N.next=z),a?V.size++:M.size++,G!=="F"&&(V.index[G]=z)),M}function T(G,N){var D,G=R(G),V=i(N);if(V!=="F")return G.index[V];for(D=G.first;D;D=D.next)if(D.key==N)return D}var L=b(function(M,N){p(M,L,v),d(M,{type:v,index:f(null),first:void 0,last:void 0,size:0}),a||(M.size=0),N!=null&&m(N,M[E],M,w)}),R=h(v);return s(L.prototype,{clear:function(){for(var M=R(this),N=M.index,D=M.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete N[D.index],D=D.next;M.first=M.last=void 0,a?M.size=0:this.size=0},delete:function(V){var N,D,G=R(this),V=T(this,V);return V&&(N=V.next,D=V.previous,delete G.index[V.index],V.removed=!0,D&&(D.next=N),N&&(N.previous=D),G.first==V&&(G.first=N),G.last==V&&(G.last=D),a?G.size--:this.size--),!!V},forEach:function(M){for(var N,D=R(this),G=c(M,1<arguments.length?arguments[1]:void 0,3);N=N?N.next:D.first;)for(G(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(M){return!!T(this,M)}}),s(L.prototype,w?{get:function(M){return M=T(this,M),M&&M.value},set:function(M,N){return k(this,M===0?0:M,N)}}:{add:function(M){return k(this,M=M===0?0:M,M)}}),a&&l(L.prototype,"size",{get:function(){return R(this).size}}),L},setStrong:function(b,v,w){var E=v+" Iterator",k=h(v),T=h(E);n(b,v,function(L,R){d(this,{type:E,target:L,state:k(L),kind:R,last:void 0})},function(){for(var L=T(this),R=L.kind,M=L.last;M&&M.removed;)M=M.previous;return L.target&&(L.last=M=M?M.next:L.state.first)?R=="keys"?{value:M.key,done:!1}:R=="values"?{value:M.value,done:!1}:{value:[M.key,M.value],done:!1}:{value:L.target=void 0,done:!0}},w?"entries":"values",!w,!0),r(v)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(d,_,y){function l(k){return k.frozen||(k.frozen=new f)}function f(){this.entries=[]}function s(k,T){return v(k.entries,function(L){return L[0]===T})}var c=d("../internals/redefine-all"),p=d("../internals/internal-metadata").getWeakData,m=d("../internals/an-object"),n=d("../internals/is-object"),r=d("../internals/an-instance"),a=d("../internals/iterate"),i=d("../internals/array-iteration"),u=d("../internals/has"),d=d("../internals/internal-state"),h=d.set,b=d.getterFor,v=i.find,w=i.findIndex,E=0;f.prototype={get:function(k){if(k=s(this,k),k)return k[1]},has:function(k){return!!s(this,k)},set:function(k,T){var L=s(this,k);L?L[1]=T:this.entries.push([k,T])},delete:function(k){var T=w(this.entries,function(L){return L[0]===k});return~T&&this.entries.splice(T,1),!!~T}},_.exports={getConstructor:function(k,T,L,R){function M(G,V,z){var $=D(G),q=p(m(V),!0);return q===!0?l($).set(V,z):q[$.id]=z,G}var N=k(function(G,V){r(G,N,T),h(G,{type:T,id:E++,frozen:void 0}),V!=null&&a(V,G[R],G,L)}),D=b(T);return c(N.prototype,{delete:function(G){var V,z=D(this);return!!n(G)&&((V=p(G))===!0?l(z).delete(G):V&&u(V,z.id)&&delete V[z.id])},has:function(G){var V,z=D(this);return!!n(G)&&((V=p(G))===!0?l(z).has(G):V&&u(V,z.id))}}),c(N.prototype,L?{get:function(G){var V,z=D(this);if(n(G))return(V=p(G))===!0?l(z).get(G):V?V[z.id]:void 0},set:function(G,V){return M(this,G,V)}}:{add:function(G){return M(this,G,!0)}}),N}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/global"),s=t("../internals/is-forced"),c=t("../internals/redefine"),p=t("../internals/internal-metadata"),m=t("../internals/iterate"),n=t("../internals/an-instance"),r=t("../internals/is-object"),a=t("../internals/fails"),i=t("../internals/check-correctness-of-iteration"),u=t("../internals/set-to-string-tag"),d=t("../internals/inherit-if-required");_.exports=function(h,b,v){function w(q){var Y=V[q];c(V,q,q=="add"?function(ee){return Y.call(this,ee===0?0:ee),this}:q=="delete"?function(ee){return!(N&&!r(ee))&&Y.call(this,ee===0?0:ee)}:q=="get"?function(ee){return N&&!r(ee)?void 0:Y.call(this,ee===0?0:ee)}:q=="has"?function(ee){return!(N&&!r(ee))&&Y.call(this,ee===0?0:ee)}:function(ee,Z){return Y.call(this,ee===0?0:ee,Z),this})}var E,k,T,L,R,M=h.indexOf("Map")!==-1,N=h.indexOf("Weak")!==-1,D=M?"set":"add",G=f[h],V=G&&G.prototype,z=G,$={};return s(h,typeof G!="function"||!(N||V.forEach&&!a(function(){new G().entries().next()})))?(z=v.getConstructor(b,h,M,D),p.REQUIRED=!0):s(h,!0)&&(k=(E=new z)[D](N?{}:-0,1)!=E,T=a(function(){E.has(1)}),L=i(function(q){new G(q)}),R=!N&&a(function(){for(var q=new G,Y=5;Y--;)q[D](Y,Y);return!q.has(-0)}),L||(((z=b(function(q,Y){return n(q,z,h),q=d(new G,q,z),Y!=null&&m(Y,q[D],q,M),q})).prototype=V).constructor=z),(T||R)&&(w("delete"),w("has"),M&&w("get")),(R||k)&&w(D),N&&V.clear&&delete V.clear),$[h]=z,l({global:!0,forced:z!=G},$),u(z,h),N||v.setStrong(z,h,M),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,_,y){var l=t("../internals/has"),f=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");_.exports=function(p,m){for(var n=f(m),r=c.f,a=s.f,i=0;i<n.length;i++){var u=n[i];l(p,u)||r(p,u,a(m,u))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,_,y){var l=t("../internals/well-known-symbol")("match");_.exports=function(f){var s=/./;try{"/./"[f](s)}catch{try{return s[l]=!1,"/./"[f](s)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,_,y){t=t("../internals/fails"),_.exports=!t(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},{"../internals/fails":51}],36:[function(t,_,y){var l=t("../internals/require-object-coercible"),f=/"/g;_.exports=function(n,c,p,m){var n=String(l(n)),r="<"+c;return p!==""&&(r+=" "+p+'="'+String(m).replace(f,"&quot;")+'"'),r+">"+n+"</"+c+">"}},{"../internals/require-object-coercible":115}],37:[function(t,_,y){function l(){return this}var f=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),c=t("../internals/create-property-descriptor"),p=t("../internals/set-to-string-tag"),m=t("../internals/iterators");_.exports=function(n,r,a){return r+=" Iterator",n.prototype=s(f,{next:c(1,a)}),p(n,r,!1,!0),m[r]=l,n}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");_.exports=l?function(c,p,m){return f.f(c,p,s(1,m))}:function(c,p,m){return c[p]=m,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,_,y){_.exports=function(l,f){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:f}}},{}],40:[function(t,_,y){var l=t("../internals/to-primitive"),f=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");_.exports=function(c,p,m){p=l(p),p in c?f.f(c,p,s(0,m)):c[p]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(d,_,y){function l(){return this}var f=d("../internals/export"),s=d("../internals/create-iterator-constructor"),c=d("../internals/object-get-prototype-of"),p=d("../internals/object-set-prototype-of"),m=d("../internals/set-to-string-tag"),n=d("../internals/create-non-enumerable-property"),r=d("../internals/redefine"),a=d("../internals/well-known-symbol"),i=d("../internals/is-pure"),u=d("../internals/iterators"),d=d("../internals/iterators-core"),h=d.IteratorPrototype,b=d.BUGGY_SAFARI_ITERATORS,v=a("iterator"),w="values",E="entries";_.exports=function(k,T,L,$,M,N,D){s(L,T,$);function G(P){if(P===M&&Z)return Z;if(!b&&P in Y)return Y[P];switch(P){case"keys":case w:case E:return function(){return new L(this,P)}}return function(){return new L(this)}}var V,z,$=T+" Iterator",q=!1,Y=k.prototype,ee=Y[v]||Y["@@iterator"]||M&&Y[M],Z=!b&&ee||G(M),se=T=="Array"&&Y.entries||ee;if(se&&(se=c(se.call(new k)),h!==Object.prototype&&se.next&&(i||c(se)===h||(p?p(se,h):typeof se[v]!="function"&&n(se,v,l)),m(se,$,!0,!0),i&&(u[$]=l))),M==w&&ee&&ee.name!==w&&(q=!0,Z=function(){return ee.call(this)}),i&&!D||Y[v]===Z||n(Y,v,Z),u[T]=Z,M)if(V={values:G(w),keys:N?Z:G("keys"),entries:G(E)},D)for(z in V)!b&&!q&&z in Y||r(Y,z,V[z]);else f({target:T,proto:!0,forced:b||q},V);return V}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,_,y){var l=t("../internals/path"),f=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;_.exports=function(p){var m=l.Symbol||(l.Symbol={});f(m,p)||c(m,p,{value:s.f(p)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,_,y){t=t("../internals/fails"),_.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(f,_,y){var l=f("../internals/global"),f=f("../internals/is-object"),s=l.document,c=f(s)&&f(s.createElement);_.exports=function(p){return c?s.createElement(p):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,_,y){_.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,_,y){t=t("../internals/engine-user-agent"),_.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,_,y){t=t("../internals/get-built-in"),_.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(s,_,y){var l,f,c=s("../internals/global"),s=s("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?f=(l=c.split("."))[0]+l[1]:s&&(!(l=s.match(/Edge\/(\d+)/))||74<=l[1])&&(l=s.match(/Chrome\/(\d+)/))&&(f=l[1]),_.exports=f&&+f},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,_,y){_.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,_,y){var l=t("../internals/global"),f=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),c=t("../internals/redefine"),p=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),n=t("../internals/is-forced");_.exports=function(r,a){var i,u,d,h=r.target,b=r.global,v=r.stat,w=b?l:v?l[h]||p(h,{}):(l[h]||{}).prototype;if(w)for(i in a){if(u=a[i],d=r.noTargetGet?(d=f(w,i))&&d.value:w[i],!n(b?i:h+(v?".":"#")+i,r.forced)&&d!==void 0){if(typeof u==typeof d)continue;m(u,d)}(r.sham||d&&d.sham)&&s(u,"sham",!0),c(w,i,u,r)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,_,y){_.exports=function(l){try{return!!l()}catch{return!0}}},{}],52:[function(a,_,y){a("../modules/es.regexp.exec");var l=a("../internals/redefine"),f=a("../internals/fails"),s=a("../internals/well-known-symbol"),c=a("../internals/regexp-exec"),p=a("../internals/create-non-enumerable-property"),m=s("species"),n=!f(function(){var d=/./;return d.exec=function(){var h=[];return h.groups={a:"7"},h},"".replace(d,"$<a>")!=="7"}),r="a".replace(/./,"$0")==="$0",a=s("replace"),i=!!/./[a]&&/./[a]("a","$0")==="",u=!f(function(){var h=/(?:)/,d=h.exec,h=(h.exec=function(){return d.apply(this,arguments)},"ab".split(h));return h.length!==2||h[0]!=="a"||h[1]!=="b"});_.exports=function(d,h,b,v){var w,E,k=s(d),T=!f(function(){var R={};return R[k]=function(){return 7},""[d](R)!=7}),L=T&&!f(function(){var R=!1,M=/a/;return d==="split"&&((M={constructor:{}}).constructor[m]=function(){return M},M.flags="",M[k]=/./[k]),M.exec=function(){return R=!0,null},M[k](""),!R});T&&L&&(d!=="replace"||n&&r&&!i)&&(d!=="split"||u)||(w=/./[k],b=(L=b(k,""[d],function(R,M,N,D,G){return M.exec===c?T&&!G?{done:!0,value:w.call(M,N,D)}:{done:!0,value:R.call(N,M,D)}:{done:!1}},{REPLACE_KEEPS_$0:r,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:i}))[0],E=L[1],l(String.prototype,d,b),l(RegExp.prototype,k,h==2?function(R,M){return E.call(R,this,M)}:function(R){return E.call(R,this)})),v&&p(RegExp.prototype[k],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,_,y){function l(p,m,n,r,a,i,u,d){for(var h,b=a,v=0,w=!!u&&c(u,d,3);v<r;){if(v in n){if(h=w?w(n[v],v,m):n[v],0<i&&f(h))b=l(p,m,h,s(h.length),b,i-1)-1;else{if(9007199254740991<=b)throw TypeError("Exceed the acceptable array length");p[b]=h}b++}v++}return b}var f=t("../internals/is-array"),s=t("../internals/to-length"),c=t("../internals/function-bind-context");_.exports=l},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,_,y){t=t("../internals/fails"),_.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,_,y){var l=t("../internals/a-function");_.exports=function(f,s,c){if(l(f),s===void 0)return f;switch(c){case 0:return function(){return f.call(s)};case 1:return function(p){return f.call(s,p)};case 2:return function(p,m){return f.call(s,p,m)};case 3:return function(p,m,n){return f.call(s,p,m,n)}}return function(){return f.apply(s,arguments)}}},{"../internals/a-function":5}],56:[function(t,_,y){var l=t("../internals/a-function"),f=t("../internals/is-object"),s=[].slice,c={};_.exports=Function.bind||function(p){var m=l(this),n=s.call(arguments,1),r=function(){var a=n.concat(s.call(arguments));if(this instanceof r){var i=m,u=a.length,d=a;if(!(u in c)){for(var h=[],b=0;b<u;b++)h[b]="a["+b+"]";c[u]=Function("C,a","return new C("+h.join(",")+")")}return c[u](i,d)}return m.apply(p,a)};return f(m.prototype)&&(r.prototype=m.prototype),r}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,_,y){function l(c){return typeof c=="function"?c:void 0}var f=t("../internals/path"),s=t("../internals/global");_.exports=function(c,p){return arguments.length<2?l(f[c])||l(s[c]):f[c]&&f[c][p]||s[c]&&s[c][p]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,_,y){var l=t("../internals/classof"),f=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");_.exports=function(c){if(c!=null)return c[s]||c["@@iterator"]||f[l(c)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,_,y){var l=t("../internals/an-object"),f=t("../internals/get-iterator-method");_.exports=function(s){var c=f(s);if(typeof c!="function")throw TypeError(String(s)+" is not iterable");return l(c.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,_,y){(function(l){function f(s){return s&&s.Math==Math&&s}_.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||Function("return this")()}).call(this,typeof ni<"u"?ni:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,_,y){var l={}.hasOwnProperty;_.exports=function(f,s){return l.call(f,s)}},{}],62:[function(t,_,y){_.exports={}},{}],63:[function(t,_,y){var l=t("../internals/global");_.exports=function(f,s){var c=l.console;c&&c.error&&(arguments.length===1?c.error(f):c.error(f,s))}},{"../internals/global":60}],64:[function(t,_,y){t=t("../internals/get-built-in"),_.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/fails"),s=t("../internals/document-create-element");_.exports=!l&&!f(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,_,y){var l=Math.abs,f=Math.pow,s=Math.floor,c=Math.log,p=Math.LN2;_.exports={pack:function(m,n,b){var a,i,u,d=new Array(b),h=8*b-n-1,b=(1<<h)-1,v=b>>1,w=n===23?f(2,-24)-f(2,-77):0,E=m<0||m===0&&1/m<0?1:0,k=0;for((m=l(m))!=m||m===1/0?(i=m!=m?1:0,a=b):(a=s(c(m)/p),m*(u=f(2,-a))<1&&(a--,u*=2),2<=(m+=1<=a+v?w/u:w*f(2,1-v))*u&&(a++,u/=2),b<=a+v?(i=0,a=b):1<=a+v?(i=(m*u-1)*f(2,n),a+=v):(i=m*f(2,v-1)*f(2,n),a=0));8<=n;d[k++]=255&i,i/=256,n-=8);for(a=a<<n|i,h+=n;0<h;d[k++]=255&a,a/=256,h-=8);return d[--k]|=128*E,d},unpack:function(m,n){var r,a=m.length,b=8*a-n-1,i=(1<<b)-1,u=i>>1,d=b-7,h=a-1,b=m[h--],v=127&b;for(b>>=7;0<d;v=256*v+m[h],h--,d-=8);for(r=v&(1<<-d)-1,v>>=-d,d+=n;0<d;r=256*r+m[h],h--,d-=8);if(v===0)v=1-u;else{if(v===i)return r?NaN:b?-1/0:1/0;r+=f(2,n),v-=u}return(b?-1:1)*r*f(2,v-n)}}},{}],67:[function(t,_,y){var l=t("../internals/fails"),f=t("../internals/classof-raw"),s="".split;_.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return f(c)=="String"?s.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,_,y){var l=t("../internals/is-object"),f=t("../internals/object-set-prototype-of");_.exports=function(s,c,p){return f&&typeof(c=c.constructor)=="function"&&c!==p&&l(c=c.prototype)&&c!==p.prototype&&f(s,c),s}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(l,_,y){var l=l("../internals/shared-store"),f=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(s){return f.call(s)}),_.exports=l.inspectSource},{"../internals/shared-store":121}],70:[function(t,_,y){function l(d){p(d,r,{value:{objectID:"O"+ ++a,weakData:{}}})}var f=t("../internals/hidden-keys"),s=t("../internals/is-object"),c=t("../internals/has"),p=t("../internals/object-define-property").f,m=t("../internals/uid"),n=t("../internals/freezing"),r=m("meta"),a=0,i=Object.isExtensible||function(){return!0},u=_.exports={REQUIRED:!1,fastKey:function(d,h){if(!s(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!c(d,r)){if(!i(d))return"F";if(!h)return"E";l(d)}return d[r].objectID},getWeakData:function(d,h){if(!c(d,r)){if(!i(d))return!0;if(!h)return!1;l(d)}return d[r].weakData},onFreeze:function(d){return n&&u.REQUIRED&&i(d)&&!c(d,r)&&l(d),d}};f[r]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(b,_,y){var l,f,s,c,p,m,n,r,a=b("../internals/native-weak-map"),v=b("../internals/global"),i=b("../internals/is-object"),u=b("../internals/create-non-enumerable-property"),d=b("../internals/has"),h=b("../internals/shared-key"),b=b("../internals/hidden-keys"),v=v.WeakMap;n=a?(l=new v,f=l.get,s=l.has,c=l.set,p=function(w,E){return c.call(l,w,E),E},m=function(w){return f.call(l,w)||{}},function(w){return s.call(l,w)}):(b[r=h("state")]=!0,p=function(w,E){return u(w,r,E),E},m=function(w){return d(w,r)?w[r]:{}},function(w){return d(w,r)}),_.exports={set:p,get:m,has:n,enforce:function(w){return n(w)?m(w):p(w,{})},getterFor:function(w){return function(E){if(i(E)&&(E=m(E)).type===w)return E;throw TypeError("Incompatible receiver, "+w+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,_,y){var l=t("../internals/well-known-symbol"),f=t("../internals/iterators"),s=l("iterator"),c=Array.prototype;_.exports=function(p){return p!==void 0&&(f.Array===p||c[s]===p)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,_,y){var l=t("../internals/classof-raw");_.exports=Array.isArray||function(f){return l(f)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,_,y){function l(r,a){return(r=p[c(r)])==n||r!=m&&(typeof a=="function"?f(a):!!a)}var f=t("../internals/fails"),s=/#|\.prototype\./,c=l.normalize=function(r){return String(r).replace(s,".").toLowerCase()},p=l.data={},m=l.NATIVE="N",n=l.POLYFILL="P";_.exports=l},{"../internals/fails":51}],75:[function(t,_,y){_.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},{}],76:[function(t,_,y){_.exports=!1},{}],77:[function(t,_,y){var l=t("../internals/is-object"),f=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");_.exports=function(c){var p;return l(c)&&((p=c[s])!==void 0?!!p:f(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,_,y){function l(r,a){this.stopped=r,this.result=a}var f=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),c=t("../internals/to-length"),p=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),n=t("../internals/call-with-safe-iteration-closing");(_.exports=function(r,a,i,u,d){var h,b,v,w,E,k,T=p(a,i,u?2:1);if(d)h=r;else{if(typeof(a=m(r))!="function")throw TypeError("Target is not iterable");if(s(a)){for(b=0,v=c(r.length);b<v;b++)if((w=u?T(f(k=r[b])[0],k[1]):T(r[b]))&&w instanceof l)return w;return new l(!1)}h=a.call(r)}for(E=h.next;!(k=E.call(h)).done;)if(typeof(w=n(h,T,k.value,u))=="object"&&w&&w instanceof l)return w;return new l(!1)}).stop=function(r){return new l(!0,r)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(m,_,y){var l,f,s=m("../internals/object-get-prototype-of"),c=m("../internals/create-non-enumerable-property"),p=m("../internals/has"),n=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),n=n("iterator"),r=!1;[].keys&&("next"in(f=[].keys())?(s=s(s(f)))!==Object.prototype&&(l=s):r=!0),l==null&&(l={}),m||p(l,n)||c(l,n,function(){return this}),_.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:r}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,_,y){_.exports={}},{}],81:[function(t,_,y){_.exports=Math.sign||function(l){return(l=+l)==0||l!=l?l:l<0?-1:1}},{}],82:[function(u,_,y){var l,f,s,c,p,m,n,r,a=u("../internals/global"),E=u("../internals/object-get-own-property-descriptor").f,w=u("../internals/classof-raw"),i=u("../internals/task").set,u=u("../internals/engine-is-ios"),d=a.MutationObserver||a.WebKitMutationObserver,h=a.process,b=a.Promise,v=w(h)=="process",w=E(a,"queueMicrotask"),E=w&&w.value;E||(l=function(){var k,T;for(v&&(k=h.domain)&&k.exit();f;){T=f.fn,f=f.next;try{T()}catch(L){throw f?c():s=void 0,L}}s=void 0,k&&k.enter()},c=v?function(){h.nextTick(l)}:d&&!u?(p=!0,m=document.createTextNode(""),new d(l).observe(m,{characterData:!0}),function(){m.data=p=!p}):b&&b.resolve?(n=b.resolve(void 0),r=n.then,function(){r.call(n,l)}):function(){i.call(a,l)}),_.exports=E||function(k){k={fn:k,next:void 0},s&&(s.next=k),f||(f=k,c()),s=k}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,_,y){t=t("../internals/global"),_.exports=t.Promise},{"../internals/global":60}],84:[function(t,_,y){t=t("../internals/fails"),_.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,_,y){var l=t("../internals/fails"),f=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),c=f("iterator");_.exports=!l(function(){var p=new URL("b?a=1&b=2&c=3","http://a"),m=p.searchParams,n="";return p.pathname="c%20d",m.forEach(function(r,a){m.delete("b"),n+=a+r}),s&&!p.toJSON||!m.sort||p.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(l,_,y){var f=l("../internals/global"),l=l("../internals/inspect-source"),f=f.WeakMap;_.exports=typeof f=="function"&&/native code/.test(l(f))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,_,y){function l(s){var c,p;this.promise=new s(function(m,n){if(c!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");c=m,p=n}),this.resolve=f(c),this.reject=f(p)}var f=t("../internals/a-function");_.exports.f=function(s){return new l(s)}},{"../internals/a-function":5}],88:[function(t,_,y){var l=t("../internals/is-regexp");_.exports=function(f){if(l(f))throw TypeError("The method doesn't accept regular expressions");return f}},{"../internals/is-regexp":77}],89:[function(t,_,y){var l=t("../internals/global").isFinite;_.exports=Number.isFinite||function(f){return typeof f=="number"&&l(f)}},{"../internals/global":60}],90:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/fails"),s=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),n=t("../internals/indexed-object"),r=Object.assign,a=Object.defineProperty;_.exports=!r||f(function(){var i,u,d,h;return!(!l||r({b:1},r(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(u={},h="abcdefghijklmnopqrst",(i={})[d=Symbol()]=7,h.split("").forEach(function(b){u[b]=b}),r({},i)[d]!=7||s(r({},u)).join("")!=h)})?function(i,u){for(var d=m(i),h=arguments.length,b=1,v=c.f,w=p.f;b<h;)for(var E,k=n(arguments[b++]),T=v?s(k).concat(v(k)):s(k),L=T.length,R=0;R<L;)E=T[R++],l&&!w.call(k,E)||(d[E]=k[E]);return d}:r},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(a,_,y){function l(){}var f,s=a("../internals/an-object"),c=a("../internals/object-define-properties"),p=a("../internals/enum-bug-keys"),m=a("../internals/hidden-keys"),n=a("../internals/html"),r=a("../internals/document-create-element"),a=a("../internals/shared-key"),i="prototype",u="script",d=a("IE_PROTO"),h=function(v){return"<"+u+">"+v+"</"+u+">"},b=function(){try{f=document.domain&&new ActiveXObject("htmlfile")}catch{}b=f?((v=f).write(h("")),v.close(),w=v.parentWindow.Object,v=null,w):(v=r("iframe"),w="java"+u+":",v.style.display="none",n.appendChild(v),v.src=String(w),(w=v.contentWindow.document).open(),w.write(h("document.F=Object")),w.close(),w.F);for(var v,w,E=p.length;E--;)delete b[i][p[E]];return b()};m[d]=!0,_.exports=Object.create||function(v,w){var E;return v!==null?(l[i]=s(v),E=new l,l[i]=null,E[d]=v):E=b(),w===void 0?E:c(E,w)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/object-define-property"),s=t("../internals/an-object"),c=t("../internals/object-keys");_.exports=l?Object.defineProperties:function(p,m){s(p);for(var n,r=c(m),a=r.length,i=0;i<a;)f.f(p,n=r[i++],m[n]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),c=t("../internals/to-primitive"),p=Object.defineProperty;y.f=l?p:function(m,n,r){if(s(m),n=c(n,!0),s(r),f)try{return p(m,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(m[n]=r.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),p=t("../internals/to-primitive"),m=t("../internals/has"),n=t("../internals/ie8-dom-define"),r=Object.getOwnPropertyDescriptor;y.f=l?r:function(a,i){if(a=c(a),i=p(i,!0),n)try{return r(a,i)}catch{}if(m(a,i))return s(!f.f.call(a,i),a[i])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,_,y){var l=t("../internals/to-indexed-object"),f=t("../internals/object-get-own-property-names").f,s={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];_.exports.f=function(p){if(!c||s.call(p)!="[object Window]")return f(l(p));try{return f(p)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,_,y){var l=t("../internals/object-keys-internal"),f=t("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(s){return l(s,f)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,_,y){y.f=Object.getOwnPropertySymbols},{}],98:[function(c,_,y){var l=c("../internals/has"),f=c("../internals/to-object"),s=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),p=s("IE_PROTO"),m=Object.prototype;_.exports=c?Object.getPrototypeOf:function(n){return n=f(n),l(n,p)?n[p]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,_,y){var l=t("../internals/has"),f=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys");_.exports=function(p,m){var n,r=f(p),a=0,i=[];for(n in r)!l(c,n)&&l(r,n)&&i.push(n);for(;m.length>a;)!l(r,n=m[a++])||~s(i,n)||i.push(n);return i}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,_,y){var l=t("../internals/object-keys-internal"),f=t("../internals/enum-bug-keys");_.exports=Object.keys||function(s){return l(s,f)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,_,y){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,s=f&&!l.call({1:2},1);y.f=s?function(c){return c=f(this,c),!!c&&c.enumerable}:l},{}],102:[function(t,_,y){var l=t("../internals/an-object"),f=t("../internals/a-possible-prototype");_.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,c=!1,p={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),c=p instanceof Array}catch{}return function(m,n){return l(m),f(n),c?s.call(m,n):m.__proto__=n,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,_,y){function l(m){return function(n){for(var r,a=c(n),i=s(a),u=i.length,d=0,h=[];d<u;)r=i[d++],f&&!p.call(a,r)||h.push(m?[r,a[r]]:a[r]);return h}}var f=t("../internals/descriptors"),s=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),p=t("../internals/object-property-is-enumerable").f;_.exports={entries:l(!0),values:l(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,_,y){var l=t("../internals/to-string-tag-support"),f=t("../internals/classof");_.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,_,y){var l=t("../internals/get-built-in"),f=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object");_.exports=l("Reflect","ownKeys")||function(p){var m=f.f(c(p)),n=s.f;return n?m.concat(n(p)):m}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,_,y){t=t("../internals/global"),_.exports=t},{"../internals/global":60}],107:[function(t,_,y){_.exports=function(l){try{return{error:!1,value:l()}}catch(f){return{error:!0,value:f}}}},{}],108:[function(t,_,y){var l=t("../internals/an-object"),f=t("../internals/is-object"),s=t("../internals/new-promise-capability");_.exports=function(c,p){return l(c),f(p)&&p.constructor===c?p:((0,(c=s.f(c)).resolve)(p),c.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,_,y){var l=t("../internals/redefine");_.exports=function(f,s,c){for(var p in s)l(f,p,s[p],c);return f}},{"../internals/redefine":110}],110:[function(m,_,y){var l=m("../internals/global"),f=m("../internals/create-non-enumerable-property"),s=m("../internals/has"),c=m("../internals/set-global"),p=m("../internals/inspect-source"),m=m("../internals/internal-state"),n=m.get,r=m.enforce,a=String(String).split("String");(_.exports=function(i,u,d,w){var b=!!w&&!!w.unsafe,v=!!w&&!!w.enumerable,w=!!w&&!!w.noTargetGet;typeof d=="function"&&(typeof u!="string"||s(d,"name")||f(d,"name",u),r(d).source=a.join(typeof u=="string"?u:"")),i===l?v?i[u]=d:c(u,d):(b?!w&&i[u]&&(v=!0):delete i[u],v?i[u]=d:f(i,u,d))})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||p(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,_,y){var l=t("./classof-raw"),f=t("./regexp-exec");_.exports=function(s,c){var p=s.exec;if(typeof p=="function"){if(p=p.call(s,c),typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return f.call(s,c)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(c,_,y){var l,f,s=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),p=RegExp.prototype.exec,m=String.prototype.replace,n=p,r=(l=/a/,f=/b*/g,p.call(l,"a"),p.call(f,"a"),l.lastIndex!==0||f.lastIndex!==0),a=c.UNSUPPORTED_Y||c.BROKEN_CARET,i=/()??/.exec("")[1]!==void 0;_.exports=n=r||i||a?function(u){var d,h,b,v,w=this,E=a&&w.sticky,k=s.call(w),T=w.source,L=0,R=u;return E&&((k=k.replace("y","")).indexOf("g")===-1&&(k+="g"),R=String(u).slice(w.lastIndex),0<w.lastIndex&&(!w.multiline||w.multiline&&u[w.lastIndex-1]!==`
`)&&(T="(?: "+T+")",R=" "+R,L++),h=new RegExp("^(?:"+T+")",k)),i&&(h=new RegExp("^"+T+"$(?!\\s)",k)),r&&(d=w.lastIndex),b=p.call(E?h:w,R),E?b?(b.input=b.input.slice(L),b[0]=b[0].slice(L),b.index=w.lastIndex,w.lastIndex+=b[0].length):w.lastIndex=0:r&&b&&(w.lastIndex=w.global?b.index+b[0].length:d),i&&b&&1<b.length&&m.call(b[0],h,function(){for(v=1;v<arguments.length-2;v++)arguments[v]===void 0&&(b[v]=void 0)}),b}:n},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,_,y){var l=t("../internals/an-object");_.exports=function(){var f=l(this),s="";return f.global&&(s+="g"),f.ignoreCase&&(s+="i"),f.multiline&&(s+="m"),f.dotAll&&(s+="s"),f.unicode&&(s+="u"),f.sticky&&(s+="y"),s}},{"../internals/an-object":10}],114:[function(t,_,y){t=t("./fails");function l(f,s){return RegExp(f,s)}y.UNSUPPORTED_Y=t(function(){var f=l("a","y");return f.lastIndex=2,f.exec("abcd")!=null}),y.BROKEN_CARET=t(function(){var f=l("^r","gy");return f.lastIndex=2,f.exec("str")!=null})},{"./fails":51}],115:[function(t,_,y){_.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},{}],116:[function(t,_,y){_.exports=Object.is||function(l,f){return l===f?l!==0||1/l==1/f:l!=l&&f!=f}},{}],117:[function(t,_,y){var l=t("../internals/global"),f=t("../internals/create-non-enumerable-property");_.exports=function(s,c){try{f(l,s,c)}catch{l[s]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,_,y){var l=t("../internals/get-built-in"),f=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),p=s("species");_.exports=function(n){var n=l(n),r=f.f;c&&n&&!n[p]&&r(n,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,_,y){var l=t("../internals/object-define-property").f,f=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");_.exports=function(c,p,m){c&&!f(c=m?c:c.prototype,s)&&l(c,s,{configurable:!0,value:p})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,_,y){var l=t("../internals/shared"),f=t("../internals/uid"),s=l("keys");_.exports=function(c){return s[c]||(s[c]=f(c))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(l,_,y){var s=l("../internals/global"),l=l("../internals/set-global"),f="__core-js_shared__",s=s[f]||l(f,{});_.exports=s},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,_,y){var l=t("../internals/is-pure"),f=t("../internals/shared-store");(_.exports=function(s,c){return f[s]||(f[s]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,_,y){var l=t("../internals/an-object"),f=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");_.exports=function(m,p){var m=l(m).constructor;return m===void 0||(m=l(m)[s])==null?p:f(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,_,y){var l=t("../internals/fails");_.exports=function(f){return l(function(){var s=""[f]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],125:[function(t,_,y){function l(c){return function(r,a){var n,r=String(s(r)),a=f(a),i=r.length;return a<0||i<=a?c?"":void 0:(n=r.charCodeAt(a))<55296||56319<n||a+1===i||(i=r.charCodeAt(a+1))<56320||57343<i?c?r.charAt(a):n:c?r.slice(a,a+2):i-56320+(n-55296<<10)+65536}}var f=t("../internals/to-integer"),s=t("../internals/require-object-coercible");_.exports={codeAt:l(!1),charAt:l(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,_,y){t=t("../internals/engine-user-agent"),_.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,_,y){function l(m){return function(i,h,d){var i=String(c(i)),u=i.length,d=d===void 0?" ":String(d),h=f(h);return h<=u||d==""?i:((u=s.call(d,p((h=h-u)/d.length))).length>h&&(u=u.slice(0,h)),m?i+u:u+i)}}var f=t("../internals/to-length"),s=t("../internals/string-repeat"),c=t("../internals/require-object-coercible"),p=Math.ceil;_.exports={start:l(!1),end:l(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,_,y){function l(b){return b+22+75*(b<26)}function f(b){var v,w=[],E=(b=function(ee){for(var Z=[],se=0,P=ee.length;se<P;){var B,W=ee.charCodeAt(se++);55296<=W&&W<=56319&&se<P?(64512&(B=ee.charCodeAt(se++)))==56320?Z.push(((1023&W)<<10)+(1023&B)+65536):(Z.push(W),se--):Z.push(W)}return Z}(b)).length,k=128,T=0,L=72;for(D=0;D<b.length;D++)(v=b[D])<128&&w.push(h(v));var R=w.length,M=R;for(R&&w.push("-");M<E;){for(var N=s,D=0;D<b.length;D++)k<=(v=b[D])&&v<N&&(N=v);var G=M+1;if(N-k>d((s-T)/G))throw RangeError(i);for(T+=(N-k)*G,k=N,D=0;D<b.length;D++){if((v=b[D])<k&&++T>s)throw RangeError(i);if(v==k){for(var V=T,z=c;;z+=c){var $=z<=L?1:L+p<=z?p:z-L;if(V<$)break;var q=V-$,Y=c-$;w.push(h(l($+q%Y))),V=d(q/Y)}w.push(h(l(V))),L=function(ee,Z,se){var P=0;for(ee=se?d(ee/n):ee>>1,ee+=d(ee/Z);u*p>>1<ee;P+=c)ee=d(ee/u);return d(P+(u+1)*ee/(ee+m))}(T,G,M==R),T=0,++M}}++T,++k}return w.join("")}var s=2147483647,c=36,p=26,m=38,n=700,r=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",u=c-1,d=Math.floor,h=String.fromCharCode;_.exports=function(b){for(var v,w=[],E=b.toLowerCase().replace(a,".").split("."),k=0;k<E.length;k++)v=E[k],w.push(r.test(v)?"xn--"+f(v):v);return w.join(".")}},{}],129:[function(t,_,y){var l=t("../internals/to-integer"),f=t("../internals/require-object-coercible");_.exports="".repeat||function(s){var c=String(f(this)),p="",m=l(s);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(c+=c))1&m&&(p+=c);return p}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,_,y){var l=t("../internals/fails"),f=t("../internals/whitespaces");_.exports=function(s){return l(function(){return!!f[s]()||"​᠎"[s]()!="​᠎"||f[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(s,_,y){function l(m){return function(n){return n=String(f(n)),1&m&&(n=n.replace(c,"")),n=2&m?n.replace(p,""):n}}var f=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",c=RegExp("^"+s+s+"*"),p=RegExp(s+s+"*$");_.exports={start:l(1),end:l(2),trim:l(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(u,_,y){function l(M){return function(){R(M)}}function f(M){R(M.data)}function s(M){p.postMessage(M+"",d.protocol+"//"+d.host)}var c,p=u("../internals/global"),m=u("../internals/fails"),n=u("../internals/classof-raw"),r=u("../internals/function-bind-context"),a=u("../internals/html"),i=u("../internals/document-create-element"),u=u("../internals/engine-is-ios"),d=p.location,h=p.setImmediate,b=p.clearImmediate,v=p.process,w=p.MessageChannel,E=p.Dispatch,k=0,T={},L="onreadystatechange",R=function(M){var N;T.hasOwnProperty(M)&&(N=T[M],delete T[M],N())};h&&b||(h=function(M){for(var N=[],D=1;D<arguments.length;)N.push(arguments[D++]);return T[++k]=function(){(typeof M=="function"?M:Function(M)).apply(void 0,N)},c(k),k},b=function(M){delete T[M]},n(v)=="process"?c=function(M){v.nextTick(l(M))}:E&&E.now?c=function(M){E.now(l(M))}:w&&!u?(u=(n=new w).port2,n.port1.onmessage=f,c=r(u.postMessage,u,1)):!p.addEventListener||typeof postMessage!="function"||p.importScripts||m(s)||d.protocol==="file:"?c=L in i("script")?function(M){a.appendChild(i("script"))[L]=function(){a.removeChild(this),R(M)}}:function(M){setTimeout(l(M),0)}:(c=s,p.addEventListener("message",f,!1))),_.exports={set:h,clear:b}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,_,y){var l=t("../internals/classof-raw");_.exports=function(f){if(typeof f!="number"&&l(f)!="Number")throw TypeError("Incorrect invocation");return+f}},{"../internals/classof-raw":28}],134:[function(t,_,y){var l=t("../internals/to-integer"),f=Math.max,s=Math.min;_.exports=function(c,p){return c=l(c),c<0?f(c+p,0):s(c,p)}},{"../internals/to-integer":137}],135:[function(t,_,y){var l=t("../internals/to-integer"),f=t("../internals/to-length");_.exports=function(c){if(c===void 0)return 0;var c=l(c),p=f(c);if(c!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,_,y){var l=t("../internals/indexed-object"),f=t("../internals/require-object-coercible");_.exports=function(s){return l(f(s))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,_,y){var l=Math.ceil,f=Math.floor;_.exports=function(s){return isNaN(s=+s)?0:(0<s?f:l)(s)}},{}],138:[function(t,_,y){var l=t("../internals/to-integer"),f=Math.min;_.exports=function(s){return 0<s?f(l(s),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,_,y){var l=t("../internals/require-object-coercible");_.exports=function(f){return Object(l(f))}},{"../internals/require-object-coercible":115}],140:[function(t,_,y){var l=t("../internals/to-positive-integer");_.exports=function(f,s){if(f=l(f),f%s)throw RangeError("Wrong offset");return f}},{"../internals/to-positive-integer":141}],141:[function(t,_,y){var l=t("../internals/to-integer");_.exports=function(f){if(f=l(f),f<0)throw RangeError("The argument can't be less than 0");return f}},{"../internals/to-integer":137}],142:[function(t,_,y){var l=t("../internals/is-object");_.exports=function(f,s){if(!l(f))return f;var c,p;if(s&&typeof(c=f.toString)=="function"&&!l(p=c.call(f))||typeof(c=f.valueOf)=="function"&&!l(p=c.call(f))||!s&&typeof(c=f.toString)=="function"&&!l(p=c.call(f)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,_,y){var l={};l[t("../internals/well-known-symbol")("toStringTag")]="z",_.exports=String(l)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,_,y){function l(Se,Te){for(var Re=0,Ye=Te.length,Fe=new(ae(Se))(Ye);Re<Ye;)Fe[Re]=Te[Re++];return Fe}function f(Se,Te){B(Se,Te,{get:function(){return se(this)[Te]}})}function s(Se){return Se instanceof oe||(Se=R(Se))=="ArrayBuffer"||Se=="SharedArrayBuffer"}function c(Se,Te){return ve(Se)&&typeof Te!="symbol"&&Te in Se&&String(+Te)==String(Te)}function p(Se,Te){return c(Se,Te=T(Te,!0))?b(2,Se[Te]):W(Se,Te)}function m(Se,Te,Re){return!(c(Se,Te=T(Te,!0))&&M(Re)&&L(Re,"value"))||L(Re,"get")||L(Re,"set")||Re.configurable||L(Re,"writable")&&!Re.writable||L(Re,"enumerable")&&!Re.enumerable?B(Se,Te,Re):(Se[Te]=Re.value,Se)}var n=t("../internals/export"),r=t("../internals/global"),a=t("../internals/descriptors"),i=t("../internals/typed-array-constructors-require-wrappers"),u=t("../internals/array-buffer-view-core"),d=t("../internals/array-buffer"),h=t("../internals/an-instance"),b=t("../internals/create-property-descriptor"),v=t("../internals/create-non-enumerable-property"),w=t("../internals/to-length"),E=t("../internals/to-index"),k=t("../internals/to-offset"),T=t("../internals/to-primitive"),L=t("../internals/has"),R=t("../internals/classof"),M=t("../internals/is-object"),N=t("../internals/object-create"),D=t("../internals/object-set-prototype-of"),G=t("../internals/object-get-own-property-names").f,V=t("../internals/typed-array-from"),z=t("../internals/array-iteration").forEach,$=t("../internals/set-species"),q=t("../internals/object-define-property"),Y=t("../internals/object-get-own-property-descriptor"),ee=t("../internals/internal-state"),Z=t("../internals/inherit-if-required"),se=ee.get,P=ee.set,B=q.f,W=Y.f,K=Math.round,ne=r.RangeError,oe=d.ArrayBuffer,fe=d.DataView,ge=u.NATIVE_ARRAY_BUFFER_VIEWS,de=u.TYPED_ARRAY_TAG,ye=u.TypedArray,be=u.TypedArrayPrototype,ae=u.aTypedArrayConstructor,ve=u.isTypedArray,_e="BYTES_PER_ELEMENT",Me="Wrong length";a?(ge||(Y.f=p,q.f=m,f(be,"buffer"),f(be,"byteOffset"),f(be,"byteLength"),f(be,"length")),n({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:p,defineProperty:m}),_.exports=function(Pe,Te,Re){function Ye(De,ie){B(De,ie,{get:function(){var ce=this,re=ie;return(ce=se(ce)).view[ot](re*Fe+ce.byteOffset,!0)},set:function(ce){var re=this,he=ie;re=se(re),Re&&(ce=(ce=K(ce))<0?0:255<ce?255:255&ce),re.view[it](he*Fe+re.byteOffset,ce,!0)},enumerable:!0})}var Fe=Pe.match(/\d+$/)[0]/8,pt=Pe+(Re?"Clamped":"")+"Array",ot="get"+Pe,it="set"+Pe,ut=r[pt],lt=ut,Pe=lt&&lt.prototype,qe={};ge?i&&(lt=Te(function(De,ie,ce,re){return h(De,lt,pt),Z(M(ie)?s(ie)?re!==void 0?new ut(ie,k(ce,Fe),re):ce!==void 0?new ut(ie,k(ce,Fe)):new ut(ie):ve(ie)?l(lt,ie):V.call(lt,ie):new ut(E(ie)),De,lt)}),D&&D(lt,ye),z(G(ut),function(De){De in lt||v(lt,De,ut[De])}),lt.prototype=Pe):(lt=Te(function(De,ie,ce,re){h(De,lt,pt);var he,Ee,Le=0,He=0;if(M(ie)){if(!s(ie))return ve(ie)?l(lt,ie):V.call(lt,ie);var Qe=ie,He=k(ce,Fe),ce=ie.byteLength;if(re===void 0){if(ce%Fe||(he=ce-He)<0)throw ne(Me)}else if(ce<(he=w(re)*Fe)+He)throw ne(Me);Ee=he/Fe}else Ee=E(ie),Qe=new oe(he=Ee*Fe);for(P(De,{buffer:Qe,byteOffset:He,byteLength:he,length:Ee,view:new fe(Qe)});Le<Ee;)Ye(De,Le++)}),D&&D(lt,ye),Pe=lt.prototype=N(be)),Pe.constructor!==lt&&v(Pe,"constructor",lt),de&&v(Pe,de,pt),qe[pt]=lt,n({global:!0,forced:lt!=ut,sham:!ge},qe),_e in lt||v(lt,_e,Fe),_e in Pe||v(Pe,_e,Fe),$(pt)}):_.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(c,_,y){var l=c("../internals/global"),f=c("../internals/fails"),s=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,p=l.ArrayBuffer,m=l.Int8Array;_.exports=!c||!f(function(){m(1)})||!f(function(){new m(-1)})||!s(function(n){new m,new m(null),new m(1.5),new m(n)},!0)||f(function(){return new m(new p(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,_,y){var l=t("../internals/to-object"),f=t("../internals/to-length"),s=t("../internals/get-iterator-method"),c=t("../internals/is-array-iterator-method"),p=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;_.exports=function(n){var r,a,i,u,d,h,b=l(n),v=arguments.length,w=1<v?arguments[1]:void 0,E=w!==void 0,k=s(b);if(k!=null&&!c(k))for(h=(d=k.call(b)).next,b=[];!(u=h.call(d)).done;)b.push(u.value);for(E&&2<v&&(w=p(w,arguments[2],2)),a=f(b.length),i=new(m(this))(a),r=0;r<a;r++)i[r]=E?w(b[r],r):b[r];return i}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,_,y){var l=0,f=Math.random();_.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++l+f).toString(36)}},{}],148:[function(t,_,y){t=t("../internals/native-symbol"),_.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,_,y){t=t("../internals/well-known-symbol"),y.f=t},{"../internals/well-known-symbol":150}],150:[function(m,_,y){var l=m("../internals/global"),f=m("../internals/shared"),s=m("../internals/has"),c=m("../internals/uid"),p=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),n=f("wks"),r=l.Symbol,a=m?r:r&&r.withoutSetter||c;_.exports=function(i){return s(n,i)||(p&&s(r,i)?n[i]=r[i]:n[i]=a("Symbol."+i)),n[i]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,_,y){_.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],152:[function(s,_,y){var l=s("../internals/export"),f=s("../internals/global"),p=s("../internals/array-buffer"),s=s("../internals/set-species"),c="ArrayBuffer",p=p[c];l({global:!0,forced:f[c]!==p},{ArrayBuffer:p}),s(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(b,_,y){var l=b("../internals/export"),f=b("../internals/fails"),s=b("../internals/is-array"),c=b("../internals/is-object"),p=b("../internals/to-object"),m=b("../internals/to-length"),n=b("../internals/create-property"),r=b("../internals/array-species-create"),a=b("../internals/array-method-has-species-support"),h=b("../internals/well-known-symbol"),b=b("../internals/engine-v8-version"),i=h("isConcatSpreadable"),u=9007199254740991,d="Maximum allowed index exceeded",h=51<=b||!f(function(){var v=[];return v[i]=!1,v.concat()[0]!==v}),b=a("concat");l({target:"Array",proto:!0,forced:!h||!b},{concat:function(v){for(var w,E,k,T,L,R=p(this),M=r(R,0),N=0,D=-1,G=arguments.length;D<G;D++)if(L=void 0,!c(T=k=D===-1?R:arguments[D])||((L=T[i])!==void 0?!L:!s(T))){if(u<=N)throw TypeError(d);n(M,N++,k)}else{if(E=m(k.length),u<N+E)throw TypeError(d);for(w=0;w<E;w++,N++)w in k&&n(M,N,k[w])}return M.length=N,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(s,_,y){var l=s("../internals/export"),f=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");l({target:"Array",proto:!0},{copyWithin:f}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(c,_,y){var l=c("../internals/export"),f=c("../internals/array-iteration").every,s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),s=s("every"),c=c("every");l({target:"Array",proto:!0,forced:!s||!c},{every:function(p){return f(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(s,_,y){var l=s("../internals/export"),f=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");l({target:"Array",proto:!0},{fill:f}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(c,_,y){var l=c("../internals/export"),f=c("../internals/array-iteration").filter,s=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),s=s("filter"),c=c("filter");l({target:"Array",proto:!0,forced:!s||!c},{filter:function(p){return f(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,_,y){var l=m("../internals/export"),f=m("../internals/array-iteration").findIndex,s=m("../internals/add-to-unscopables"),m=m("../internals/array-method-uses-to-length"),c="findIndex",p=!0,m=m(c);c in[]&&Array(1)[c](function(){p=!1}),l({target:"Array",proto:!0,forced:p||!m},{findIndex:function(n){return f(this,n,1<arguments.length?arguments[1]:void 0)}}),s(c)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/flatten-into-array"),s=t("../internals/to-object"),c=t("../internals/to-length"),p=t("../internals/a-function"),m=t("../internals/array-species-create");l({target:"Array",proto:!0},{flatMap:function(n){var r,a=s(this),i=c(a.length);return p(n),(r=m(a,0)).length=f(r,a,a,i,0,1,n,1<arguments.length?arguments[1]:void 0),r}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/flatten-into-array"),s=t("../internals/to-object"),c=t("../internals/to-length"),p=t("../internals/to-integer"),m=t("../internals/array-species-create");l({target:"Array",proto:!0},{flat:function(){var n=arguments.length?arguments[0]:void 0,r=s(this),a=c(r.length),i=m(r,0);return i.length=f(i,r,r,a,0,n===void 0?1:p(n)),i}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(f,_,y){var l=f("../internals/export"),f=f("../internals/array-for-each");l({target:"Array",proto:!0,forced:[].forEach!=f},{forEach:f})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/array-from");l({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:f})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");l({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return f(this,c,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(m,_,y){var l=m("../internals/export"),f=m("../internals/array-includes").indexOf,p=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,p=p("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:c||!p||!m},{indexOf:function(n){return c?s.apply(this,arguments)||0:f(this,n,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(p,_,y){var l=p("../internals/to-indexed-object"),f=p("../internals/add-to-unscopables"),s=p("../internals/iterators"),c=p("../internals/internal-state"),p=p("../internals/define-iterator"),m="Array Iterator",n=c.set,r=c.getterFor(m);_.exports=p(Array,"Array",function(a,i){n(this,{type:m,target:l(a),index:0,kind:i})},function(){var a=r(this),i=a.target,u=a.kind,d=a.index++;return!i||d>=i.length?{value:a.target=void 0,done:!0}:u=="keys"?{value:d,done:!1}:u=="values"?{value:i[d],done:!1}:{value:[d,i[d]],done:!1}},"values"),s.Arguments=s.Array,f("keys"),f("values"),f("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(p,_,y){var l=p("../internals/export"),c=p("../internals/indexed-object"),f=p("../internals/to-indexed-object"),p=p("../internals/array-method-is-strict"),s=[].join,c=c!=Object,p=p("join",",");l({target:"Array",proto:!0,forced:c||!p},{join:function(m){return s.call(f(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(f,_,y){var l=f("../internals/export"),f=f("../internals/array-last-index-of");l({target:"Array",proto:!0,forced:f!==[].lastIndexOf},{lastIndexOf:f})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(c,_,y){var l=c("../internals/export"),f=c("../internals/array-iteration").map,s=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),s=s("map"),c=c("map");l({target:"Array",proto:!0,forced:!s||!c},{map:function(p){return f(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(i,_,y){var l=i("../internals/export"),f=i("../internals/is-object"),s=i("../internals/is-array"),c=i("../internals/to-absolute-index"),p=i("../internals/to-length"),m=i("../internals/to-indexed-object"),n=i("../internals/create-property"),r=i("../internals/well-known-symbol"),a=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),a=a("slice"),i=i("slice",{ACCESSORS:!0,0:0,1:2}),u=r("species"),d=[].slice,h=Math.max;l({target:"Array",proto:!0,forced:!a||!i},{slice:function(b,v){var w,E,k,T=m(this),L=p(T.length),R=c(b,L),M=c(v===void 0?L:v,L);if(s(T)&&((w=typeof(w=T.constructor)=="function"&&(w===Array||s(w.prototype))||f(w)&&(w=w[u])===null?void 0:w)===Array||w===void 0))return d.call(T,R,M);for(E=new(w===void 0?Array:w)(h(M-R,0)),k=0;R<M;R++,k++)R in T&&n(E,k,T[R]);return E.length=k,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(c,_,y){var l=c("../internals/export"),f=c("../internals/array-iteration").some,s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),s=s("some"),c=c("some");l({target:"Array",proto:!0,forced:!s||!c},{some:function(p){return f(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(a,_,y){var l=a("../internals/export"),f=a("../internals/to-absolute-index"),s=a("../internals/to-integer"),c=a("../internals/to-length"),p=a("../internals/to-object"),m=a("../internals/array-species-create"),n=a("../internals/create-property"),r=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),r=r("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),i=Math.max,u=Math.min;l({target:"Array",proto:!0,forced:!r||!a},{splice:function(N,h){var b,v,w,E,k,T,L=p(this),R=c(L.length),M=f(N,R),N=arguments.length;if(N===0?b=v=0:v=N===1?(b=0,R-M):(b=N-2,u(i(s(h),0),R-M)),9007199254740991<R+b-v)throw TypeError("Maximum allowed length exceeded");for(w=m(L,v),E=0;E<v;E++)(k=M+E)in L&&n(w,E,L[k]);if(b<(w.length=v)){for(E=M;E<R-v;E++)T=E+b,(k=E+v)in L?L[T]=L[k]:delete L[T];for(E=R;R-v+b<E;E--)delete L[E-1]}else if(v<b)for(E=R-v;M<E;E--)T=E+b-1,(k=E+v-1)in L?L[T]=L[k]:delete L[T];for(E=0;E<b;E++)L[E+M]=arguments[E+2];return L.length=R-v+b,w}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,_,y){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,_,y){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(f,_,y){var l=f("../internals/descriptors"),f=f("../internals/object-define-property").f,s=Function.prototype,c=s.toString,p=/^\s*function ([^ (]*)/;!l||"name"in s||f(s,"name",{configurable:!0,get:function(){try{return c.call(this).match(p)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(f,_,y){var l=f("../internals/collection"),f=f("../internals/collection-strong");_.exports=l("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},f)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(l,_,y){var l=l("../internals/export"),f=Math.hypot,s=Math.abs,c=Math.sqrt;l({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(p,m){for(var n,r,a=0,i=0,u=arguments.length,d=0;i<u;)d<(n=s(arguments[i++]))?(a=a*(r=d/n)*r+1,d=n):a+=0<n?(r=n/d)*r:n;return d===1/0?1/0:d*c(a)}})},{"../internals/export":50}],177:[function(l,_,y){var l=l("../internals/export"),f=Math.log,s=Math.LN2;l({target:"Math",stat:!0},{log2:function(c){return f(c)/s}})},{"../internals/export":50}],178:[function(t,_,y){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,_,y){function l(D){var G,V,z,$,q,Y,ee,Z=a(D,!1);if(typeof Z=="string"&&2<Z.length){if((D=(Z=v(Z)).charCodeAt(0))===43||D===45){if((G=Z.charCodeAt(2))===88||G===120)return NaN}else if(D===48){switch(Z.charCodeAt(1)){case 66:case 98:V=2,z=49;break;case 79:case 111:V=8,z=55;break;default:return+Z}for(q=($=Z.slice(2)).length,Y=0;Y<q;Y++)if((ee=$.charCodeAt(Y))<48||z<ee)return NaN;return parseInt($,V)}}return+Z}var f=t("../internals/descriptors"),s=t("../internals/global"),c=t("../internals/is-forced"),p=t("../internals/redefine"),m=t("../internals/has"),n=t("../internals/classof-raw"),r=t("../internals/inherit-if-required"),a=t("../internals/to-primitive"),i=t("../internals/fails"),u=t("../internals/object-create"),d=t("../internals/object-get-own-property-names").f,h=t("../internals/object-get-own-property-descriptor").f,b=t("../internals/object-define-property").f,v=t("../internals/string-trim").trim,w="Number",E=s[w],k=E.prototype,T=n(u(k))==w;if(c(w,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var L,R=function(G){var G=arguments.length<1?0:G,V=this;return V instanceof R&&(T?i(function(){k.valueOf.call(V)}):n(V)!=w)?r(new E(l(G)),V,R):l(G)},M=f?d(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;M.length>N;N++)m(E,L=M[N])&&!m(R,L)&&b(R,L,h(E,L));(R.prototype=k).constructor=R,p(s,w,R)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,_,y){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,_,y){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(m,_,y){function l(a,i,u){return i===0?u:i%2==1?l(a,i-1,u*a):l(a*a,i/2,u)}var f=m("../internals/export"),s=m("../internals/to-integer"),c=m("../internals/this-number-value"),p=m("../internals/string-repeat"),m=m("../internals/fails"),n=1 .toFixed,r=Math.floor;f({target:"Number",proto:!0,forced:n&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){n.call({})})},{toFixed:function(w){function i(L,R){for(var M=-1,N=R;++M<6;)N+=L*E[M],E[M]=N%1e7,N=r(N/1e7)}function u(L){for(var R=6,M=0;0<=--R;)M+=E[R],E[R]=r(M/L),M=M%L*1e7}function d(){for(var L,R=6,M="";0<=--R;)M===""&&R!==0&&E[R]===0||(L=String(E[R]),M=M===""?L:M+p.call("0",7-L.length)+L);return M}var h,b,v=c(this),w=s(w),E=[0,0,0,0,0,0],k="",T="0";if(w<0||20<w)throw RangeError("Incorrect fraction digits");if(v!=v)return"NaN";if(v<=-1e21||1e21<=v)return String(v);if(v<0&&(k="-",v=-v),1e-21<v)if(v=(h=function(L){for(var R=0,M=L;4096<=M;)R+=12,M/=4096;for(;2<=M;)R+=1,M/=2;return R}(v*l(2,69,1))-69)<0?v*l(2,-h,1):v/l(2,h,1),v*=4503599627370496,0<(h=52-h)){for(i(0,v),b=w;7<=b;)i(1e7,0),b-=7;for(i(l(10,b,1),0),b=h-1;23<=b;)u(1<<23),b-=23;u(1<<b),i(1,1),u(2),T=d()}else i(0,v),i(1<<-h,0),T=d()+p.call("0",w);return T=0<w?k+((v=T.length)<=w?"0."+p.call("0",w-v)+T:T.slice(0,v-w)+"."+T.slice(v-w)):k+T}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(f,_,y){var l=f("../internals/export"),f=f("../internals/object-assign");l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/object-to-array").entries;l({target:"Object",stat:!0},{entries:function(s){return f(s)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/iterate"),s=t("../internals/create-property");l({target:"Object",stat:!0},{fromEntries:function(c){var p={};return f(c,function(m,n){s(p,m,n)},void 0,!0),p}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(c,_,y){var l=c("../internals/export"),p=c("../internals/fails"),f=c("../internals/to-indexed-object"),s=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),p=p(function(){s(1)});l({target:"Object",stat:!0,forced:!c||p,sham:!c},{getOwnPropertyDescriptor:function(m,n){return s(f(m),n)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(s,_,y){var l=s("../internals/export"),f=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;l({target:"Object",stat:!0,forced:f(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(p,_,y){var l=p("../internals/export"),f=p("../internals/fails"),s=p("../internals/to-object"),c=p("../internals/object-get-prototype-of"),p=p("../internals/correct-prototype-getter");l({target:"Object",stat:!0,forced:f(function(){c(1)}),sham:!p},{getPrototypeOf:function(m){return c(s(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/to-object"),s=t("../internals/object-keys");l({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(c){return s(f(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(s,_,y){var l=s("../internals/to-string-tag-support"),f=s("../internals/redefine"),s=s("../internals/object-to-string");l||f(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Re,_,y){var l,f,s,c,p=Re("../internals/export"),m=Re("../internals/is-pure"),n=Re("../internals/global"),r=Re("../internals/get-built-in"),a=Re("../internals/native-promise-constructor"),i=Re("../internals/redefine"),u=Re("../internals/redefine-all"),d=Re("../internals/set-to-string-tag"),h=Re("../internals/set-species"),b=Re("../internals/is-object"),v=Re("../internals/a-function"),w=Re("../internals/an-instance"),E=Re("../internals/classof-raw"),k=Re("../internals/inspect-source"),T=Re("../internals/iterate"),L=Re("../internals/check-correctness-of-iteration"),R=Re("../internals/species-constructor"),M=Re("../internals/task").set,N=Re("../internals/microtask"),D=Re("../internals/promise-resolve"),G=Re("../internals/host-report-errors"),V=Re("../internals/new-promise-capability"),z=Re("../internals/perform"),$=Re("../internals/internal-state"),q=Re("../internals/is-forced"),Ye=Re("../internals/well-known-symbol"),Y=Re("../internals/engine-v8-version"),ee=Ye("species"),Z="Promise",se=$.get,P=$.set,B=$.getterFor(Z),W=a,K=n.TypeError,ne=n.document,oe=n.process,fe=r("fetch"),ge=V.f,de=ge,ye=E(oe)=="process",be=!!(ne&&ne.createEvent&&n.dispatchEvent),ae="unhandledrejection",ve="rejectionhandled",_e=1,Me=2,Se=1,Te=2,Re=q(Z,function(){var qe,De;return k(W)===String(W)&&(Y===66||!ye&&typeof PromiseRejectionEvent!="function")?!0:!(!m||W.prototype.finally)||!(51<=Y&&/native code/.test(W))&&(De=function(ie){ie(function(){},function(){})},((qe=W.resolve(1)).constructor={})[ee]=De,!(qe.then(function(){})instanceof De))}),Ye=Re||!L(function(qe){W.all(qe).catch(function(){})}),Fe=function(qe){var De;return!(!b(qe)||typeof(De=qe.then)!="function")&&De},pt=function(qe,De,ie){var ce;De.notified||(De.notified=!0,ce=De.reactions,N(function(){for(var re,he,Ee=De.value,Le=De.state==_e,He=0;ce.length>He;){var Qe,nt,st,ct=ce[He++],Mt=Le?ct.ok:ct.fail,Ct=ct.resolve,yt=ct.reject,Pt=ct.domain;try{Mt?(Le||(De.rejection===Te&&function(Et,Kt){M.call(n,function(){ye?oe.emit("rejectionHandled",Et):ot(ve,Et,Kt.value)})}(qe,De),De.rejection=Se),Mt===!0?Qe=Ee:(Pt&&Pt.enter(),Qe=Mt(Ee),Pt&&(Pt.exit(),st=!0)),Qe===ct.promise?yt(K("Promise-chain cycle")):(nt=Fe(Qe))?nt.call(Qe,Ct,yt):Ct(Qe)):yt(Ee)}catch(Et){Pt&&!st&&Pt.exit(),yt(Et)}}De.reactions=[],De.notified=!1,ie&&!De.rejection&&(re=qe,he=De,M.call(n,function(){var Et=he.value,Kt=it(he);if(Kt&&(Kt=z(function(){ye?oe.emit("unhandledRejection",Et,re):ot(ae,re,Et)}),he.rejection=ye||it(he)?Te:Se,Kt.error))throw Kt.value}))}))},ot=function(qe,De,ie){var ce;be?((ce=ne.createEvent("Event")).promise=De,ce.reason=ie,ce.initEvent(qe,!1,!0),n.dispatchEvent(ce)):ce={promise:De,reason:ie},(De=n["on"+qe])?De(ce):qe===ae&&G("Unhandled promise rejection",ie)},it=function(qe){return qe.rejection!==Se&&!qe.parent},ut=function(qe,De,ie,ce){return function(re){qe(De,ie,re,ce)}},lt=function(qe,De,ie,ce){De.done||(De.done=!0,(De=ce||De).value=ie,De.state=Me,pt(qe,De,!0))},Pe=function(qe,De,ie,ce){if(!De.done){De.done=!0,ce&&(De=ce);try{if(qe===ie)throw K("Promise can't be resolved itself");var re=Fe(ie);re?N(function(){var he={done:!1};try{re.call(ie,ut(Pe,qe,he,De),ut(lt,qe,he,De))}catch(Ee){lt(qe,he,Ee,De)}}):(De.value=ie,De.state=_e,pt(qe,De,!1))}catch(he){lt(qe,{done:!1},he,De)}}};Re&&(W=function(qe){w(this,W,Z),v(qe),l.call(this);var De=se(this);try{qe(ut(Pe,this,De),ut(lt,this,De))}catch(ie){lt(this,De,ie)}},(l=function(qe){P(this,{type:Z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(W.prototype,{then:function(qe,De){var ie=B(this),ce=ge(R(this,W));return ce.ok=typeof qe!="function"||qe,ce.fail=typeof De=="function"&&De,ce.domain=ye?oe.domain:void 0,ie.parent=!0,ie.reactions.push(ce),ie.state!=0&&pt(this,ie,!1),ce.promise},catch:function(qe){return this.then(void 0,qe)}}),f=function(){var qe=new l,De=se(qe);this.promise=qe,this.resolve=ut(Pe,qe,De),this.reject=ut(lt,qe,De)},V.f=ge=function(qe){return qe===W||qe===s?new f:de(qe)},m||typeof a!="function"||(c=a.prototype.then,i(a.prototype,"then",function(qe,De){var ie=this;return new W(function(ce,re){c.call(ie,ce,re)}).then(qe,De)},{unsafe:!0}),typeof fe=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(qe){return D(W,fe.apply(n,arguments))}}))),p({global:!0,wrap:!0,forced:Re},{Promise:W}),d(W,Z,!1,!0),h(Z),s=r(Z),p({target:Z,stat:!0,forced:Re},{reject:function(qe){var De=ge(this);return De.reject.call(void 0,qe),De.promise}}),p({target:Z,stat:!0,forced:m||Re},{resolve:function(qe){return D(m&&this===s?W:this,qe)}}),p({target:Z,stat:!0,forced:Ye},{all:function(qe){var De=this,ie=ge(De),ce=ie.resolve,re=ie.reject,he=z(function(){var Ee=v(De.resolve),Le=[],He=0,Qe=1;T(qe,function(nt){var st=He++,ct=!1;Le.push(void 0),Qe++,Ee.call(De,nt).then(function(Mt){ct||(ct=!0,Le[st]=Mt,--Qe||ce(Le))},re)}),--Qe||ce(Le)});return he.error&&re(he.value),ie.promise},race:function(qe){var De=this,ie=ge(De),ce=ie.reject,re=z(function(){var he=v(De.resolve);T(qe,function(Ee){he.call(De,Ee).then(ie.resolve,ce)})});return re.error&&ce(re.value),ie.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(n,_,y){var l=n("../internals/export"),u=n("../internals/get-built-in"),f=n("../internals/a-function"),s=n("../internals/an-object"),c=n("../internals/is-object"),p=n("../internals/object-create"),m=n("../internals/function-bind"),n=n("../internals/fails"),r=u("Reflect","construct"),a=n(function(){function d(){}return!(r(function(){},[],d)instanceof d)}),i=!n(function(){r(function(){})}),u=a||i;l({target:"Reflect",stat:!0,forced:u,sham:u},{construct:function(d,h){f(d),s(h);var b=arguments.length<3?d:f(arguments[2]);if(i&&!a)return r(d,h,b);if(d==b){switch(h.length){case 0:return new d;case 1:return new d(h[0]);case 2:return new d(h[0],h[1]);case 3:return new d(h[0],h[1],h[2]);case 4:return new d(h[0],h[1],h[2],h[3])}var v=[null];return v.push.apply(v,h),new(m.apply(d,v))}return v=b.prototype,b=p(c(v)?v:Object.prototype),v=Function.apply.call(d,b,h),c(v)?v:b}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/is-object"),s=t("../internals/an-object"),c=t("../internals/has"),p=t("../internals/object-get-own-property-descriptor"),m=t("../internals/object-get-prototype-of");l({target:"Reflect",stat:!0},{get:function n(r,a){var i,u=arguments.length<3?r:arguments[2];return s(r)===u?r[a]:(i=p.f(r,a))?c(i,"value")?i.value:i.get===void 0?void 0:i.get.call(u):f(i=m(r))?n(i,a,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,_,y){var l=t("../internals/descriptors"),f=t("../internals/global"),s=t("../internals/is-forced"),c=t("../internals/inherit-if-required"),p=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,n=t("../internals/is-regexp"),r=t("../internals/regexp-flags"),a=t("../internals/regexp-sticky-helpers"),i=t("../internals/redefine"),u=t("../internals/fails"),d=t("../internals/internal-state").set,h=t("../internals/set-species"),b=t("../internals/well-known-symbol")("match"),v=f.RegExp,w=v.prototype,E=/a/g,k=/a/g,T=new v(E)!==E,L=a.UNSUPPORTED_Y;if(l&&s("RegExp",!T||L||u(function(){return k[b]=!1,v(E)!=E||v(k)==k||v(E,"i")!="/a/i"}))){for(var R=function(D,G){var V,z=this instanceof R,$=n(D),q=G===void 0;return!z&&$&&D.constructor===R&&q?D:(T?$&&!q&&(D=D.source):D instanceof R&&(q&&(G=r.call(D)),D=D.source),L&&(V=!!G&&-1<G.indexOf("y"))&&(G=G.replace(/y/g,"")),$=c(T?new v(D,G):v(D,G),z?this:w,R),L&&V&&d($,{sticky:V}),$)},M=m(v),N=0;M.length>N;)(function(D){D in R||p(R,D,{configurable:!0,get:function(){return v[D]},set:function(G){v[D]=G}})})(M[N++]);(w.constructor=R).prototype=w,i(f,"RegExp",R)}h("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(f,_,y){var l=f("../internals/export"),f=f("../internals/regexp-exec");l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(c,_,y){var l=c("../internals/redefine"),f=c("../internals/an-object"),n=c("../internals/fails"),s=c("../internals/regexp-flags"),c="toString",p=RegExp.prototype,m=p[c],n=n(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),r=m.name!=c;(n||r)&&l(RegExp.prototype,c,function(){var a=f(this),i=String(a.source),u=a.flags;return"/"+i+"/"+String(u===void 0&&a instanceof RegExp&&!("flags"in p)?s.call(a):u)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(f,_,y){var l=f("../internals/collection"),f=f("../internals/collection-strong");_.exports=l("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},f)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(m,_,y){var l=m("../internals/export"),f=m("../internals/object-get-own-property-descriptor").f,s=m("../internals/to-length"),c=m("../internals/not-a-regexp"),p=m("../internals/require-object-coercible"),a=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),n="".endsWith,r=Math.min,a=a("endsWith");l({target:"String",proto:!0,forced:!!(m||a||!(l=f(String.prototype,"endsWith"))||l.writable)&&!a},{endsWith:function(i){var u=String(p(this)),d=(c(i),1<arguments.length?arguments[1]:void 0),h=s(u.length),d=d===void 0?h:r(s(d),h),h=String(i);return n?n.call(u,h,d):u.slice(d-h.length,d)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");l({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(s(this)).indexOf(f(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(s,_,y){var l=s("../internals/string-multibyte").charAt,f=s("../internals/internal-state"),s=s("../internals/define-iterator"),c="String Iterator",p=f.set,m=f.getterFor(c);s(String,"String",function(n){p(this,{type:c,string:String(n),index:0})},function(){var n=m(this),r=n.string,a=n.index;return a>=r.length?{value:void 0,done:!0}:(r=l(r,a),n.index+=r.length,{value:r,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,_,y){var l=t("../internals/fix-regexp-well-known-symbol-logic"),f=t("../internals/an-object"),s=t("../internals/to-length"),c=t("../internals/require-object-coercible"),p=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");l("match",1,function(n,r,a){return[function(i){var u=c(this),d=i==null?void 0:i[n];return d!==void 0?d.call(i,u):new RegExp(i)[n](String(u))},function(i){var u=a(r,i,this);if(u.done)return u.value;var d=f(i),h=String(this);if(!d.global)return m(d,h);for(var b=d.unicode,v=[],w=d.lastIndex=0;(E=m(d,h))!==null;){var E=String(E[0]);(v[w]=E)===""&&(d.lastIndex=p(h,s(d.lastIndex),b)),w++}return w===0?null:v}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/string-pad").start;l({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(s){return f(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,_,y){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,_,y){var l=t("../internals/fix-regexp-well-known-symbol-logic"),f=t("../internals/an-object"),s=t("../internals/to-object"),c=t("../internals/to-length"),p=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),n=t("../internals/advance-string-index"),r=t("../internals/regexp-exec-abstract"),a=Math.max,i=Math.min,u=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g;l("replace",2,function(b,v,w,E){var k=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=E.REPLACE_KEEPS_$0,L=k?"$":"$0";return[function(R,M){var N=m(this),D=R==null?void 0:R[b];return D!==void 0?D.call(R,N,M):v.call(String(N),R,M)},function(R,M){if(!k&&T||typeof M=="string"&&M.indexOf(L)===-1){var N=w(v,R,this,M);if(N.done)return N.value}for(var D,G=f(R),V=String(this),z=typeof M=="function",$=(z||(M=String(M)),G.global),q=($&&(D=G.unicode,G.lastIndex=0),[]);(P=r(G,V))!==null&&(q.push(P),$);)String(P[0])===""&&(G.lastIndex=n(V,c(G.lastIndex),D));for(var Y,ee="",Z=0,se=0;se<q.length;se++){for(var P=q[se],B=String(P[0]),W=a(i(p(P.index),V.length),0),K=[],ne=1;ne<P.length;ne++)K.push((Y=P[ne])===void 0?Y:String(Y));var oe=P.groups,fe=z?(fe=[B].concat(K,W,V),oe!==void 0&&fe.push(oe),String(M.apply(void 0,fe))):function(ge,de,ye,be,ae,ve){var _e=ye+ge.length,Me=be.length,Se=h;return ae!==void 0&&(ae=s(ae),Se=d),v.call(ve,Se,function(Te,Re){var Ye;switch(Re.charAt(0)){case"$":return"$";case"&":return ge;case"`":return de.slice(0,ye);case"'":return de.slice(_e);case"<":Ye=ae[Re.slice(1,-1)];break;default:var Fe,pt=+Re;if(pt==0)return Te;if(Me<pt)return(Fe=u(pt/10))!==0&&Fe<=Me?be[Fe-1]===void 0?Re.charAt(1):be[Fe-1]+Re.charAt(1):Te;Ye=be[pt-1]}return Ye===void 0?"":Ye})}(B,V,W,K,oe,M);Z<=W&&(ee+=V.slice(Z,W)+fe,Z=W+B.length)}return ee+V.slice(Z)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,_,y){var l=t("../internals/fix-regexp-well-known-symbol-logic"),f=t("../internals/an-object"),s=t("../internals/require-object-coercible"),c=t("../internals/same-value"),p=t("../internals/regexp-exec-abstract");l("search",1,function(m,n,r){return[function(a){var i=s(this),u=a==null?void 0:a[m];return u!==void 0?u.call(a,i):new RegExp(a)[m](String(i))},function(a){var i,u=r(n,a,this);return u.done?u.value:(u=f(a),a=String(this),i=u.lastIndex,c(i,0)||(u.lastIndex=0),a=p(u,a),c(u.lastIndex,i)||(u.lastIndex=i),a===null?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(i,_,y){var l=i("../internals/fix-regexp-well-known-symbol-logic"),f=i("../internals/is-regexp"),s=i("../internals/an-object"),c=i("../internals/require-object-coercible"),p=i("../internals/species-constructor"),m=i("../internals/advance-string-index"),n=i("../internals/to-length"),r=i("../internals/regexp-exec-abstract"),a=i("../internals/regexp-exec"),i=i("../internals/fails"),u=[].push,d=Math.min,h=4294967295,b=!i(function(){return!RegExp(h,"y")});l("split",2,function(v,w,E){var k="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(T,L){var R=String(c(this)),M=L===void 0?h:L>>>0;if(M==0)return[];if(T===void 0)return[R];if(!f(T))return w.call(R,T,M);for(var N,D,G,V=[],L=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(T.sticky?"y":""),z=0,$=new RegExp(T.source,L+"g");(N=a.call($,R))&&!(z<(D=$.lastIndex)&&(V.push(R.slice(z,N.index)),1<N.length&&N.index<R.length&&u.apply(V,N.slice(1)),G=N[0].length,z=D,V.length>=M));)$.lastIndex===N.index&&$.lastIndex++;return z===R.length?!G&&$.test("")||V.push(""):V.push(R.slice(z)),V.length>M?V.slice(0,M):V}:"0".split(void 0,0).length?function(T,L){return T===void 0&&L===0?[]:w.call(this,T,L)}:w;return[function(T,L){var R=c(this),M=T==null?void 0:T[v];return M!==void 0?M.call(T,R,L):k.call(String(R),T,L)},function(N,L){var R=E(k,N,this,L,k!==w);if(R.done)return R.value;var R=s(N),M=String(this),N=p(R,RegExp),D=R.unicode,G=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(b?"y":"g"),V=new N(b?R:"^(?:"+R.source+")",G),z=L===void 0?h:L>>>0;if(z==0)return[];if(M.length===0)return r(V,M)===null?[M]:[];for(var $=0,q=0,Y=[];q<M.length;){V.lastIndex=b?q:0;var ee,Z=r(V,b?M:M.slice(q));if(Z===null||(ee=d(n(V.lastIndex+(b?0:q)),M.length))===$)q=m(M,q,D);else{if(Y.push(M.slice($,q)),Y.length===z)return Y;for(var se=1;se<=Z.length-1;se++)if(Y.push(Z[se]),Y.length===z)return Y;q=$=ee}}return Y.push(M.slice($)),Y}]},!b)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(m,_,y){var l=m("../internals/export"),f=m("../internals/object-get-own-property-descriptor").f,s=m("../internals/to-length"),c=m("../internals/not-a-regexp"),p=m("../internals/require-object-coercible"),a=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),n="".startsWith,r=Math.min,a=a("startsWith");l({target:"String",proto:!0,forced:!!(m||a||!(l=f(String.prototype,"startsWith"))||l.writable)&&!a},{startsWith:function(h){var u=String(p(this)),d=(c(h),s(r(1<arguments.length?arguments[1]:void 0,u.length))),h=String(h);return n?n.call(u,h,d):u.slice(d,d+h.length)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/create-html");l({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return f(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,_,y){var l=t("../internals/export"),f=t("../internals/string-trim").trim;l({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return f(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(d,_,y){var l,f,s,c,p,m=d("../internals/export"),n=d("../internals/descriptors"),r=d("../internals/global"),a=d("../internals/has"),i=d("../internals/is-object"),u=d("../internals/object-define-property").f,d=d("../internals/copy-constructor-properties"),h=r.Symbol;!n||typeof h!="function"||"description"in h.prototype&&h().description===void 0||(l={},d(f=function(){var b=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),v=this instanceof f?new h(b):b===void 0?h():h(b);return b===""&&(l[v]=!0),v},h),(r=f.prototype=h.prototype).constructor=f,s=r.toString,c=String(h("test"))=="Symbol(test)",p=/^Symbol\((.*)\)[^)]+$/,u(r,"description",{configurable:!0,get:function(){var b=i(this)?this.valueOf():this,v=s.call(b);return a(l,b)?"":(b=c?v.slice(7,-1):v.replace(p,"$1"))===""?void 0:b}}),m({global:!0,forced:!0},{Symbol:f}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,_,y){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(de,_,y){function l(re,he){var Ee=Ye[re]=R(ve[ge]);return ye(Ee,{type:fe,tag:re,description:he}),a||(Ee.description=he),Ee}function f(re,Le){w(re);var Ee=k(Le),Le=M(Ee).concat(ce(Ee));return ne(Le,function(He){a&&!ie.call(Ee,He)||De(re,He,Ee[He])}),re}function s(Le,He){var Ee,Le=k(Le),He=T(He,!0);if(Le!==ae||!h(Ye,He)||h(Fe,He))return!(Ee=Me(Le,He))||!h(Ye,He)||h(Le,oe)&&Le[oe][He]||(Ee.enumerable=!0),Ee}function c(he){var he=Te(k(he)),Ee=[];return ne(he,function(Le){h(Ye,Le)||h(Z,Le)||Ee.push(Le)}),Ee}var p=de("../internals/export"),m=de("../internals/global"),n=de("../internals/get-built-in"),r=de("../internals/is-pure"),a=de("../internals/descriptors"),i=de("../internals/native-symbol"),u=de("../internals/use-symbol-as-uid"),d=de("../internals/fails"),h=de("../internals/has"),b=de("../internals/is-array"),v=de("../internals/is-object"),w=de("../internals/an-object"),E=de("../internals/to-object"),k=de("../internals/to-indexed-object"),T=de("../internals/to-primitive"),L=de("../internals/create-property-descriptor"),R=de("../internals/object-create"),M=de("../internals/object-keys"),N=de("../internals/object-get-own-property-names"),D=de("../internals/object-get-own-property-names-external"),G=de("../internals/object-get-own-property-symbols"),V=de("../internals/object-get-own-property-descriptor"),z=de("../internals/object-define-property"),$=de("../internals/object-property-is-enumerable"),q=de("../internals/create-non-enumerable-property"),Y=de("../internals/redefine"),ee=de("../internals/shared"),it=de("../internals/shared-key"),Z=de("../internals/hidden-keys"),se=de("../internals/uid"),P=de("../internals/well-known-symbol"),B=de("../internals/well-known-symbol-wrapped"),W=de("../internals/define-well-known-symbol"),K=de("../internals/set-to-string-tag"),ut=de("../internals/internal-state"),ne=de("../internals/array-iteration").forEach,oe=it("hidden"),fe="Symbol",ge="prototype",de=P("toPrimitive"),ye=ut.set,be=ut.getterFor(fe),ae=Object[ge],ve=m.Symbol,_e=n("JSON","stringify"),Me=V.f,Se=z.f,Te=D.f,Re=$.f,Ye=ee("symbols"),Fe=ee("op-symbols"),pt=ee("string-to-symbol-registry"),ot=ee("symbol-to-string-registry"),it=ee("wks"),ut=m.QObject,lt=!ut||!ut[ge]||!ut[ge].findChild,Pe=a&&d(function(){return R(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!=7})?function(re,he,Ee){var Le=Me(ae,he);Le&&delete ae[he],Se(re,he,Ee),Le&&re!==ae&&Se(ae,he,Le)}:Se,qe=u?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof ve},De=function(re,he,Ee){return re===ae&&De(Fe,he,Ee),w(re),he=T(he,!0),w(Ee),(h(Ye,he)?(Ee.enumerable?(h(re,oe)&&re[oe][he]&&(re[oe][he]=!1),Ee=R(Ee,{enumerable:L(0,!1)})):(h(re,oe)||Se(re,oe,L(1,{})),re[oe][he]=!0),Pe):Se)(re,he,Ee)},ie=function(he){var he=T(he,!0),Ee=Re.call(this,he);return!(this===ae&&h(Ye,he)&&!h(Fe,he))&&(!(Ee||!h(this,he)||!h(Ye,he)||h(this,oe)&&this[oe][he])||Ee)},ce=function(Ee){var he=Ee===ae,Ee=Te(he?Fe:k(Ee)),Le=[];return ne(Ee,function(He){!h(Ye,He)||he&&!h(ae,He)||Le.push(Ye[He])}),Le};i||(Y((ve=function(){if(this instanceof ve)throw TypeError("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,he=se(re),Ee=function(Le){this===ae&&Ee.call(Fe,Le),h(this,oe)&&h(this[oe],he)&&(this[oe][he]=!1),Pe(this,he,L(1,Le))};return a&&lt&&Pe(ae,he,{configurable:!0,set:Ee}),l(he,re)})[ge],"toString",function(){return be(this).tag}),Y(ve,"withoutSetter",function(re){return l(se(re),re)}),$.f=ie,z.f=De,V.f=s,N.f=D.f=c,G.f=ce,B.f=function(re){return l(P(re),re)},a&&(Se(ve[ge],"description",{configurable:!0,get:function(){return be(this).description}}),r||Y(ae,"propertyIsEnumerable",ie,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:ve}),ne(M(it),function(re){W(re)}),p({target:fe,stat:!0,forced:!i},{for:function(Ee){var he,Ee=String(Ee);return h(pt,Ee)?pt[Ee]:(he=ve(Ee),pt[Ee]=he,ot[he]=Ee,he)},keyFor:function(re){if(!qe(re))throw TypeError(re+" is not a symbol");if(h(ot,re))return ot[re]},useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),p({target:"Object",stat:!0,forced:!i,sham:!a},{create:function(re,he){return he===void 0?R(re):f(R(re),he)},defineProperty:De,defineProperties:f,getOwnPropertyDescriptor:s}),p({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:c,getOwnPropertySymbols:ce}),p({target:"Object",stat:!0,forced:d(function(){G.f(1)})},{getOwnPropertySymbols:function(re){return G.f(E(re))}}),_e&&p({target:"JSON",stat:!0,forced:!i||d(function(){var re=ve();return _e([re])!="[null]"||_e({a:re})!="{}"||_e(Object(re))!="{}"})},{stringify:function(re,he,Ee){for(var Le,He=[re],Qe=1;Qe<arguments.length;)He.push(arguments[Qe++]);if((v(Le=he)||re!==void 0)&&!qe(re))return b(he)||(he=function(nt,st){if(typeof Le=="function"&&(st=Le.call(this,nt,st)),!qe(st))return st}),He[1]=he,_e.apply(null,He)}}),ve[ge][de]||q(ve[ge],de,ve[ge].valueOf),K(ve,fe),Z[oe]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-copy-within"),s=l.aTypedArray;(0,l.exportTypedArrayMethod)("copyWithin",function(c,p){return f.call(s(this),c,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").every,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("every",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-fill"),s=l.aTypedArray;(0,l.exportTypedArrayMethod)("fill",function(c){return f.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),c=l.aTypedArray,p=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("filter",function(m){for(var n=f(c(this),m,1<arguments.length?arguments[1]:void 0),m=s(this,this.constructor),r=0,a=n.length,i=new(p(m))(a);r<a;)i[r]=n[r++];return i})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").findIndex,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("findIndex",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").find,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("find",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,_,y){t("../internals/typed-array-constructor")("Float32",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],220:[function(t,_,y){t("../internals/typed-array-constructor")("Float64",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],221:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").forEach,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("forEach",function(c){f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-includes").includes,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("includes",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-includes").indexOf,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("indexOf",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,_,y){t("../internals/typed-array-constructor")("Int16",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],225:[function(t,_,y){t("../internals/typed-array-constructor")("Int32",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],226:[function(f,_,y){function l(){return s.call(m(this))}var a=f("../internals/global"),r=f("../internals/array-buffer-view-core"),n=f("../modules/es.array.iterator"),f=f("../internals/well-known-symbol")("iterator"),a=a.Uint8Array,s=n.values,c=n.keys,p=n.entries,m=r.aTypedArray,n=r.exportTypedArrayMethod,r=a&&a.prototype[f],a=!!r&&(r.name=="values"||r.name==null);n("entries",function(){return p.call(m(this))}),n("keys",function(){return c.call(m(this))}),n("values",l,!a),n(f,l,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(f,_,y){var f=f("../internals/array-buffer-view-core"),l=f.aTypedArray,f=f.exportTypedArrayMethod,s=[].join;f("join",function(c){return s.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-last-index-of"),s=l.aTypedArray;(0,l.exportTypedArrayMethod)("lastIndexOf",function(c){return f.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),c=l.aTypedArray,p=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("map",function(m){return f(c(this),m,1<arguments.length?arguments[1]:void 0,function(n,r){return new(p(s(n,n.constructor)))(r)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-reduce").right,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduceRight",function(c){return f(s(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-reduce").left,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduce",function(c){return f(s(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(f,_,y){var f=f("../internals/array-buffer-view-core"),l=f.aTypedArray,f=f.exportTypedArrayMethod,s=Math.floor;f("reverse",function(){for(var c,p=l(this).length,m=s(p/2),n=0;n<m;)c=this[n],this[n++]=this[--p],this[p]=c;return this})},{"../internals/array-buffer-view-core":12}],233:[function(p,_,y){var l=p("../internals/array-buffer-view-core"),f=p("../internals/to-length"),s=p("../internals/to-offset"),c=p("../internals/to-object"),p=p("../internals/fails"),m=l.aTypedArray;(0,l.exportTypedArrayMethod)("set",function(n){m(this);var r=s(1<arguments.length?arguments[1]:void 0,1),a=this.length,i=c(n),u=f(i.length),d=0;if(a<u+r)throw RangeError("Wrong length");for(;d<u;)this[r+d]=i[d++]},p(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(f,_,y){var p=f("../internals/array-buffer-view-core"),l=f("../internals/species-constructor"),f=f("../internals/fails"),s=p.aTypedArray,c=p.aTypedArrayConstructor,p=p.exportTypedArrayMethod,m=[].slice;p("slice",function(n,r){for(var a=m.call(s(this),n,r),n=l(this,this.constructor),i=0,u=a.length,d=new(c(n))(u);i<u;)d[i]=a[i++];return d},f(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/array-iteration").some,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("some",function(c){return f(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(f,_,y){var f=f("../internals/array-buffer-view-core"),l=f.aTypedArray,f=f.exportTypedArrayMethod,s=[].sort;f("sort",function(c){return s.call(l(this),c)})},{"../internals/array-buffer-view-core":12}],237:[function(t,_,y){var l=t("../internals/array-buffer-view-core"),f=t("../internals/to-length"),s=t("../internals/to-absolute-index"),c=t("../internals/species-constructor"),p=l.aTypedArray;(0,l.exportTypedArrayMethod)("subarray",function(i,n){var r=p(this),a=r.length,i=s(i,a);return new(c(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,f((n===void 0?a:s(n,a))-i))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(f,_,y){var p=f("../internals/global"),l=f("../internals/array-buffer-view-core"),f=f("../internals/fails"),s=p.Int8Array,c=l.aTypedArray,p=l.exportTypedArrayMethod,m=[].toLocaleString,n=[].slice,r=!!s&&f(function(){m.call(new s(1))});p("toLocaleString",function(){return m.apply(r?n.call(c(this)):c(this),arguments)},f(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!f(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(f,_,y){var l=f("../internals/array-buffer-view-core").exportTypedArrayMethod,p=f("../internals/fails"),f=f("../internals/global").Uint8Array,f=f&&f.prototype||{},s=[].toString,c=[].join,p=(p(function(){s.call({})})&&(s=function(){return c.call(this)}),f.toString!=s);l("toString",s,p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,_,y){t("../internals/typed-array-constructor")("Uint16",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],241:[function(t,_,y){t("../internals/typed-array-constructor")("Uint32",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],242:[function(t,_,y){t("../internals/typed-array-constructor")("Uint8",function(l){return function(f,s,c){return l(this,f,s,c)}})},{"../internals/typed-array-constructor":144}],243:[function(t,_,y){t("../internals/typed-array-constructor")("Uint8",function(l){return function(f,s,c){return l(this,f,s,c)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(h,w,y){function l(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}}var f,s,c,p,m,b=h("../internals/global"),n=h("../internals/redefine-all"),r=h("../internals/internal-metadata"),a=h("../internals/collection"),i=h("../internals/collection-weak"),u=h("../internals/is-object"),d=h("../internals/internal-state").enforce,h=h("../internals/native-weak-map"),b=!b.ActiveXObject&&"ActiveXObject"in b,v=Object.isExtensible,w=w.exports=a("WeakMap",l,i);h&&b&&(f=i.getConstructor(l,"WeakMap",!0),r.REQUIRED=!0,a=w.prototype,s=a.delete,c=a.has,p=a.get,m=a.set,n(a,{delete:function(E){var k;return u(E)&&!v(E)?((k=d(this)).frozen||(k.frozen=new f),s.call(this,E)||k.frozen.delete(E)):s.call(this,E)},has:function(E){var k;return u(E)&&!v(E)?((k=d(this)).frozen||(k.frozen=new f),c.call(this,E)||k.frozen.has(E)):c.call(this,E)},get:function(E){var k;return!u(E)||v(E)||((k=d(this)).frozen||(k.frozen=new f),c.call(this,E))?p.call(this,E):k.frozen.get(E)},set:function(E,k){var T;return!u(E)||v(E)||((T=d(this)).frozen||(T.frozen=new f),c.call(this,E))?m.call(this,E,k):T.frozen.set(E,k),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,_,y){var l,f=t("../internals/global"),s=t("../internals/dom-iterables"),c=t("../internals/array-for-each"),p=t("../internals/create-non-enumerable-property");for(l in s){var m=f[l],m=m&&m.prototype;if(m&&m.forEach!==c)try{p(m,"forEach",c)}catch{m.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(m,_,y){var l,f=m("../internals/global"),s=m("../internals/dom-iterables"),c=m("../modules/es.array.iterator"),p=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),n=m("iterator"),r=m("toStringTag"),a=c.values;for(l in s){var i=f[l],u=i&&i.prototype;if(u){if(u[n]!==a)try{p(u,n,a)}catch{u[n]=a}if(u[r]||p(u,r,l),s[l]){for(var d in c)if(u[d]!==c[d])try{p(u,d,c[d])}catch{u[d]=c[d]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(oe,_,y){oe("../modules/es.array.iterator");function l(fe){try{return decodeURIComponent(fe)}catch{return fe}}function f(fe){return W[fe]}function s(fe){return encodeURIComponent(fe).replace(B,f)}function c(fe){this.entries.length=0,K(this.entries,fe)}function p(fe,ge){if(fe<ge)throw TypeError("Not enough arguments")}function m(){b(this,m,z);var fe,ge,de,ye,be,ae,ve,_e,Me=0<arguments.length?arguments[0]:void 0,Se=[];if(q(this,{type:z,entries:Se,updateURL:function(){},updateSearchParams:c}),Me!==void 0)if(T(Me))if(typeof(fe=N(Me))=="function")for(de=(ge=fe.call(Me)).next;!(ye=de.call(ge)).done;){if((ae=(be=(ye=M(k(ye.value))).next).call(ye)).done||(ve=be.call(ye)).done||!be.call(ye).done)throw TypeError("Expected sequence with length 2");Se.push({key:ae.value+"",value:ve.value+""})}else for(_e in Me)v(Me,_e)&&Se.push({key:_e,value:Me[_e]+""});else K(Se,typeof Me=="string"?Me.charAt(0)==="?"?Me.slice(1):Me:Me+"")}var n=oe("../internals/export"),V=oe("../internals/get-built-in"),r=oe("../internals/native-url"),a=oe("../internals/redefine"),i=oe("../internals/redefine-all"),u=oe("../internals/set-to-string-tag"),d=oe("../internals/create-iterator-constructor"),h=oe("../internals/internal-state"),b=oe("../internals/an-instance"),v=oe("../internals/has"),w=oe("../internals/function-bind-context"),E=oe("../internals/classof"),k=oe("../internals/an-object"),T=oe("../internals/is-object"),L=oe("../internals/object-create"),R=oe("../internals/create-property-descriptor"),M=oe("../internals/get-iterator"),N=oe("../internals/get-iterator-method"),oe=oe("../internals/well-known-symbol"),D=V("fetch"),G=V("Headers"),V=oe("iterator"),z="URLSearchParams",$=z+"Iterator",q=h.set,Y=h.getterFor(z),ee=h.getterFor($),Z=/\+/g,se=Array(4),P=function(fe){var ge,de=fe.replace(Z," "),ye=4;try{return decodeURIComponent(de)}catch{for(;ye;)de=de.replace((ge=ye--,se[ge-1]||(se[ge-1]=RegExp("((?:%[\\da-f]{2}){"+ge+"})","gi"))),l);return de}},B=/[!'()~]|%20/g,W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},K=function(fe,ge){if(ge)for(var de,ye=ge.split("&"),be=0;be<ye.length;)(de=ye[be++]).length&&(de=de.split("="),fe.push({key:P(de.shift()),value:P(de.join("="))}))},ne=d(function(fe,ge){q(this,{type:$,iterator:M(Y(fe).entries),kind:ge})},"Iterator",function(){var ge=ee(this),fe=ge.kind,ge=ge.iterator.next(),de=ge.value;return ge.done||(ge.value=fe==="keys"?de.key:fe==="values"?de.value:[de.key,de.value]),ge}),oe=m.prototype;i(oe,{append:function(fe,ge){p(arguments.length,2);var de=Y(this);de.entries.push({key:fe+"",value:ge+""}),de.updateURL()},delete:function(fe){p(arguments.length,1);for(var ge=Y(this),de=ge.entries,ye=fe+"",be=0;be<de.length;)de[be].key===ye?de.splice(be,1):be++;ge.updateURL()},get:function(fe){p(arguments.length,1);for(var ge=Y(this).entries,de=fe+"",ye=0;ye<ge.length;ye++)if(ge[ye].key===de)return ge[ye].value;return null},getAll:function(fe){p(arguments.length,1);for(var ge=Y(this).entries,de=fe+"",ye=[],be=0;be<ge.length;be++)ge[be].key===de&&ye.push(ge[be].value);return ye},has:function(fe){p(arguments.length,1);for(var ge=Y(this).entries,de=fe+"",ye=0;ye<ge.length;)if(ge[ye++].key===de)return!0;return!1},set:function(fe,ge){p(arguments.length,1);for(var de,ye=Y(this),be=ye.entries,ae=!1,ve=fe+"",_e=ge+"",Me=0;Me<be.length;Me++)(de=be[Me]).key===ve&&(ae?be.splice(Me--,1):(ae=!0,de.value=_e));ae||be.push({key:ve,value:_e}),ye.updateURL()},sort:function(){for(var fe,ge,de=Y(this),ye=de.entries,be=ye.slice(),ae=ye.length=0;ae<be.length;ae++){for(fe=be[ae],ge=0;ge<ae;ge++)if(ye[ge].key>fe.key){ye.splice(ge,0,fe);break}ge===ae&&ye.push(fe)}de.updateURL()},forEach:function(fe){for(var ge,de=Y(this).entries,ye=w(fe,1<arguments.length?arguments[1]:void 0,3),be=0;be<de.length;)ye((ge=de[be++]).value,ge.key,this)},keys:function(){return new ne(this,"keys")},values:function(){return new ne(this,"values")},entries:function(){return new ne(this,"entries")}},{enumerable:!0}),a(oe,V,oe.entries),a(oe,"toString",function(){for(var fe,ge=Y(this).entries,de=[],ye=0;ye<ge.length;)fe=ge[ye++],de.push(s(fe.key)+"="+s(fe.value));return de.join("&")},{enumerable:!0}),u(m,z),n({global:!0,forced:!r},{URLSearchParams:m}),r||typeof D!="function"||typeof G!="function"||n({global:!0,enumerable:!0,forced:!0},{fetch:function(be){var ge,de,ye,be=[be];return 1<arguments.length&&(T(ge=arguments[1])&&(de=ge.body,E(de)===z&&((ye=ge.headers?new G(ge.headers):new G).has("content-type")||ye.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ge=L(ge,{body:R(0,String(de)),headers:R(0,ye)}))),be.push(ge)),D.apply(this,be)}}),_.exports={URLSearchParams:m,getState:Y}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(M,_,y){M("../modules/es.string.iterator");function l(we){var Je,ft,Ze,Ft;if(typeof we=="number"){for(Je=[],ft=0;ft<4;ft++)Je.unshift(we%256),we=$(we/256);return Je.join(".")}if(typeof we!="object")return we;for(Je="",Ze=ve(we),ft=0;ft<8;ft++)Ft&&we[ft]===0||(Ft=Ft&&!1,Ze===ft?(Je+=ft?":":"::",Ft=!0):(Je+=we[ft].toString(16),ft<7&&(Je+=":")));return"["+Je+"]"}function f(we){return!we.host||we.cannotBeABaseURL||we.scheme=="file"}function s(we,Je,ft,Ze){var Ft,Ke,Vt,dt=ft||qe,kt=0,ht="",sr=!1,vr=!1,er=!1;for(ft||(we.scheme="",we.username="",we.password="",we.host=null,we.port=null,we.path=[],we.query=null,we.fragment=null,we.cannotBeABaseURL=!1,Je=Je.replace(ye,"")),Je=Je.replace(be,""),Ft=E(Je);kt<=Ft.length;){switch(Ke=Ft[kt],dt){case qe:if(!Ke||!P.test(Ke)){if(ft)return ee;dt=ie;continue}ht+=Ke.toLowerCase(),dt=De;break;case De:if(Ke&&(B.test(Ke)||Ke=="+"||Ke=="-"||Ke=="."))ht+=Ke.toLowerCase();else{if(Ke!=":"){if(ft)return ee;ht="",dt=ie,kt=0;continue}if(ft&&(Fe(we)!=v(Ye,ht)||ht=="file"&&(pt(we)||we.port!==null)||we.scheme=="file"&&!we.host))return;if(we.scheme=ht,ft)return void(Fe(we)&&Ye[we.scheme]==we.port&&(we.port=null));ht="",we.scheme=="file"?dt=Mt:Fe(we)&&Ze&&Ze.scheme==we.scheme?dt=ce:Fe(we)?dt=Le:Ft[kt+1]=="/"?(dt=re,kt++):(we.cannotBeABaseURL=!0,we.path.push(""),dt=Kt)}break;case ie:if(!Ze||Ze.cannotBeABaseURL&&Ke!="#")return ee;if(Ze.cannotBeABaseURL&&Ke=="#"){we.scheme=Ze.scheme,we.path=Ze.path.slice(),we.query=Ze.query,we.fragment="",we.cannotBeABaseURL=!0,dt=dr;break}dt=Ze.scheme=="file"?Mt:he;continue;case ce:if(Ke!="/"||Ft[kt+1]!="/"){dt=he;continue}dt=He,kt++;break;case re:if(Ke=="/"){dt=Qe;break}dt=Et;continue;case he:if(we.scheme=Ze.scheme,Ke==m)we.username=Ze.username,we.password=Ze.password,we.host=Ze.host,we.port=Ze.port,we.path=Ze.path.slice(),we.query=Ze.query;else if(Ke=="/"||Ke=="\\"&&Fe(we))dt=Ee;else if(Ke=="?")we.username=Ze.username,we.password=Ze.password,we.host=Ze.host,we.port=Ze.port,we.path=Ze.path.slice(),we.query="",dt=Tr;else{if(Ke!="#"){we.username=Ze.username,we.password=Ze.password,we.host=Ze.host,we.port=Ze.port,we.path=Ze.path.slice(),we.path.pop(),dt=Et;continue}we.username=Ze.username,we.password=Ze.password,we.host=Ze.host,we.port=Ze.port,we.path=Ze.path.slice(),we.query=Ze.query,we.fragment="",dt=dr}break;case Ee:if(!Fe(we)||Ke!="/"&&Ke!="\\"){if(Ke!="/"){we.username=Ze.username,we.password=Ze.password,we.host=Ze.host,we.port=Ze.port,dt=Et;continue}dt=Qe}else dt=He;break;case Le:if(dt=He,Ke!="/"||ht.charAt(kt+1)!="/")continue;kt++;break;case He:if(Ke=="/"||Ke=="\\")break;dt=Qe;continue;case Qe:if(Ke=="@"){sr&&(ht="%40"+ht);for(var sr=!0,Er=E(ht),fn=0;fn<Er.length;fn++){var Dr=Er[fn];Dr!=":"||er?(Dr=Re(Dr,Te),er?we.password+=Dr:we.username+=Dr):er=!0}ht=""}else if(Ke==m||Ke=="/"||Ke=="?"||Ke=="#"||Ke=="\\"&&Fe(we)){if(sr&&ht=="")return Y;kt-=E(ht).length+1,ht="",dt=nt}else ht+=Ke;break;case nt:case st:if(ft&&we.scheme=="file"){dt=yt;continue}if(Ke!=":"||vr){if(Ke==m||Ke=="/"||Ke=="?"||Ke=="#"||Ke=="\\"&&Fe(we)){if(Fe(we)&&ht=="")return Z;if(ft&&ht==""&&(pt(we)||we.port!==null))return;if(Vt=ae(we,ht))return Vt;if(ht="",dt=Pt,ft)return;continue}Ke=="["?vr=!0:Ke=="]"&&(vr=!1),ht+=Ke}else{if(ht=="")return Z;if(Vt=ae(we,ht))return Vt;if(ht="",dt=ct,ft==st)return}break;case ct:if(!W.test(Ke)){if(Ke==m||Ke=="/"||Ke=="?"||Ke=="#"||Ke=="\\"&&Fe(we)||ft){if(ht!=""){var jr=parseInt(ht,10);if(65535<jr)return se;we.port=Fe(we)&&jr===Ye[we.scheme]?null:jr,ht=""}if(ft)return;dt=Pt;continue}return se}ht+=Ke;break;case Mt:if(we.scheme="file",Ke=="/"||Ke=="\\")dt=Ct;else{if(!Ze||Ze.scheme!="file"){dt=Et;continue}if(Ke==m)we.host=Ze.host,we.path=Ze.path.slice(),we.query=Ze.query;else if(Ke=="?")we.host=Ze.host,we.path=Ze.path.slice(),we.query="",dt=Tr;else{if(Ke!="#"){it(Ft.slice(kt).join(""))||(we.host=Ze.host,we.path=Ze.path.slice(),ut(we)),dt=Et;continue}we.host=Ze.host,we.path=Ze.path.slice(),we.query=Ze.query,we.fragment="",dt=dr}}break;case Ct:if(Ke=="/"||Ke=="\\"){dt=yt;break}Ze&&Ze.scheme=="file"&&!it(Ft.slice(kt).join(""))&&(ot(Ze.path[0],!0)?we.path.push(Ze.path[0]):we.host=Ze.host),dt=Et;continue;case yt:if(Ke==m||Ke=="/"||Ke=="\\"||Ke=="?"||Ke=="#"){if(!ft&&ot(ht))dt=Et;else{if(ht==""){if(we.host="",ft)return}else{if(Vt=ae(we,ht))return Vt;if(we.host=="localhost"&&(we.host=""),ft)return;ht=""}dt=Pt}continue}ht+=Ke;break;case Pt:if(Fe(we)){if(dt=Et,Ke!="/"&&Ke!="\\")continue}else if(ft||Ke!="?")if(ft||Ke!="#"){if(Ke!=m&&(dt=Et,Ke!="/"))continue}else we.fragment="",dt=dr;else we.query="",dt=Tr;break;case Et:if(Ke==m||Ke=="/"||Ke=="\\"&&Fe(we)||!ft&&(Ke=="?"||Ke=="#")){if(Pe(ht)?(ut(we),Ke=="/"||Ke=="\\"&&Fe(we)||we.path.push("")):lt(ht)?Ke=="/"||Ke=="\\"&&Fe(we)||we.path.push(""):(we.scheme=="file"&&!we.path.length&&ot(ht)&&(we.host&&(we.host=""),ht=ht.charAt(0)+":"),we.path.push(ht)),ht="",we.scheme=="file"&&(Ke==m||Ke=="?"||Ke=="#"))for(;1<we.path.length&&we.path[0]==="";)we.path.shift();Ke=="?"?(we.query="",dt=Tr):Ke=="#"&&(we.fragment="",dt=dr)}else ht+=Re(Ke,Se);break;case Kt:Ke=="?"?(we.query="",dt=Tr):Ke=="#"?(we.fragment="",dt=dr):Ke!=m&&(we.path[0]+=Re(Ke,_e));break;case Tr:ft||Ke!="#"?Ke!=m&&(Ke=="'"&&Fe(we)?we.query+="%27":we.query+=Ke=="#"?"%23":Re(Ke,_e)):(we.fragment="",dt=dr);break;case dr:Ke!=m&&(we.fragment+=Re(Ke,Me))}kt++}}function c(Ke){var Je,ft,Ze=b(this,c,"URL"),Ft=1<arguments.length?arguments[1]:void 0,Ke=String(Ke),Vt=V(Ze,{type:"URL"});if(Ft!==void 0){if(Ft instanceof c)Je=z(Ft);else if(ft=s(Je={},String(Ft)))throw TypeError(ft)}if(ft=s(Vt,Ke,null,Je))throw TypeError(ft);var dt=Vt.searchParams=new D;(Ft=G(dt)).updateSearchParams(Vt.query),Ft.updateURL=function(){Vt.query=String(dt)||null},i||(Ze.href=Zt.call(Ze),Ze.origin=Nt.call(Ze),Ze.protocol=Or.call(Ze),Ze.username=lr.call(Ze),Ze.password=zt.call(Ze),Ze.host=gr.call(Ze),Ze.hostname=es.call(Ze),Ze.port=Ys.call(Ze),Ze.pathname=$s.call(Ze),Ze.search=Mo.call(Ze),Ze.searchParams=dn.call(Ze),Ze.hash=gs.call(Ze))}function p(we,Je){return{get:we,set:Je,configurable:!0,enumerable:!0}}var m,n,r,a=M("../internals/export"),i=M("../internals/descriptors"),u=M("../internals/native-url"),Bt=M("../internals/global"),d=M("../internals/object-define-properties"),h=M("../internals/redefine"),b=M("../internals/an-instance"),v=M("../internals/has"),w=M("../internals/object-assign"),E=M("../internals/array-from"),k=M("../internals/string-multibyte").codeAt,T=M("../internals/string-punycode-to-ascii"),L=M("../internals/set-to-string-tag"),R=M("../modules/web.url-search-params"),M=M("../internals/internal-state"),N=Bt.URL,D=R.URLSearchParams,G=R.getState,V=M.set,z=M.getterFor("URL"),$=Math.floor,q=Math.pow,Y="Invalid authority",ee="Invalid scheme",Z="Invalid host",se="Invalid port",P=/[A-Za-z]/,B=/[\d+-.A-Za-z]/,W=/\d/,K=/^(0x|0X)/,ne=/^[0-7]+$/,oe=/^\d+$/,fe=/^[\dA-Fa-f]+$/,ge=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,de=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ye=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,be=/[\u0009\u000A\u000D]/g,ae=function(we,Je){var ft,Ze,Ft;if(Je.charAt(0)=="[")return Je.charAt(Je.length-1)=="]"&&(ft=function(Ke){var Vt=[0,0,0,0,0,0,0,0],dt=0,kt=null,ht=0,sr,vr,er,Er,fn,Dr,jr,kr=function(){return Ke.charAt(ht)};if(kr()==":"){if(Ke.charAt(1)!=":")return;ht+=2,dt++,kt=dt}for(;kr();){if(dt==8)return;if(kr()==":"){if(kt!==null)return;ht++,dt++,kt=dt;continue}for(sr=vr=0;vr<4&&fe.test(kr());)sr=sr*16+parseInt(kr(),16),ht++,vr++;if(kr()=="."){if(vr==0||(ht-=vr,dt>6))return;for(er=0;kr();){if(Er=null,er>0)if(kr()=="."&&er<4)ht++;else return;if(!W.test(kr()))return;for(;W.test(kr());){if(fn=parseInt(kr(),10),Er===null)Er=fn;else{if(Er==0)return;Er=Er*10+fn}if(Er>255)return;ht++}Vt[dt]=Vt[dt]*256+Er,er++,(er==2||er==4)&&dt++}if(er!=4)return;break}else if(kr()==":"){if(ht++,!kr())return}else if(kr())return;Vt[dt++]=sr}if(kt!==null)for(Dr=dt-kt,dt=7;dt!=0&&Dr>0;)jr=Vt[dt],Vt[dt--]=Vt[kt+Dr-1],Vt[kt+--Dr]=jr;else if(dt!=8)return;return Vt}(Je.slice(1,-1)))?void(we.host=ft):Z;if(Fe(we))return Je=T(Je),ge.test(Je)||(ft=function(Ke){var Vt=Ke.split("."),dt,kt,ht,sr,vr,er,Er;if(Vt.length&&Vt[Vt.length-1]==""&&Vt.pop(),(dt=Vt.length)>4)return Ke;for(kt=[],ht=0;ht<dt;ht++){if(sr=Vt[ht],sr=="")return Ke;if(vr=10,sr.length>1&&sr.charAt(0)=="0"&&(vr=K.test(sr)?16:8,sr=sr.slice(vr==8?1:2)),sr==="")er=0;else{if(!(vr==10?oe:vr==8?ne:fe).test(sr))return Ke;er=parseInt(sr,vr)}kt.push(er)}for(ht=0;ht<dt;ht++)if(er=kt[ht],ht==dt-1){if(er>=q(256,5-dt))return null}else if(er>255)return null;for(Er=kt.pop(),ht=0;ht<kt.length;ht++)Er+=kt[ht]*q(256,3-ht);return Er}(Je))===null?Z:void(we.host=ft);if(de.test(Je))return Z;for(ft="",Ze=E(Je),Ft=0;Ft<Ze.length;Ft++)ft+=Re(Ze[Ft],_e);we.host=ft},ve=function(we){for(var Je=null,ft=1,Ze=null,Ft=0,Ke=0;Ke<8;Ke++)we[Ke]!==0?(ft<Ft&&(Je=Ze,ft=Ft),Ze=null,Ft=0):(Ze===null&&(Ze=Ke),++Ft);return ft<Ft&&(Je=Ze,ft=Ft),Je},_e={},Me=w({},_e,{" ":1,'"':1,"<":1,">":1,"`":1}),Se=w({},Me,{"#":1,"?":1,"{":1,"}":1}),Te=w({},Se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Re=function(we,Je){var ft=k(we,0);return 32<ft&&ft<127&&!v(Je,we)?we:encodeURIComponent(we)},Ye={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Fe=function(we){return v(Ye,we.scheme)},pt=function(we){return we.username!=""||we.password!=""},ot=function(we,Je){return we.length==2&&P.test(we.charAt(0))&&((we=we.charAt(1))==":"||!Je&&we=="|")},it=function(we){return 1<we.length&&ot(we.slice(0,2))&&(we.length==2||(we=we.charAt(2))==="/"||we==="\\"||we==="?"||we==="#")},ut=function(we){var Je=we.path,ft=Je.length;!ft||we.scheme=="file"&&ft==1&&ot(Je[0],!0)||Je.pop()},lt=function(we){return we==="."||we.toLowerCase()==="%2e"},Pe=function(we){return(we=we.toLowerCase())===".."||we==="%2e."||we===".%2e"||we==="%2e%2e"},qe={},De={},ie={},ce={},re={},he={},Ee={},Le={},He={},Qe={},nt={},st={},ct={},Mt={},Ct={},yt={},Pt={},Et={},Kt={},Tr={},dr={},Bt=c.prototype,Zt=function(){var we=z(this),Je=we.scheme,ft=we.username,Ze=we.password,Ft=we.host,Ke=we.port,Vt=we.path,dt=we.query,kt=we.fragment,ht=Je+":";return Ft!==null?(ht+="//",pt(we)&&(ht+=ft+(Ze?":"+Ze:"")+"@"),ht+=l(Ft),Ke!==null&&(ht+=":"+Ke)):Je=="file"&&(ht+="//"),ht+=we.cannotBeABaseURL?Vt[0]:Vt.length?"/"+Vt.join("/"):"",dt!==null&&(ht+="?"+dt),kt!==null&&(ht+="#"+kt),ht},Nt=function(){var we=z(this),Je=we.scheme,ft=we.port;if(Je=="blob")try{return new URL(Je.path[0]).origin}catch{return"null"}return Je!="file"&&Fe(we)?Je+"://"+l(we.host)+(ft!==null?":"+ft:""):"null"},Or=function(){return z(this).scheme+":"},lr=function(){return z(this).username},zt=function(){return z(this).password},gr=function(){var Je=z(this),we=Je.host,Je=Je.port;return we===null?"":Je===null?l(we):l(we)+":"+Je},es=function(){var we=z(this).host;return we===null?"":l(we)},Ys=function(){var we=z(this).port;return we===null?"":String(we)},$s=function(){var we=z(this),Je=we.path;return we.cannotBeABaseURL?Je[0]:Je.length?"/"+Je.join("/"):""},Mo=function(){var we=z(this).query;return we?"?"+we:""},dn=function(){return z(this).searchParams},gs=function(){var we=z(this).fragment;return we?"#"+we:""};i&&d(Bt,{href:p(Zt,function(ft){var Je=z(this),ft=String(ft),ft=s(Je,ft);if(ft)throw TypeError(ft);G(Je.searchParams).updateSearchParams(Je.query)}),origin:p(Nt),protocol:p(Or,function(we){var Je=z(this);s(Je,String(we)+":",qe)}),username:p(lr,function(we){var Je=z(this),ft=E(String(we));if(!f(Je)){Je.username="";for(var Ze=0;Ze<ft.length;Ze++)Je.username+=Re(ft[Ze],Te)}}),password:p(zt,function(we){var Je=z(this),ft=E(String(we));if(!f(Je)){Je.password="";for(var Ze=0;Ze<ft.length;Ze++)Je.password+=Re(ft[Ze],Te)}}),host:p(gr,function(we){var Je=z(this);Je.cannotBeABaseURL||s(Je,String(we),nt)}),hostname:p(es,function(we){var Je=z(this);Je.cannotBeABaseURL||s(Je,String(we),st)}),port:p(Ys,function(we){var Je=z(this);f(Je)||((we=String(we))==""?Je.port=null:s(Je,we,ct))}),pathname:p($s,function(we){var Je=z(this);Je.cannotBeABaseURL||(Je.path=[],s(Je,we+"",Pt))}),search:p(Mo,function(we){var Je=z(this);(we=String(we))==""?Je.query=null:(we.charAt(0)=="?"&&(we=we.slice(1)),Je.query="",s(Je,we,Tr)),G(Je.searchParams).updateSearchParams(Je.query)}),searchParams:p(dn),hash:p(gs,function(we){var Je=z(this);(we=String(we))==""?Je.fragment=null:(we.charAt(0)=="#"&&(we=we.slice(1)),Je.fragment="",s(Je,we,dr))})}),h(Bt,"toJSON",function(){return Zt.call(this)},{enumerable:!0}),h(Bt,"toString",function(){return Zt.call(this)},{enumerable:!0}),N&&(n=N.createObjectURL,r=N.revokeObjectURL,n&&h(c,"createObjectURL",function(we){return n.apply(N,arguments)}),r&&h(c,"revokeObjectURL",function(we){return r.apply(N,arguments)})),L(c,"URL"),a({global:!0,forced:!u,sham:!i},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,_,y){_.exports=t("./").polyfill()},{"./":250}],250:[function(t,_,y){(function(l,f){var s,c;s=this,c=function(){function p(ae){return typeof ae=="function"}var m=Array.isArray||function(ae){return Object.prototype.toString.call(ae)==="[object Array]"},n=0,r=void 0,a=void 0,i=function(ae,ve){w[n]=ae,w[n+1]=ve,(n+=2)===2&&(a?a(E):D())},u=typeof window<"u"?window:void 0,d=u||{},d=d.MutationObserver||d.WebKitMutationObserver,h=typeof self>"u"&&l!==void 0&&{}.toString.call(l)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function v(){var ae=setTimeout;return function(){return ae(E,1)}}var w=new Array(1e3);function E(){for(var ae=0;ae<n;ae+=2)(0,w[ae])(w[ae+1]),w[ae]=void 0,w[ae+1]=void 0;n=0}function k(){try{var ae=Function("return this")().require("vertx");return(r=ae.runOnLoop||ae.runOnContext)!==void 0?function(){r(E)}:v()}catch{return v()}}var T,L,R,D=void 0;function M(ae,ve){var _e,Me=this,Se=new this.constructor(V),Te=(Se[G]===void 0&&fe(Se),Me._state);return Te?(_e=arguments[Te-1],i(function(){return ne(Te,Se,_e,Me._result)})):W(Me,Se,ae,ve),Se}function N(ae){var ve;return ae&&typeof ae=="object"&&ae.constructor===this?ae:(Z(ve=new this(V),ae),ve)}var D=h?function(){return l.nextTick(E)}:d?(L=0,h=new d(E),R=document.createTextNode(""),h.observe(R,{characterData:!0}),function(){R.data=L=++L%2}):b?((T=new MessageChannel).port1.onmessage=E,function(){return T.port2.postMessage(0)}):(u===void 0&&typeof t=="function"?k:v)(),G=Math.random().toString(36).substring(2);function V(){}var z=void 0,$=1,q=2;function Y(ae,ve,_e){i(function(Me){var Se=!1,Te=function(Re,Ye,Fe,pt){try{Re.call(Ye,Fe,pt)}catch(ot){return ot}}(_e,ve,function(Re){Se||(Se=!0,(ve!==Re?Z:P)(Me,Re))},function(Re){Se||(Se=!0,B(Me,Re))},Me._label);!Se&&Te&&(Se=!0,B(Me,Te))},ae)}function ee(ae,ve,_e){var Me,Se;ve.constructor===ae.constructor&&_e===M&&ve.constructor.resolve===N?(Me=ae,(Se=ve)._state===$?P(Me,Se._result):Se._state===q?B(Me,Se._result):W(Se,void 0,function(Te){return Z(Me,Te)},function(Te){return B(Me,Te)})):_e!==void 0&&p(_e)?Y(ae,ve,_e):P(ae,ve)}function Z(ae,ve){if(ae===ve)B(ae,new TypeError("You cannot resolve a promise with itself"));else if(_e=typeof ve,ve===null||_e!="object"&&_e!="function")P(ae,ve);else{_e=void 0;try{_e=ve.then}catch(Me){return void B(ae,Me)}ee(ae,ve,_e)}var _e}function se(ae){ae._onerror&&ae._onerror(ae._result),K(ae)}function P(ae,ve){ae._state===z&&(ae._result=ve,ae._state=$,ae._subscribers.length!==0&&i(K,ae))}function B(ae,ve){ae._state===z&&(ae._state=q,ae._result=ve,i(se,ae))}function W(ae,ve,_e,Me){var Se=ae._subscribers,Te=Se.length;ae._onerror=null,Se[Te]=ve,Se[Te+$]=_e,Se[Te+q]=Me,Te===0&&ae._state&&i(K,ae)}function K(ae){var ve=ae._subscribers,_e=ae._state;if(ve.length!==0){for(var Me,Se=void 0,Te=ae._result,Re=0;Re<ve.length;Re+=3)Me=ve[Re],Se=ve[Re+_e],Me?ne(_e,Me,Se,Te):Se(Te);ae._subscribers.length=0}}function ne(ae,ve,_e,Me){var Se=p(_e),Te=void 0,Re=void 0,Ye=!0;if(Se){try{Te=_e(Me)}catch(Fe){Ye=!1,Re=Fe}if(ve===Te)return void B(ve,new TypeError("A promises callback cannot return that same promise."))}else Te=Me;ve._state===z&&(Se&&Ye?Z(ve,Te):Ye===!1?B(ve,Re):ae===$?P(ve,Te):ae===q&&B(ve,Te))}var oe=0;function fe(ae){ae[G]=oe++,ae._state=void 0,ae._result=void 0,ae._subscribers=[]}de.prototype._enumerate=function(ae){for(var ve=0;this._state===z&&ve<ae.length;ve++)this._eachEntry(ae[ve],ve)},de.prototype._eachEntry=function(ae,ve){var _e=this._instanceConstructor,Me=_e.resolve;if(Me===N){var Se,Te=void 0,Re=void 0,Ye=!1;try{Te=ae.then}catch(Fe){Ye=!0,Re=Fe}Te===M&&ae._state!==z?this._settledAt(ae._state,ve,ae._result):typeof Te!="function"?(this._remaining--,this._result[ve]=ae):_e===ye?(Se=new _e(V),Ye?B(Se,Re):ee(Se,ae,Te),this._willSettleAt(Se,ve)):this._willSettleAt(new _e(function(Fe){return Fe(ae)}),ve)}else this._willSettleAt(Me(ae),ve)},de.prototype._settledAt=function(ae,ve,_e){var Me=this.promise;Me._state===z&&(this._remaining--,ae===q?B(Me,_e):this._result[ve]=_e),this._remaining===0&&P(Me,this._result)},de.prototype._willSettleAt=function(ae,ve){var _e=this;W(ae,void 0,function(Me){return _e._settledAt($,ve,Me)},function(Me){return _e._settledAt(q,ve,Me)})};var ge=de;function de(ae,ve){this._instanceConstructor=ae,this.promise=new ae(V),this.promise[G]||fe(this.promise),m(ve)?(this.length=ve.length,this._remaining=ve.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ve),this._remaining!==0)||P(this.promise,this._result)):B(this.promise,new Error("Array Methods must be provided an Array"))}be.prototype.catch=function(ae){return this.then(null,ae)},be.prototype.finally=function(ae){var ve=this.constructor;return p(ae)?this.then(function(_e){return ve.resolve(ae()).then(function(){return _e})},function(_e){return ve.resolve(ae()).then(function(){throw _e})}):this.then(ae,ae)};var ye=be;function be(ae){if(this[G]=oe++,this._result=this._state=void 0,this._subscribers=[],V!==ae){if(typeof ae!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof be))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ve=this;try{ae(function(_e){Z(ve,_e)},function(_e){B(ve,_e)})}catch(_e){B(ve,_e)}}}return ye.prototype.then=M,ye.all=function(ae){return new ge(this,ae).promise},ye.race=function(ae){var ve=this;return m(ae)?new ve(function(_e,Me){for(var Se=ae.length,Te=0;Te<Se;Te++)ve.resolve(ae[Te]).then(_e,Me)}):new ve(function(_e,Me){return Me(new TypeError("You must pass an array to race."))})},ye.resolve=N,ye.reject=function(ae){var ve=new this(V);return B(ve,ae),ve},ye._setScheduler=function(ae){a=ae},ye._setAsap=function(ae){i=ae},ye._asap=i,ye.polyfill=function(){var ae=void 0;if(f!==void 0)ae=f;else if(typeof self<"u")ae=self;else try{ae=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ve=ae.Promise;if(ve){var _e=null;try{_e=Object.prototype.toString.call(ve.resolve())}catch{}if(_e==="[object Promise]"&&!ve.cast)return}ae.Promise=ye},ye.Promise=ye},typeof y=="object"&&_!==void 0?_.exports=c():s.ES6Promise=c()}).call(this,t("_process"),typeof ni<"u"?ni:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,_,y){var l,f;l=this,f=function(s,c){var p=5e3,m="callback";function n(a){try{delete window[a]}catch{window[a]=void 0}}function r(a){a=document.getElementById(a),a&&document.getElementsByTagName("head")[0].removeChild(a)}c.exports=function(a){var i=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=a,d=i.timeout||p,h=i.jsonpCallback||m,b=void 0;return new Promise(function(v,w){var E=i.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),k=h+"_"+E,T=(window[E]=function(L){v({ok:!0,json:function(){return Promise.resolve(L)}}),b&&clearTimeout(b),r(k),n(E)},u+=u.indexOf("?")===-1?"?":"&",document.createElement("script"));T.setAttribute("src",""+u+h+"="+E),i.charset&&T.setAttribute("charset",i.charset),T.id=k,document.getElementsByTagName("head")[0].appendChild(T),b=setTimeout(function(){w(new Error("JSONP request to "+a+" timed out")),n(E),r(k),window[E]=function(){n(E)}},d),T.onerror=function(){w(new Error("JSONP request to "+a+" failed")),n(E),r(k),b&&clearTimeout(b)}})}},y!==void 0&&_!==void 0?f(0,_):(f(f={exports:{}},f),l.fetchJsonp=f.exports)},{}],252:[function(t,_,y){var l=function(f){var s,c,p,m,n,r,a,i,u,d,h;if(!(f===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=f.document,s=function(){return f.URL||f.webkitURL||f},c=h.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in c,m=/constructor/i.test(f.HTMLElement)||f.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent),r=function(b){(f.setImmediate||f.setTimeout)(function(){throw b},0)},a=4e4,i=function(b){setTimeout(function(){typeof b=="string"?s().revokeObjectURL(b):b.remove()},a)},u=function(b){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b},h=(d=function(b,v,L){L||(b=u(b));var E,k,T=this,L=b.type==="application/octet-stream",R=function(){for(var M=T,N="writestart progress write writeend".split(" "),D=void 0,G=(N=[].concat(N)).length;G--;){var V=M["on"+N[G]];if(typeof V=="function")try{V.call(M,D||M)}catch(z){r(z)}}};T.readyState=T.INIT,p?(E=s().createObjectURL(b),setTimeout(function(){var M,N;c.href=E,c.download=v,M=c,N=new MouseEvent("click"),M.dispatchEvent(N),R(),i(E),T.readyState=T.DONE})):(n||L&&m)&&f.FileReader?((k=new FileReader).onloadend=function(){var M=n?k.result:k.result.replace(/^data:[^;]*;/,"data:attachment/file;");f.open(M,"_blank")||(f.location.href=M),M=void 0,T.readyState=T.DONE,R()},k.readAsDataURL(b),T.readyState=T.INIT):(E=E||s().createObjectURL(b),!L&&f.open(E,"_blank")||(f.location.href=E),T.readyState=T.DONE,R(),i(E))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(b,v,w){return v=v||b.name||"download",w||(b=u(b)),navigator.msSaveOrOpenBlob(b,v)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(b,v,w){return new d(b,v||b.name||"download",w)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);_!==void 0&&_.exports?_.exports.saveAs=l:A!=null},{}],253:[function(t,_,y){var l,f=Object.defineProperty,s=(f(y,"__esModule",{value:!0}),y),c={GIFEncoder:()=>R,applyPalette:()=>function(z,$,q="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<$.length)throw new Error("applyPalette() only works with 256 colors or less");const Y=new Uint32Array(z.buffer),ee=Y.length,Z=q==="rgb444"?4096:65536,se=new Uint8Array(ee),P=new Array(Z);if(q==="rgba4444")for(let be=0;be<ee;be++){var ne=Y[be],B=ne>>24&255,W=ne>>16&255,K=ne>>8&255,ne=255&ne,oe=i(ne,K,W,B),oe=oe in P?P[oe]:P[oe]=function(ae,ve,_e,Me,Se){let Te=0,Re=1e100;for(let ot=0;ot<Se.length;ot++){var Ye,Fe=Se[ot],pt=k(Fe[3]-Me);pt>Re||(Ye=Fe[0],(pt+=k(Ye-ae))>Re||(Ye=Fe[1],(pt+=k(Ye-ve))>Re||(Ye=Fe[2],(pt+=k(Ye-_e))>Re||(Re=pt,Te=ot))))}return Te}(ne,K,W,B,$);se[be]=oe}else{const be=q==="rgb444"?u:a;for(let ae=0;ae<ee;ae++){var de=Y[ae],fe=de>>16&255,ge=de>>8&255,de=255&de,ye=be(de,ge,fe),ye=ye in P?P[ye]:P[ye]=function(ve,_e,Me,Se){let Te=0,Re=1e100;for(let ot=0;ot<Se.length;ot++){var Ye,Fe=Se[ot],pt=k(Fe[0]-ve);pt>Re||(Ye=Fe[1],(pt+=k(Ye-_e))>Re||(Ye=Fe[2],(pt+=k(Ye-Me))>Re||(Re=pt,Te=ot)))}return Te}(de,ge,fe,$);se[ae]=ye}}return se},default:()=>V,nearestColor:()=>function(z,$,q=w){return z[T(z,$,q)]},nearestColorIndex:()=>T,nearestColorIndexWithDistance:()=>L,prequantize:()=>function(z,{roundRGB:$=5,roundAlpha:q=10,oneBitAlpha:Y=null}={}){const ee=new Uint32Array(z.buffer);for(let W=0;W<ee.length;W++){var B=ee[W];let K=B>>24&255;var Z,se=B>>16&255,P=B>>8&255,B=255&B;K=E(K,q),Y&&(Z=typeof Y=="number"?Y:127,K=K<=Z?0:255),B=E(B,$),P=E(P,$),se=E(se,$),ee[W]=K<<24|se<<16|P<<8|B<<0}},quantize:()=>function(z,$,q={}){var{format:Y="rgb565",clearAlpha:ee=!0,clearAlphaColor:Z=0,clearAlphaThreshold:se=0,oneBitAlpha:P=!1}=q;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let B=q.useSqrt!==!1;const W=Y==="rgba4444",K=function(it,ut){const lt=ut==="rgb444"?4096:65536,Pe=new Array(lt),qe=it.length;if(ut==="rgba4444")for(let Ct=0;Ct<qe;++Ct){var re=it[Ct],De=re>>24&255,ie=re>>16&255,ce=re>>8&255,re=255&re,he=i(re,ce,ie,De);let yt=he in Pe?Pe[he]:Pe[he]=v();yt.rc+=re,yt.gc+=ce,yt.bc+=ie,yt.ac+=De,yt.cnt++}else if(ut==="rgb444")for(let Ct=0;Ct<qe;++Ct){var He=it[Ct],Ee=He>>16&255,Le=He>>8&255,He=255&He,Qe=u(He,Le,Ee);let yt=Qe in Pe?Pe[Qe]:Pe[Qe]=v();yt.rc+=He,yt.gc+=Le,yt.bc+=Ee,yt.cnt++}else for(let Ct=0;Ct<qe;++Ct){var ct=it[Ct],nt=ct>>16&255,st=ct>>8&255,ct=255&ct,Mt=a(ct,st,nt);let yt=Mt in Pe?Pe[Mt]:Pe[Mt]=v();yt.rc+=ct,yt.gc+=st,yt.bc+=nt,yt.cnt++}return Pe}(z,Y),ne=K.length,oe=ne-1,fe=new Uint32Array(ne+1);for(var ge=0,de=0;de<ne;++de){const it=K[de];it!=null&&(Fe=1/it.cnt,W&&(it.ac*=Fe),it.rc*=Fe,it.gc*=Fe,it.bc*=Fe,K[ge++]=it)}h($)/ge<.022&&(B=!1);for(var ye,be,ae,de=0;de<ge-1;++de)K[de].fw=de+1,K[de+1].bk=de,B&&(K[de].cnt=Math.sqrt(K[de].cnt));for(B&&(K[de].cnt=Math.sqrt(K[de].cnt)),de=0;de<ge;++de){b(K,de);var ve=K[de].err;for(be=++fe[0];1<be&&(ae=be>>1,!(K[ye=fe[ae]].err<=ve));be=ae)fe[be]=ye;fe[be]=de}var _e,Me=ge-$;for(de=0;de<Me;){for(;;){var Se=fe[1];if((_e=K[Se]).tm>=_e.mtm&&K[_e.nn].mtm<=_e.tm)break;for(_e.mtm==oe?Se=fe[1]=fe[fe[0]--]:(b(K,Se),_e.tm=de),ve=K[Se].err,be=1;(ae=be+be)<=fe[0]&&(ae<fe[0]&&K[fe[ae]].err>K[fe[ae+1]].err&&ae++,!(ve<=K[ye=fe[ae]].err));be=ae)fe[be]=ye;fe[be]=Se}var Te=K[_e.nn],Re=_e.cnt,Ye=Te.cnt,Fe=1/(Re+Ye);W&&(_e.ac=Fe*(Re*_e.ac+Ye*Te.ac)),_e.rc=Fe*(Re*_e.rc+Ye*Te.rc),_e.gc=Fe*(Re*_e.gc+Ye*Te.gc),_e.bc=Fe*(Re*_e.bc+Ye*Te.bc),_e.cnt+=Te.cnt,_e.mtm=++de,K[Te.bk].fw=Te.fw,K[Te.fw].bk=Te.bk,Te.mtm=oe}let pt=[];for(de=0;;0){let it=d(Math.round(K[de].rc),0,255),ut=d(Math.round(K[de].gc),0,255),lt=d(Math.round(K[de].bc),0,255),Pe=255;W&&(Pe=d(Math.round(K[de].ac),0,255),P&&(ot=typeof P=="number"?P:127,Pe=Pe<=ot?0:255),ee&&Pe<=se&&(it=ut=lt=Z,Pe=0));var ot=W?[it,ut,lt,Pe]:[it,ut,lt];if(function(qe,De){for(let re=0;re<qe.length;re++){var ce=qe[re],ie=ce[0]===De[0]&&ce[1]===De[1]&&ce[2]===De[2],ce=!(4<=ce.length&&4<=De.length)||ce[3]===De[3];if(ie&&ce)return!0}return!1}(pt,ot)||pt.push(ot),(de=K[de].fw)==0)break}return pt},snapColorsToPalette:()=>function(z,$,q=5){if(z.length&&$.length){var Y=z.map(B=>B.slice(0,3)),ee=q*q,Z=z[0].length;for(let B=0;B<$.length;B++){let W=$[B];W=W.length<Z?[W[0],W[1],W[2],255]:W.length>Z?W.slice(0,3):W.slice();var P=L(Y,W.slice(0,3),w),se=P[0],P=P[1];0<P&&P<=ee&&(z[se]=W)}}}};for(l in c)f(s,l,{get:c[l],enumerable:!0});var p={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function m(z=256){let $=0,q=new Uint8Array(z);return{get buffer(){return q.buffer},reset(){$=0},bytesView(){return q.subarray(0,$)},bytes(){return q.slice(0,$)},writeByte(ee){Y($+1),q[$]=ee,$++},writeBytes(ee,Z=0,se=ee.length){Y($+se);for(let P=0;P<se;P++)q[$++]=ee[P+Z]},writeBytesView(ee,Z=0,se=ee.byteLength){Y($+se),q.set(ee.subarray(Z,Z+se),$),$+=se}};function Y(ee){var Z=q.length;if(!(ee<=Z)){ee=Math.max(ee,Z*(Z<1048576?2:1.125)>>>0),Z!=0&&(ee=Math.max(ee,256));const se=q;q=new Uint8Array(ee),0<$&&q.set(se.subarray(0,$),0)}}}var n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],r=function(z,$,q,W,ee=m(512),Z=new Uint8Array(256),se=new Int32Array(5003),P=new Int32Array(5003)){var B=se.length,W=Math.max(2,W);Z.fill(0),P.fill(0),se.fill(-1);let K=0,ne=0;var oe=W+1;const fe=oe;let ge=!1,de=fe,ye=(1<<de)-1;var be=1<<oe-1;const ae=1+be;let ve=2+be,_e=0,Me=q[0],Se=0;for(let ot=B;ot<65536;ot*=2)++Se;Se=8-Se,ee.writeByte(W),pt(be);var Te=q.length;for(let ot=1;ot<Te;ot++)e:{var Re=q[ot],Ye=(Re<<12)+Me;let it=Re<<Se^Me;if(se[it]===Ye)Me=P[it];else{for(var Fe=it===0?1:B-it;0<=se[it];)if((it-=Fe)<0&&(it+=B),se[it]===Ye){Me=P[it];break e}pt(Me),Me=Re,ve<4096?(P[it]=ve++,se[it]=Ye):(se.fill(-1),ve=2+be,ge=!0,pt(be))}}return pt(Me),pt(ae),ee.writeByte(0),ee.bytesView();function pt(ot){for(K&=n[ne],0<ne?K|=ot<<ne:K=ot,ne+=de;8<=ne;)Z[_e++]=255&K,254<=_e&&(ee.writeByte(_e),ee.writeBytesView(Z,0,_e),_e=0),K>>=8,ne-=8;if((ve>ye||ge)&&(ge?(de=fe,ye=(1<<de)-1,ge=!1):(++de,ye=de===12?1<<de:(1<<de)-1)),ot==ae){for(;0<ne;)Z[_e++]=255&K,254<=_e&&(ee.writeByte(_e),ee.writeBytesView(Z,0,_e),_e=0),K>>=8,ne-=8;0<_e&&(ee.writeByte(_e),ee.writeBytesView(Z,0,_e),_e=0)}}};function a(z,$,q){return z<<8&63488|$<<2&992|q>>3}function i(z,$,q,Y){return z>>4|240&$|(240&q)<<4|(240&Y)<<8}function u(z,$,q){return z>>4<<8|240&$|q>>4}function d(z,$,q){return z<$?$:q<z?q:z}function h(z){return z*z}function b(z,$,q){var Y=0,ee=1e100;const Z=z[$];for(var se=Z.cnt,P=Z.ac,B=Z.rc,W=Z.gc,K=Z.bc,ne=Z.fw;ne!=0;ne=z[ne].fw){var oe,fe=z[ne],ge=fe.cnt,ge=se*ge/(se+ge);ee<=ge||(oe=0,ee<=(oe+=ge*h(fe.rc-B))||ee<=(oe+=ge*h(fe.gc-W))||ee<=(oe+=ge*h(fe.bc-K))||(ee=oe,Y=ne))}Z.err=ee,Z.nn=Y}function v(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function w(z,$){for(var q=0,Y=0;Y<z.length;Y++){var ee=z[Y]-$[Y];q+=ee*ee}return q}function E(z,$){return 1<$?Math.round(z/$)*$:z}function k(z){return z*z}function T(z,$,q=w){let Y=1/0,ee=-1;for(let se=0;se<z.length;se++){var Z=q($,z[se]);Z<Y&&(Y=Z,ee=se)}return ee}function L(z,$,q=w){let Y=1/0,ee=-1;for(let se=0;se<z.length;se++){var Z=q($,z[se]);Z<Y&&(Y=Z,ee=se)}return[ee,Y]}function R(z={}){const{initialCapacity:$=4096,auto:q=!0}=z,Y=m($),ee=new Uint8Array(256),Z=new Int32Array(5003),se=new Int32Array(5003);let P=!1;return{reset(){Y.reset(),P=!1},finish(){Y.writeByte(p.trailer)},bytes(){return Y.bytes()},bytesView(){return Y.bytesView()},get buffer(){return Y.buffer},get stream(){return Y},writeHeader:B,writeFrame(W,K,ne,Me={}){var{transparent:fe=!1,transparentIndex:ge=0,delay:Fe=0,palette:de=null,repeat:Te=0,colorDepth:ye=8,dispose:be=-1}=Me;let ae=!1;if(q?P||(ae=!0,B(),P=!0):ae=!!Me.first,K=Math.max(0,Math.floor(K)),ne=Math.max(0,Math.floor(ne)),ae){if(!de)throw new Error("First frame must include a { palette } option");var[Me,Re,_e,Ye,Se=8]=[Y,K,ne,de,ye];Ye=G(Ye.length)-1,Se=128|Se-1<<4|Ye,N(Me,Re),N(Me,_e),Me.writeBytes([Se,0,0]),M(Y,de),0<=Te&&(Ye=Y,Re=Te,Ye.writeByte(33),Ye.writeByte(255),Ye.writeByte(11),D(Ye,"NETSCAPE2.0"),Ye.writeByte(3),Ye.writeByte(1),N(Ye,Re),Ye.writeByte(0))}var ve,_e=Math.round(Fe/10),Me=Y,Se=be,Te=_e,Re=fe,Ye=ge,Fe=(Me.writeByte(33),Me.writeByte(249),Me.writeByte(4),Ye<0&&(Ye=0,Re=!1),Re=Re?(ve=1,2):ve=0,0<=Se&&(Re=7&Se),Re<<=2,Me.writeByte(0|Re|ve),N(Me,Te),Me.writeByte(Ye||0),Me.writeByte(0),!!de&&!ae);be=Y,fe=K,ge=ne,ve=Fe?de:null,be.writeByte(44),N(be,0),N(be,0),N(be,fe),N(be,ge),ve?(fe=G(ve.length)-1,be.writeByte(128|fe)):be.writeByte(0),Fe&&M(Y,de),[Te,Me,ge,fe,be=8,Fe,de,W]=[Y,W,K,ne,ye,ee,Z,se],r(ge,fe,Me,be,Te,Fe,de,W)}};function B(){D(Y,"GIF89a")}}function M(z,$){var q=1<<G($.length);for(let Y=0;Y<q;Y++){let ee=[0,0,0];Y<$.length&&(ee=$[Y]),z.writeByte(ee[0]),z.writeByte(ee[1]),z.writeByte(ee[2])}}function N(z,$){z.writeByte(255&$),z.writeByte($>>8&255)}function D(z,$){for(var q=0;q<$.length;q++)z.writeByte($.charCodeAt(q))}function G(z){return Math.max(Math.ceil(Math.log2(z)),1)}var V=R},{}],254:[function(t,_,y){y.read=function(l,f,s,c,b){var m,n,r=8*b-c-1,a=(1<<r)-1,i=a>>1,u=-7,d=s?b-1:0,h=s?-1:1,b=l[f+d];for(d+=h,m=b&(1<<-u)-1,b>>=-u,u+=r;0<u;m=256*m+l[f+d],d+=h,u-=8);for(n=m&(1<<-u)-1,m>>=-u,u+=c;0<u;n=256*n+l[f+d],d+=h,u-=8);if(m===0)m=1-i;else{if(m===a)return n?NaN:1/0*(b?-1:1);n+=Math.pow(2,c),m-=i}return(b?-1:1)*n*Math.pow(2,m-c)},y.write=function(l,f,s,c,p,v){var n,r,a=8*v-p-1,i=(1<<a)-1,u=i>>1,d=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=c?0:v-1,b=c?1:-1,v=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(r=isNaN(f)?1:0,n=i):(n=Math.floor(Math.log(f)/Math.LN2),f*(c=Math.pow(2,-n))<1&&(n--,c*=2),2<=(f+=1<=n+u?d/c:d*Math.pow(2,1-u))*c&&(n++,c/=2),i<=n+u?(r=0,n=i):1<=n+u?(r=(f*c-1)*Math.pow(2,p),n+=u):(r=f*Math.pow(2,u-1)*Math.pow(2,p),n=0));8<=p;l[s+h]=255&r,h+=b,r/=256,p-=8);for(n=n<<p|r,a+=p;0<a;l[s+h]=255&n,h+=b,n/=256,a-=8);l[s+h-b]|=128*v}},{}],255:[function(t,_,y){var l;function f(ie,ce){return ie.b===ce.b&&ie.a===ce.a}function s(ie,ce){return ie.b<ce.b||ie.b===ce.b&&ie.a<=ce.a}function c(ie,ce,re){var he=ce.b-ie.b,Ee=re.b-ce.b;return 0<he+Ee?he<Ee?ce.a-ie.a+he/(he+Ee)*(ie.a-re.a):ce.a-re.a+Ee/(he+Ee)*(re.a-ie.a):0}function p(ie,ce,re){var he=ce.b-ie.b,Ee=re.b-ce.b;return 0<he+Ee?(ce.a-re.a)*he+(ce.a-ie.a)*Ee:0}function m(ie,ce){return ie.a<ce.a||ie.a===ce.a&&ie.b<=ce.b}function n(ie,ce,re){var he=ce.a-ie.a,Ee=re.a-ce.a;return 0<he+Ee?he<Ee?ce.b-ie.b+he/(he+Ee)*(ie.b-re.b):ce.b-re.b+Ee/(he+Ee)*(re.b-ie.b):0}function r(ie,ce,re){var he=ce.a-ie.a,Ee=re.a-ce.a;return 0<he+Ee?(ce.b-re.b)*he+(ce.b-ie.b)*Ee:0}function a(ie,ce,re,he){return(ie=ie<0?0:ie)<=(re=re<0?0:re)?re===0?(ce+he)/2:ce+ie/(ie+re)*(he-ce):he+re/(ie+re)*(ce-he)}function i(ie){var ce=v(ie.b);return E(ce,ie.c),E(ce.b,ie.c),k(ce,ie.a),ce}function u(ie,ce){var re=!1,he=!1;ie!==ce&&(ce.a!==ie.a&&(he=!0,L(ce.a,ie.a)),ce.d!==ie.d&&(re=!0,R(ce.d,ie.d)),w(ce,ie),he||(E(ce,ie.a),ie.a.c=ie),re||(k(ce,ie.d),ie.d.a=ie))}function d(ie){var ce=ie.b,re=!1;ie.d!==ie.b.d&&(re=!0,R(ie.d,ie.b.d)),ie.c===ie?L(ie.a,null):(ie.b.d.a=ie.b.e,ie.a.c=ie.c,w(ie,ie.b.e),re||k(ie,ie.d)),ce.c===ce?(L(ce.a,null),R(ce.d,null)):(ie.d.a=ce.b.e,ce.a.c=ce.c,w(ce,ce.b.e)),T(ie)}function h(ie){var ce=v(ie),re=ce.b;return w(ce,ie.e),ce.a=ie.b.a,E(re,ce.a),ce.d=re.d=ie.d,ce=ce.b,w(ie.b,ie.b.b.e),w(ie.b,ce),ie.b.a=ce.a,ce.b.a.c=ce.b,ce.b.d=ie.b.d,ce.f=ie.f,ce.b.f=ie.b.f,ce}function b(ie,ce){var re=!1,he=v(ie),Ee=he.b;return ce.d!==ie.d&&(re=!0,R(ce.d,ie.d)),w(he,ie.e),w(Ee,ce),he.a=ie.b.a,Ee.a=ce.a,he.d=Ee.d=ie.d,ie.d.a=Ee,re||k(he,ie.d),he}function v(ie){var ce=new _e,re=new _e,he=ie.b.h;return(((re.h=he).b.h=ce).h=ie).b.h=re,ce.b=re,((ce.c=ce).e=re).b=ce,(re.c=re).e=ce}function w(ie,ce){var re=ie.c,he=ce.c;re.b.e=ce,(he.b.e=ie).c=he,ce.c=re}function E(ie,ce){var re=ce.f,he=new Se(ce,re);for(re.e=he,re=(ce.f=he).c=ie;re.a=he,(re=re.c)!==ie;);}function k(ie,ce){var re=ce.d,he=new ve(ce,re);for(re.b=he,(ce.d=he).a=ie,he.c=ce.c,re=ie;re.d=he,(re=re.e)!==ie;);}function T(ie){var ce=ie.h;ie=ie.b.h,(ce.b.h=ie).b.h=ce}function L(ie,ce){for(var re=ie.c,he=re;he.a=ce,(he=he.c)!==re;);re=ie.f,((he=ie.e).f=re).e=he}function R(ie,ce){for(var re=ie.a,he=re;he.d=ce,(he=he.e)!==re;);re=ie.d,((he=ie.b).d=re).b=he}function M(ie){var ce=0;return Math.abs(ie[1])>Math.abs(ie[0])&&(ce=1),ce=Math.abs(ie[2])>Math.abs(ie[ce])?2:ce}function N(ie,ce){ie.f+=ce.f,ie.b.f+=ce.b.f}function D(ie,ce,re){return ie=ie.a,ce=ce.a,re=re.a,ce.b.a===ie?re.b.a===ie?s(ce.a,re.a)?p(re.b.a,ce.a,re.a)<=0:0<=p(ce.b.a,re.a,ce.a):p(re.b.a,ie,re.a)<=0:re.b.a===ie?0<=p(ce.b.a,ie,ce.a):(ce=c(ce.b.a,ie,ce.a),(ie=c(re.b.a,ie,re.a))<=ce)}function G(ie){ie.a.i=null;var ce=ie.e;ce.a.c=ce.c,ce.c.a=ce.a,ie.e=null}function V(ie,ce){d(ie.a),ie.c=!1,(ie.a=ce).i=ie}function z(ie){for(var ce=ie.a.a;(ie=De(ie)).a.a===ce;);return ie.c&&(V(ie,ce=b(qe(ie).a.b,ie.a.e)),ie=De(ie)),ie}function $(ie,ce,re){var he=new Pe;return he.a=re,he.e=ge(ie.f,ce.e,he),re.i=he}function q(ie,ce){switch(ie.s){case 100130:return(1&ce)!=0;case 100131:return ce!==0;case 100132:return 0<ce;case 100133:return ce<0;case 100134:return 2<=ce||ce<=-2}return!1}function Y(ie){var ce=ie.a,re=ce.d;re.c=ie.d,re.a=ce,G(ie)}function ee(ie,ce,re){for(ce=(ie=ce).a;ie!==re;){ie.c=!1;var he=qe(ie),Ee=he.a;if(Ee.a!==ce.a){if(!he.c){Y(ie);break}V(he,Ee=b(ce.c.b,Ee.b))}ce.c!==Ee&&(u(Ee.b.e,Ee),u(ce,Ee)),Y(ie),ce=he.a,ie=he}return ce}function Z(ie,ce,re,he,Ee,Le){for(var He=!0;$(ie,ce,re.b),(re=re.c)!==he;);for(Ee===null&&(Ee=qe(ce).a.b.c);(re=(he=qe(ce)).a.b).a===Ee.a;)re.c!==Ee&&(u(re.b.e,re),u(Ee.b.e,re)),he.f=ce.f-re.f,he.d=q(ie,he.f),ce.b=!0,!He&&W(ie,ce)&&(N(re,Ee),G(ce),d(Ee)),He=!1,ce=he,Ee=re;ce.b=!0,Le&&ne(ie,ce)}function se(ie,ce,re,he,Ee){var Le=[ce.g[0],ce.g[1],ce.g[2]];ce.d=null,ce.d=ie.o&&ie.o(Le,re,he,ie.c)||null,ce.d===null&&(Ee?ie.n||(ae(ie,100156),ie.n=!0):ce.d=re[0])}function P(ie,ce,re){var he=[null,null,null,null];he[0]=ce.a.d,he[1]=re.a.d,se(ie,ce.a,he,[.5,.5,0,0],!1),u(ce,re)}function B(ie,ce,re,he,Ee){var Le=Math.abs(ce.b-ie.b)+Math.abs(ce.a-ie.a),He=Math.abs(re.b-ie.b)+Math.abs(re.a-ie.a),Qe=Ee+1;he[Ee]=.5*He/(Le+He),he[Qe]=.5*Le/(Le+He),ie.g[0]+=he[Ee]*ce.g[0]+he[Qe]*re.g[0],ie.g[1]+=he[Ee]*ce.g[1]+he[Qe]*re.g[1],ie.g[2]+=he[Ee]*ce.g[2]+he[Qe]*re.g[2]}function W(ie,ce){var re=qe(ce),he=ce.a,Ee=re.a;if(s(he.a,Ee.a)){if(0<p(Ee.b.a,he.a,Ee.a))return;if(f(he.a,Ee.a)){if(he.a!==Ee.a){var re=ie.e,Le=he.a.h;if(0<=Le){var He=(re=re.b).d,Qe=re.e,nt=re.c,st=nt[Le];He[st]=He[re.a],(nt[He[st]]=st)<=--re.a&&(st<=1||s(Qe[He[st>>1]],Qe[He[st]])?ut:lt)(re,st),Qe[Le]=null,nt[Le]=re.b,re.b=Le}else for(re.c[-(Le+1)]=null;0<re.a&&re.c[re.d[re.a-1]]===null;)--re.a;P(ie,Ee.b.e,he)}}else h(Ee.b),u(he,Ee.b.e),ce.b=re.b=!0}else{if(p(he.b.a,Ee.a,he.a)<0)return;De(ce).b=ce.b=!0,h(he.b),u(Ee.b.e,he)}return 1}function K(ie,ce){var re=qe(ce),he=ce.a,Ee=re.a,Le=he.a,He=Ee.a,Qe=he.b.a,nt=Ee.b.a,st=new Se;if(p(Qe,ie.a,Le),p(nt,ie.a,He),!(Le===He||Math.min(Le.a,Qe.a)>Math.max(He.a,nt.a))){if(s(Le,He)){if(0<p(nt,Le,He))return}else if(p(Qe,He,Le)<0)return;var ct,Mt,Ct=Qe,yt=Le,Pt=nt,Et=He;if(s(Ct,yt)||(ct=Ct,Ct=yt,yt=ct),s(Pt,Et)||(ct=Pt,Pt=Et,Et=ct),s(Ct,Pt)||(ct=Ct,Ct=Pt,Pt=ct,ct=yt,yt=Et,Et=ct),s(Pt,yt)?s(yt,Et)?((ct=c(Ct,Pt,yt))+(Mt=c(Pt,yt,Et))<0&&(ct=-ct,Mt=-Mt),st.b=a(ct,Pt.b,Mt,yt.b)):((ct=p(Ct,Pt,yt))+(Mt=-p(Ct,Et,yt))<0&&(ct=-ct,Mt=-Mt),st.b=a(ct,Pt.b,Mt,Et.b)):st.b=(Pt.b+yt.b)/2,m(Ct,yt)||(ct=Ct,Ct=yt,yt=ct),m(Pt,Et)||(ct=Pt,Pt=Et,Et=ct),m(Ct,Pt)||(ct=Ct,Ct=Pt,Pt=ct,ct=yt,yt=Et,Et=ct),m(Pt,yt)?m(yt,Et)?((ct=n(Ct,Pt,yt))+(Mt=n(Pt,yt,Et))<0&&(ct=-ct,Mt=-Mt),st.a=a(ct,Pt.a,Mt,yt.a)):((ct=r(Ct,Pt,yt))+(Mt=-r(Ct,Et,yt))<0&&(ct=-ct,Mt=-Mt),st.a=a(ct,Pt.a,Mt,Et.a)):st.a=(Pt.a+yt.a)/2,s(st,ie.a)&&(st.b=ie.a.b,st.a=ie.a.a),Ct=s(Le,He)?Le:He,s(Ct,st)&&(st.b=Ct.b,st.a=Ct.a),f(st,Le)||f(st,He))return W(ie,ce),0;if(!f(Qe,ie.a)&&0<=p(Qe,ie.a,st)||!f(nt,ie.a)&&p(nt,ie.a,st)<=0){if(nt===ie.a)h(he.b),u(Ee.b,he),he=qe(ce=z(ce)).a,ee(ie,qe(ce),re),Z(ie,ce,he.b.e,he,he,!0);else{if(Qe!==ie.a)return 0<=p(Qe,ie.a,st)&&(De(ce).b=ce.b=!0,h(he.b),he.a.b=ie.a.b,he.a.a=ie.a.a),void(p(nt,ie.a,st)<=0&&(ce.b=re.b=!0,h(Ee.b),Ee.a.b=ie.a.b,Ee.a.a=ie.a.a));for(h(Ee.b),u(he.e,Ee.b.e),He=(Le=re=ce).a.b.a;(Le=De(Le)).a.b.a===He;);Le=qe(ce=Le).a.b.c,re.a=Ee.b.e,Z(ie,ce,(Ee=ee(ie,re,null)).c,he.b.c,Le,!0)}return 1}h(he.b),h(Ee.b),u(Ee.b.e,he),he.a.b=st.b,he.a.a=st.a,he.a.h=Re(ie.e,he.a),he=he.a,Ee=[0,0,0,0],st=[Le.d,Qe.d,He.d,nt.d],he.g[0]=he.g[1]=he.g[2]=0,B(he,Le,Qe,Ee,0),B(he,He,nt,Ee,2),se(ie,he,st,Ee,!0),De(ce).b=ce.b=re.b=!0}}function ne(ie,ce){for(var re=qe(ce);;){for(;re.b;)re=qe(ce=re);if(!ce.b&&((ce=De(re=ce))===null||!ce.b))break;ce.b=!1;var he=ce.a,Ee=re.a;if(Le=he.b.a!==Ee.b.a)e:{var Le,He=qe(Le=ce),Qe=Le.a,nt=He.a,st=void 0;if(s(Qe.b.a,nt.b.a)){if(p(Qe.b.a,nt.b.a,Qe.a)<0){Le=!1;break e}De(Le).b=Le.b=!0,st=h(Qe),u(nt.b,st),st.d.c=Le.d}else{if(0<p(nt.b.a,Qe.b.a,nt.a)){Le=!1;break e}Le.b=He.b=!0,st=h(nt),u(Qe.e,nt.b),st.b.d.c=Le.d}Le=!0}if(Le&&(re.c?(G(re),d(Ee),Ee=(re=qe(ce)).a):ce.c&&(G(ce),d(he),he=(ce=De(re)).a)),he.a!==Ee.a){if(he.b.a===Ee.b.a||ce.c||re.c||he.b.a!==ie.a&&Ee.b.a!==ie.a)W(ie,ce);else if(K(ie,ce))break}he.a===Ee.a&&he.b.a===Ee.b.a&&(N(Ee,he),G(ce),d(he),ce=De(re))}}function oe(ie,ce){var re=new Pe,he=i(ie.b);he.a.b=4e150,he.a.a=ce,he.b.a.b=-4e150,he.b.a.a=ce,ie.a=he.b.a,re.a=he,re.f=0,re.d=!1,re.c=!1,re.h=!0,re.b=!1,he=ge(he=ie.f,he.a,re),re.e=he}function fe(ie){this.a=new de,this.b=ie,this.c=D}function ge(ie,ce,re){for(;(ce=ce.c).b!==null&&!ie.c(ie.b,ce.b,re););return ie=new de(re,ce.a,ce),ce.a.c=ie,ce.a=ie}function de(ie,ce,re){this.b=ie||null,this.a=ce||this,this.c=re||this}function ye(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function be(ie,ce){if(ie.d!==ce)for(;ie.d!==ce;)if(ie.d<ce)switch(ie.d){case 0:ae(ie,100151),ie.u(null);break;case 1:ae(ie,100152),ie.t()}else switch(ie.d){case 2:ae(ie,100154),ie.v();break;case 1:ae(ie,100153),ie.w()}}function ae(ie,ce){ie.p&&ie.p(ce,ie.c)}function ve(ie,ce){this.b=ie||this,this.d=ce||this,this.a=null,this.c=!1}function _e(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Me(){this.c=new Se,this.a=new ve,this.b=new _e,this.d=new _e,this.b.b=this.d,this.d.b=this.b}function Se(ie,ce){this.e=ie||this,this.f=ce||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Fe}function Re(ie,ce){var re,he,Ee;return ie.e?(2*(he=++(re=ie.b).a)>re.f&&(re.f*=2,re.c=pt(re.c,re.f+1)),re.b===0?Ee=he:(Ee=re.b,re.b=re.c[re.b]),re.e[Ee]=ce,re.c[Ee]=he,re.d[he]=Ee,re.h&&lt(re,he),Ee):(re=ie.a++,ie.c[re]=ce,-(re+1))}function Ye(ie){if(ie.a===0)return it(ie.b);var ce=ie.c[ie.d[ie.a-1]];if(ie.b.a!==0&&s(ot(ie.b),ce))return it(ie.b);for(;--ie.a,0<ie.a&&ie.c[ie.d[ie.a-1]]===null;);return ce}function Fe(){this.d=pt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function pt(ie,ce){for(var re=Array(ce),he=0;he<ie.length;he++)re[he]=ie[he];for(;he<ce;he++)re[he]=0;return re}function ot(ie){return ie.e[ie.d[1]]}function it(ie){var ce=ie.d,re=ie.e,he=ie.c,Ee=ce[1],Le=re[Ee];return 0<ie.a&&(ce[1]=ce[ie.a],he[ce[1]]=1,re[Ee]=null,he[Ee]=ie.b,ie.b=Ee,0<--ie.a&&ut(ie,1)),Le}function ut(ie,ce){for(var re=ie.d,he=ie.e,Ee=ie.c,Le=ce,He=re[Le];;){var Qe=Le<<1,nt=(Qe<ie.a&&s(he[re[Qe+1]],he[re[Qe]])&&(Qe+=1),re[Qe]);if(Qe>ie.a||s(he[He],he[nt])){Ee[re[Le]=He]=Le;break}Ee[re[Le]=nt]=Le,Le=Qe}}function lt(ie,ce){for(var re=ie.d,he=ie.e,Ee=ie.c,Le=ce,He=re[Le];;){var Qe=Le>>1,nt=re[Qe];if(Qe==0||s(he[nt],he[He])){Ee[re[Le]=He]=Le;break}Ee[re[Le]=nt]=Le,Le=Qe}}function Pe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function qe(ie){return ie.e.c.b}function De(ie){return ie.e.a.b}(l=ye.prototype).x=function(){be(this,0)},l.B=function(ie,ce){switch(ie){case 100142:return;case 100140:switch(ce){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ce)}break;case 100141:return void(this.m=!!ce);default:return void ae(this,100900)}ae(this,100901)},l.y=function(ie){switch(ie){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ae(this,100900)}return!1},l.A=function(ie,ce,re){this.j[0]=ie,this.j[1]=ce,this.j[2]=re},l.z=function(ie,ce){var re=ce||null;switch(ie){case 100100:case 100106:this.h=re;break;case 100104:case 100110:this.l=re;break;case 100101:case 100107:this.k=re;break;case 100102:case 100108:this.i=re;break;case 100103:case 100109:this.p=re;break;case 100105:case 100111:this.o=re;break;case 100112:this.r=re;break;default:ae(this,100900)}},l.C=function(ie,ce){var re=!1,he=[0,0,0];be(this,2);for(var Ee=0;Ee<3;++Ee){var Le=ie[Ee];Le<-1e150&&(Le=-1e150,re=!0),1e150<Le&&(Le=1e150,re=!0),he[Ee]=Le}re&&ae(this,100155),(re=this.q)===null?u(re=i(this.b),re.b):(h(re),re=re.e),re.a.d=ce,re.a.g[0]=he[0],re.a.g[1]=he[1],re.a.g[2]=he[2],re.f=1,re.b.f=-1,this.q=re},l.u=function(ie){be(this,0),this.d=1,this.b=new Me,this.c=ie},l.t=function(){be(this,1),this.d=2,this.q=null},l.v=function(){be(this,2),this.d=1},l.w=function(){be(this,1),this.d=0;var ie,ce,re=this.j[0],he=this.j[1],Ee=this.j[2],Le=!1,He=[re,he,Ee];if(re===0&&he===0&&Ee===0){for(var he=[-2e150,-2e150,-2e150],Qe=[2e150,2e150,2e150],Ee=[],nt=[],re=(Le=this.b.c).e;re!==Le;re=re.e)for(var st=0;st<3;++st){var ct=re.g[st];ct<Qe[st]&&(Qe[st]=ct,nt[st]=re),ct>he[st]&&(he[st]=ct,Ee[st]=re)}if(he[1]-Qe[1]>he[re=0]-Qe[0]&&(re=1),Qe[re=he[2]-Qe[2]>he[re]-Qe[re]?2:re]>=he[re])He[0]=0,He[1]=0,He[2]=1;else{for(Qe=nt[re],Ee=Ee[re],nt=[he=0,0,0],Qe=[Qe.g[0]-Ee.g[0],Qe.g[1]-Ee.g[1],Qe.g[2]-Ee.g[2]],st=[0,0,0],re=Le.e;re!==Le;re=re.e)st[0]=re.g[0]-Ee.g[0],st[1]=re.g[1]-Ee.g[1],st[2]=re.g[2]-Ee.g[2],nt[0]=Qe[1]*st[2]-Qe[2]*st[1],nt[1]=Qe[2]*st[0]-Qe[0]*st[2],nt[2]=Qe[0]*st[1]-Qe[1]*st[0],he<(ct=nt[0]*nt[0]+nt[1]*nt[1]+nt[2]*nt[2])&&(he=ct,He[0]=nt[0],He[1]=nt[1],He[2]=nt[2]);he<=0&&(He[0]=He[1]=He[2]=0,He[M(Qe)]=1)}Le=!0}for(nt=M(He),re=this.b.c,he=(nt+1)%3,Ee=(nt+2)%3,nt=0<He[nt]?1:-1,He=re.e;He!==re;He=He.e)He.b=He.g[he],He.a=nt*He.g[Ee];if(Le){for(He=0,re=(Le=this.b.a).b;re!==Le;re=re.b)if(!((he=re.a).f<=0))for(;He+=(he.a.b-he.b.a.b)*(he.a.a+he.b.a.a),(he=he.e)!==re.a;);if(He<0)for(Le=(He=this.b.c).e;Le!==He;Le=Le.e)Le.a=-Le.a}for(this.n=!1,He=this.b.b,re=He.h;re!==He;re=Le)Le=re.h,he=re.e,f(re.a,re.b.a)&&re.e.e!==re&&(P(this,he,re),d(re),he=(re=he).e),he.e===re&&(he!==re&&(he!==Le&&he!==Le.b||(Le=Le.h),d(he)),re!==Le&&re!==Le.b||(Le=Le.h),d(re));for(this.e=He=new Te,Le=this.b.c,re=Le.e;re!==Le;re=re.e)re.h=Re(He,re);var Mt=He;Mt.d=[];for(var Ct=0;Ct<Mt.a;Ct++)Mt.d[Ct]=Ct;Mt.d.sort(function(Et){return function(Kt,Tr){return s(Et[Kt],Et[Tr])?1:-1}}(Mt.c)),Mt.e=!0;for(var yt=Mt.b,Pt=yt.a;1<=Pt;--Pt)ut(yt,Pt);for(yt.h=!0,this.f=new fe(this),oe(this,-4e150),oe(this,4e150);(He=Ye(this.e))!==null;){for(;;){e:if((re=this.e).a===0)Le=ot(re.b);else if(Le=re.c[re.d[re.a-1]],re.b.a!==0&&s(re=ot(re.b),Le)){Le=re;break e}if(Le===null||!f(Le,He))break;Le=Ye(this.e),P(this,He.c,Le.c)}(function Et(Kt,Tr){for(var dr,Bt=(Kt.a=Tr).c;Bt.i===null;)if((Bt=Bt.c)===Tr.c){var Bt=Kt,Zt=Tr;(zt=new Pe).a=Zt.c.b;for(var gr=(Nt=Bt.f).a;(gr=gr.a).b!==null&&!Nt.c(Nt.b,zt,gr.b););var Nt,Or,lr=qe(Nt=gr.b),zt=Nt.a,gr=lr.a;return void(p(zt.b.a,Zt,zt.a)===0?f((zt=Nt.a).a,Zt)||f(zt.b.a,Zt)||(h(zt.b),Nt.c&&(d(zt.c),Nt.c=!1),u(Zt.c,zt),Et(Bt,Zt)):(Or=s(gr.b.a,zt.b.a)?Nt:lr,lr=void 0,Nt.d||Or.c?(lr=Or===Nt?b(Zt.c.b,zt.e):b(gr.b.c.b,Zt.c).b,Or.c?V(Or,lr):((Nt=$(zt=Bt,Nt,lr)).f=De(Nt).f+Nt.a.f,Nt.d=q(zt,Nt.f)),Et(Bt,Zt)):Z(Bt,Nt,Zt.c,Zt.c,null,!0)))}Nt=(zt=qe(Bt=z(Bt.i))).a,(zt=ee(Kt,zt,null)).c===Nt?(zt=(Nt=zt).c,gr=qe(Bt),lr=Bt.a,Or=gr.a,dr=!1,lr.b.a!==Or.b.a&&K(Kt,Bt),f(lr.a,Kt.a)&&(u(zt.b.e,lr),zt=qe(Bt=z(Bt)).a,ee(Kt,qe(Bt),gr),dr=!0),f(Or.a,Kt.a)&&(u(Nt,Or.b.e),Nt=ee(Kt,gr,null),dr=!0),dr?Z(Kt,Bt,Nt.c,zt,zt,!0):(Zt=s(Or.a,lr.a)?Or.b.e:lr,Z(Kt,Bt,Zt=b(Nt.c.b,Zt),Zt.c,Zt.c,!1),Zt.b.i.c=!0,ne(Kt,Bt))):Z(Kt,Bt,zt.c,Nt,Nt,!0)})(this,He)}for(this.a=this.f.a.a.b.a.a,He=0;(Le=this.f.a.a.b)!==null;)Le.h||++He,G(Le);for(this.f=null,(He=this.e).b=null,He.d=null,this.e=He.c=null,He=this.b,re=He.a.b;re!==He.a;re=Le)Le=re.b,(re=re.a).e.e===re&&(N(re.c,re),d(re));if(!this.n){if(He=this.b,this.m)for(re=He.b.h;re!==He.b;re=Le)Le=re.h,re.b.d.c!==re.d.c?re.f=re.d.c?1:-1:d(re);else for(re=He.a.b;re!==He.a;re=Le)if(Le=re.b,re.c){for(re=re.a;s(re.b.a,re.a);re=re.c.b);for(;s(re.a,re.b.a);re=re.e);for(he=re.c.b,Ee=void 0;re.e!==he;)if(s(re.b.a,he.a)){for(;he.e!==re&&(s((ce=he.e).b.a,ce.a)||p(he.a,he.b.a,he.e.b.a)<=0);)he=(Ee=b(he.e,he)).b;he=he.c.b}else{for(;he.e!==re&&(s((ie=re.c.b).a,ie.b.a)||0<=p(re.b.a,re.a,re.c.b.a));)re=(Ee=b(re,re.c.b)).b;re=re.e}for(;he.e.e!==re;)Ee=b(he.e,he),he=Ee.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Le=(He=this.b).a.b;Le!==He.a;Le=Le.b)if(Le.c){for(this.h&&this.h(2,this.c),re=Le.a;this.k&&this.k(re.a.d,this.c),(re=re.e)!==Le.a;);this.i&&this.i(this.c)}}else{for(He=this.b,Le=!!this.l,re=!1,he=-1,Ee=He.a.d;Ee!==He.a;Ee=Ee.d)if(Ee.c)for(re||(this.h&&this.h(4,this.c),re=!0),nt=Ee.a;Le&&(Qe=nt.b.d.c?0:1,he!==Qe&&(he=Qe,this.l&&this.l(!!he,this.c))),this.k&&this.k(nt.a.d,this.c),(nt=nt.e)!==Ee.a;);re&&this.i&&this.i(this.c)}if(this.r){for(He=this.b,re=He.a.b;re!==He.a;re=Le)if(Le=re.b,!re.c){for(Ee=(he=re.a).e,nt=void 0;Ee=(nt=Ee).e,(nt.d=null)===nt.b.d&&(nt.c===nt?L(nt.a,null):(nt.a.c=nt.c,w(nt,nt.b.e)),(Qe=nt.b).c===Qe?L(Qe.a,null):(Qe.a.c=Qe.c,w(Qe,Qe.b.e)),T(nt)),nt!==he;);he=re.d,((re=re.b).d=he).b=re}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ye,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ye.prototype.gluDeleteTess=ye.prototype.x,ye.prototype.gluTessProperty=ye.prototype.B,ye.prototype.gluGetTessProperty=ye.prototype.y,ye.prototype.gluTessNormal=ye.prototype.A,ye.prototype.gluTessCallback=ye.prototype.z,ye.prototype.gluTessVertex=ye.prototype.C,ye.prototype.gluTessBeginPolygon=ye.prototype.u,ye.prototype.gluTessBeginContour=ye.prototype.t,ye.prototype.gluTessEndContour=ye.prototype.v,ye.prototype.gluTessEndPolygon=ye.prototype.w,_!==void 0&&(_.exports=this.libtess)},{}],256:[function(t,_,y){function l(s,c,p,m){var n=0,r=(m=m===void 0?{}:m).loop===void 0?null:m.loop,a=m.palette===void 0?null:m.palette;if(c<=0||p<=0||65535<c||65535<p)throw new Error("Width/Height invalid.");function i(k){if(k=k.length,k<2||256<k||k&k-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return k}s[n++]=71,s[n++]=73,s[n++]=70,s[n++]=56,s[n++]=57,s[n++]=97;var u=0,d=0;if(a!==null){for(var h=i(a);h>>=1;)++u;if(h=1<<u,--u,m.background!==void 0){if(h<=(d=m.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(s[n++]=255&c,s[n++]=c>>8&255,s[n++]=255&p,s[n++]=p>>8&255,s[n++]=(a!==null?128:0)|u,s[n++]=d,s[n++]=0,a!==null)for(var b=0,v=a.length;b<v;++b){var w=a[b];s[n++]=w>>16&255,s[n++]=w>>8&255,s[n++]=255&w}if(r!==null){if(r<0||65535<r)throw new Error("Loop count invalid.");s[n++]=33,s[n++]=255,s[n++]=11,s[n++]=78,s[n++]=69,s[n++]=84,s[n++]=83,s[n++]=67,s[n++]=65,s[n++]=80,s[n++]=69,s[n++]=50,s[n++]=46,s[n++]=48,s[n++]=3,s[n++]=1,s[n++]=255&r,s[n++]=r>>8&255,s[n++]=0}var E=!1;this.addFrame=function(k,T,L,R,M,N){if(E===!0&&(--n,E=!1),N=N===void 0?{}:N,k<0||T<0||65535<k||65535<T)throw new Error("x/y invalid.");if(L<=0||R<=0||65535<L||65535<R)throw new Error("Width/Height invalid.");if(M.length<L*R)throw new Error("Not enough pixels for the frame size.");var D=!0,G=N.palette;if(G==null&&(D=!1,G=a),G==null)throw new Error("Must supply either a local or global palette.");for(var z=i(G),V=0;z>>=1;)++V;var z=1<<V,$=N.delay===void 0?0:N.delay,q=N.disposal===void 0?0:N.disposal;if(q<0||3<q)throw new Error("Disposal out of range.");var Y=!1,ee=0;if(N.transparent!==void 0&&N.transparent!==null&&(Y=!0,(ee=N.transparent)<0||z<=ee))throw new Error("Transparent color index.");if(q===0&&!Y&&$===0||(s[n++]=33,s[n++]=249,s[n++]=4,s[n++]=q<<2|(Y===!0?1:0),s[n++]=255&$,s[n++]=$>>8&255,s[n++]=ee,s[n++]=0),s[n++]=44,s[n++]=255&k,s[n++]=k>>8&255,s[n++]=255&T,s[n++]=T>>8&255,s[n++]=255&L,s[n++]=L>>8&255,s[n++]=255&R,s[n++]=R>>8&255,s[n++]=D===!0?128|V-1:0,D===!0)for(var Z=0,se=G.length;Z<se;++Z){var P=G[Z];s[n++]=P>>16&255,s[n++]=P>>8&255,s[n++]=255&P}return n=function(B,W,K,ne){B[W++]=K;var oe=W++,fe=1<<K,ge=fe-1,de=1+fe,ye=1+de,be=K+1,ae=0,ve=0;function _e(it){for(;it<=ae;)B[W++]=255&ve,ve>>=8,ae-=8,W===oe+256&&(B[oe]=255,oe=W++)}function Me(it){ve|=it<<ae,ae+=be,_e(8)}var Se=ne[0]&ge,Te={};Me(fe);for(var Re=1,Ye=ne.length;Re<Ye;++Re){var Fe=ne[Re]&ge,pt=Se<<8|Fe,ot=Te[pt];if(ot===void 0){for(ve|=Se<<ae,ae+=be;8<=ae;)B[W++]=255&ve,ve>>=8,ae-=8,W===oe+256&&(B[oe]=255,oe=W++);ye===4096?(Me(fe),ye=1+de,be=K+1,Te={}):(1<<be<=ye&&++be,Te[pt]=ye++),Se=Fe}else Se=ot}return Me(Se),Me(de),_e(1),oe+1===W?B[oe]=0:(B[oe]=W-oe-1,B[W++]=0),W}(s,n,V<2?2:V,M)},this.end=function(){return E===!1&&(s[n++]=59,E=!0),n},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(k){s=k},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(k){n=k}}function f(s,c,p,m){for(var n=s[c++],r=1<<n,a=1+r,i=1+a,u=n+1,d=(1<<u)-1,h=0,b=0,v=0,w=s[c++],E=new Int32Array(4096),k=null;;){for(;h<16&&w!==0;)b|=s[c++]<<h,h+=8,w===1?w=s[c++]:--w;if(h<u)break;var T=b&d;if(b>>=u,h-=u,T==r)i=1+a,d=(1<<(u=n+1))-1,k=null;else{if(T==a)break;for(var L=T<i?T:k,R=0,M=L;r<M;)M=E[M]>>8,++R;var N=M;if(m<v+R+(L!==T?1:0))return void console.log("Warning, gif stream longer than expected.");p[v++]=N;var D=v+=R;for(L!==T&&(p[v++]=N),M=L;R--;)M=E[M],p[--D]=255&M,M>>=8;k!==null&&i<4096&&(E[i++]=k<<8|N,d+1<=i&&u<12&&(++u,d=d<<1|1)),k=T}}v!==m&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=l,y.GifReader=function(s){var c=0;if(s[c++]!==71||s[c++]!==73||s[c++]!==70||s[c++]!==56||(s[c++]+1&253)!=56||s[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=s[c++]|s[c++]<<8,m=s[c++]|s[c++]<<8,n=s[c++],r=1<<1+(7&n),a=(s[c++],s[c++],null),i=null,u=(n>>7&&(a=c,c+=3*(i=r)),!0),d=[],h=0,b=null,v=0,w=null;for(this.width=p,this.height=m;u&&c<s.length;)switch(s[c++]){case 33:switch(s[c++]){case 255:if(s[c]!==11||s[c+1]==78&&s[c+2]==69&&s[c+3]==84&&s[c+4]==83&&s[c+5]==67&&s[c+6]==65&&s[c+7]==80&&s[c+8]==69&&s[c+9]==50&&s[c+10]==46&&s[c+11]==48&&s[c+12]==3&&s[c+13]==1&&s[c+16]==0)c+=14,w=s[c++]|s[c++]<<8,c++;else for(c+=12;;){if(!(0<=(k=s[c++])))throw Error("Invalid block size");if(k===0)break;c+=k}break;case 249:if(s[c++]!==4||s[c+4]!==0)throw new Error("Invalid graphics extension block.");var E=s[c++],h=s[c++]|s[c++]<<8,b=s[c++];!(1&E)&&(b=null),v=E>>2&7,c++;break;case 254:for(;;){if(!(0<=(k=s[c++])))throw Error("Invalid block size");if(k===0)break;c+=k}break;default:throw new Error("Unknown graphic control label: 0x"+s[c-1].toString(16))}break;case 44:var k,T=s[c++]|s[c++]<<8,L=s[c++]|s[c++]<<8,R=s[c++]|s[c++]<<8,M=s[c++]|s[c++]<<8,$=s[c++],N=$>>6&1,D=1<<1+(7&$),G=a,V=i,z=!1,$=($>>7&&(z=!0,G=c,c+=3*(V=D)),c);for(c++;;){if(!(0<=(k=s[c++])))throw Error("Invalid block size");if(k===0)break;c+=k}d.push({x:T,y:L,width:R,height:M,has_local_palette:z,palette_offset:G,palette_size:V,data_offset:$,data_length:c-$,transparent_index:b,interlaced:!!N,delay:h,disposal:v});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+s[c-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(q){if(q<0||q>=d.length)throw new Error("Frame index out of range.");return d[q]},this.decodeAndBlitFrameBGRA=function(q,Y){for(var q=this.frameInfo(q),ee=q.width*q.height,Z=new Uint8Array(ee),se=(f(s,q.data_offset,Z,ee),q.palette_offset),P=q.transparent_index,B=(P===null&&(P=256),q.width),W=p-B,K=B,ne=4*(q.y*p+q.x),oe=4*((q.y+q.height)*p+q.x),fe=ne,ge=4*W,de=(q.interlaced===!0&&(ge+=4*p*7),8),ye=0,be=Z.length;ye<be;++ye){var ae,ve,_e=Z[ye];K===0&&(K=B,oe<=(fe+=ge)&&(ge=4*W+4*p*(de-1),fe=ne+(B+W)*(de<<1),de>>=1)),_e===P?fe+=4:(ae=s[se+3*_e],ve=s[se+3*_e+1],_e=s[se+3*_e+2],Y[fe++]=_e,Y[fe++]=ve,Y[fe++]=ae,Y[fe++]=255),--K}},this.decodeAndBlitFrameRGBA=function(q,Y){for(var q=this.frameInfo(q),ee=q.width*q.height,Z=new Uint8Array(ee),se=(f(s,q.data_offset,Z,ee),q.palette_offset),P=q.transparent_index,B=(P===null&&(P=256),q.width),W=p-B,K=B,ne=4*(q.y*p+q.x),oe=4*((q.y+q.height)*p+q.x),fe=ne,ge=4*W,de=(q.interlaced===!0&&(ge+=4*p*7),8),ye=0,be=Z.length;ye<be;++ye){var ae,ve,_e=Z[ye];K===0&&(K=B,oe<=(fe+=ge)&&(ge=4*W+4*p*(de-1),fe=ne+(B+W)*(de<<1),de>>=1)),_e===P?fe+=4:(ae=s[se+3*_e],ve=s[se+3*_e+1],_e=s[se+3*_e+2],Y[fe++]=ae,Y[fe++]=ve,Y[fe++]=_e,Y[fe++]=255),--K}}}}catch{}},{}],257:[function(t,_,y){(function(l){var f,s;f=this,s=function(c){function p(H){if(this==null)throw TypeError();var O,I=String(this),U=I.length,H=H?Number(H):0;if(!((H=H!=H?0:H)<0||U<=H))return 55296<=(O=I.charCodeAt(H))&&O<=56319&&H+1<U&&56320<=(U=I.charCodeAt(H+1))&&U<=57343?1024*(O-55296)+U-56320+65536:O}String.prototype.codePointAt||((m=function(){try{var j={},O=Object.defineProperty,I=O(j,j,j)&&O}catch{}return I}())?m(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=p);var m,n=0,r=-3;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(j,O){this.source=j,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=O,this.destLen=0,this.ltree=new a,this.dtree=new a}var u=new a,d=new a,h=new Uint8Array(30),b=new Uint16Array(30),v=new Uint8Array(30),w=new Uint16Array(30),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new a,T=new Uint8Array(320);function L(j,O,I,U){for(var H,J=0;J<I;++J)j[J]=0;for(J=0;J<30-I;++J)j[J+I]=J/I|0;for(H=U,J=0;J<30;++J)O[J]=H,H+=1<<j[J]}var R=new Uint16Array(16);function M(j,O,I,U){for(var H,J=0;J<16;++J)j.table[J]=0;for(J=0;J<U;++J)j.table[O[I+J]]++;for(J=H=j.table[0]=0;J<16;++J)R[J]=H,H+=j.table[J];for(J=0;J<U;++J)O[I+J]&&(j.trans[R[O[I+J]]++]=J)}function N(j,O,I){if(!O)return I;for(;j.bitcount<24;)j.tag|=j.source[j.sourceIndex++]<<j.bitcount,j.bitcount+=8;var U=j.tag&65535>>>16-O;return j.tag>>>=O,j.bitcount-=O,U+I}function D(j,O){for(;j.bitcount<24;)j.tag|=j.source[j.sourceIndex++]<<j.bitcount,j.bitcount+=8;for(var I=0,U=0,H=0,J=j.tag;U=2*U+(1&J),J>>>=1,I+=O.table[++H],0<=(U-=O.table[H]););return j.tag=J,j.bitcount-=H,O.trans[I+U]}function G(j,O,I){for(;;){var U=D(j,O);if(U===256)return n;if(U<256)j.dest[j.destLen++]=U;else for(var H,J=N(j,h[U-=257],b[U]),U=D(j,I),te=H=j.destLen-N(j,v[U],w[U]);te<H+J;++te)j.dest[j.destLen++]=j.dest[te]}}for(var V=u,z=d,$=0;$<7;++$)V.table[$]=0;for(V.table[7]=24,V.table[8]=152,V.table[9]=112,$=0;$<24;++$)V.trans[$]=256+$;for($=0;$<144;++$)V.trans[24+$]=$;for($=0;$<8;++$)V.trans[168+$]=280+$;for($=0;$<112;++$)V.trans[176+$]=144+$;for($=0;$<5;++$)z.table[$]=0;for(z.table[5]=32,$=0;$<32;++$)z.trans[$]=$;L(h,b,4,3),L(v,w,2,1),h[28]=0,b[28]=258;var q=function(j,O){var I,U,H,J=new i(j,O);do{switch(H=void 0,(U=J).bitcount--||(U.tag=U.source[U.sourceIndex++],U.bitcount=7),H=1&U.tag,U.tag>>>=1,U=H,N(J,2,0)){case 0:I=function(Be){for(var wt,Rt;8<Be.bitcount;)Be.sourceIndex--,Be.bitcount-=8;if((wt=256*Be.source[Be.sourceIndex+1]+Be.source[Be.sourceIndex])!==(65535&~(256*Be.source[Be.sourceIndex+3]+Be.source[Be.sourceIndex+2])))return r;for(Be.sourceIndex+=4,Rt=wt;Rt;--Rt)Be.dest[Be.destLen++]=Be.source[Be.sourceIndex++];return Be.bitcount=0,n}(J);break;case 1:I=G(J,u,d);break;case 2:Xe=Ve=$e=Ue=te=xe=Oe=Ne=ke=me=pe=le=void 0;for(var te,le=J,pe=J.ltree,me=J.dtree,ke=N(le,5,257),Ne=N(le,5,1),Oe=N(le,4,4),xe=0;xe<19;++xe)T[xe]=0;for(xe=0;xe<Oe;++xe){var $e=N(le,3,0);T[E[xe]]=$e}for(M(k,T,0,19),te=0;te<ke+Ne;){var Ve=D(le,k);switch(Ve){case 16:for(var Xe=T[te-1],Ue=N(le,2,3);Ue;--Ue)T[te++]=Xe;break;case 17:for(Ue=N(le,3,3);Ue;--Ue)T[te++]=0;break;case 18:for(Ue=N(le,7,11);Ue;--Ue)T[te++]=0;break;default:T[te++]=Ve}}M(pe,T,0,ke),M(me,T,ke,Ne),I=G(J,J.ltree,J.dtree);break;default:I=r}if(I!==n)throw new Error("Data error")}while(!U);return J.destLen<J.dest.length?typeof J.dest.slice=="function"?J.dest.slice(0,J.destLen):J.dest.subarray(0,J.destLen):J.dest};function Y(j,O,I,U,H){return Math.pow(1-H,3)*j+3*Math.pow(1-H,2)*H*O+3*(1-H)*Math.pow(H,2)*I+Math.pow(H,3)*U}function ee(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Z(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function se(j){throw new Error(j)}function P(j,O){j||se(O)}ee.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ee.prototype.addPoint=function(j,O){typeof j=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=j,this.x2=j),j<this.x1&&(this.x1=j),j>this.x2&&(this.x2=j)),typeof O=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=O,this.y2=O),O<this.y1&&(this.y1=O),O>this.y2&&(this.y2=O))},ee.prototype.addX=function(j){this.addPoint(j,null)},ee.prototype.addY=function(j){this.addPoint(null,j)},ee.prototype.addBezier=function(j,O,I,U,H,J,te,le){var pe=[j,O],me=[I,U],ke=[H,J],Ne=[te,le];this.addPoint(j,O),this.addPoint(te,le);for(var Oe=0;Oe<=1;Oe++){var xe,$e=6*pe[Oe]-12*me[Oe]+6*ke[Oe],Ve=-3*pe[Oe]+9*me[Oe]-9*ke[Oe]+3*Ne[Oe],Xe=3*me[Oe]-3*pe[Oe];Ve==0?$e==0||0<(xe=-Xe/$e)&&xe<1&&(Oe===0&&this.addX(Y(pe[Oe],me[Oe],ke[Oe],Ne[Oe],xe)),Oe===1&&this.addY(Y(pe[Oe],me[Oe],ke[Oe],Ne[Oe],xe))):(xe=Math.pow($e,2)-4*Xe*Ve)<0||(0<(Xe=(-$e+Math.sqrt(xe))/(2*Ve))&&Xe<1&&(Oe===0&&this.addX(Y(pe[Oe],me[Oe],ke[Oe],Ne[Oe],Xe)),Oe===1&&this.addY(Y(pe[Oe],me[Oe],ke[Oe],Ne[Oe],Xe))),0<(Xe=(-$e-Math.sqrt(xe))/(2*Ve))&&Xe<1&&(Oe===0&&this.addX(Y(pe[Oe],me[Oe],ke[Oe],Ne[Oe],Xe)),Oe===1&&this.addY(Y(pe[Oe],me[Oe],ke[Oe],Ne[Oe],Xe))))}},ee.prototype.addQuad=function(j,O,I,U,H,J){I=j+2/3*(I-j),U=O+2/3*(U-O),this.addBezier(j,O,I,U,I+1/3*(H-j),U+1/3*(J-O),H,J)},Z.prototype.moveTo=function(j,O){this.commands.push({type:"M",x:j,y:O})},Z.prototype.lineTo=function(j,O){this.commands.push({type:"L",x:j,y:O})},Z.prototype.curveTo=Z.prototype.bezierCurveTo=function(j,O,I,U,H,J){this.commands.push({type:"C",x1:j,y1:O,x2:I,y2:U,x:H,y:J})},Z.prototype.quadTo=Z.prototype.quadraticCurveTo=function(j,O,I,U){this.commands.push({type:"Q",x1:j,y1:O,x:I,y:U})},Z.prototype.close=Z.prototype.closePath=function(){this.commands.push({type:"Z"})},Z.prototype.extend=function(j){var O;if(j.commands)j=j.commands;else if(j instanceof ee)return O=j,this.moveTo(O.x1,O.y1),this.lineTo(O.x2,O.y1),this.lineTo(O.x2,O.y2),this.lineTo(O.x1,O.y2),void this.close();Array.prototype.push.apply(this.commands,j)},Z.prototype.getBoundingBox=function(){for(var j=new ee,O=0,I=0,U=0,H=0,J=0;J<this.commands.length;J++){var te=this.commands[J];switch(te.type){case"M":j.addPoint(te.x,te.y),O=U=te.x,I=H=te.y;break;case"L":j.addPoint(te.x,te.y),U=te.x,H=te.y;break;case"Q":j.addQuad(U,H,te.x1,te.y1,te.x,te.y),U=te.x,H=te.y;break;case"C":j.addBezier(U,H,te.x1,te.y1,te.x2,te.y2,te.x,te.y),U=te.x,H=te.y;break;case"Z":U=O,H=I;break;default:throw new Error("Unexpected path command "+te.type)}}return j.isEmpty()&&j.addPoint(0,0),j},Z.prototype.draw=function(j){j.beginPath();for(var O=0;O<this.commands.length;O+=1){var I=this.commands[O];I.type==="M"?j.moveTo(I.x,I.y):I.type==="L"?j.lineTo(I.x,I.y):I.type==="C"?j.bezierCurveTo(I.x1,I.y1,I.x2,I.y2,I.x,I.y):I.type==="Q"?j.quadraticCurveTo(I.x1,I.y1,I.x,I.y):I.type==="Z"&&j.closePath()}this.fill&&(j.fillStyle=this.fill,j.fill()),this.stroke&&(j.strokeStyle=this.stroke,j.lineWidth=this.strokeWidth,j.stroke())},Z.prototype.toPathData=function(j){function O(){for(var J=arguments,te="",le=0;le<arguments.length;le+=1){var pe=J[le];0<=pe&&0<le&&(te+=" "),te+=(pe=pe,Math.round(pe)===pe?""+Math.round(pe):pe.toFixed(j))}return te}j=j!==void 0?j:2;for(var I="",U=0;U<this.commands.length;U+=1){var H=this.commands[U];H.type==="M"?I+="M"+O(H.x,H.y):H.type==="L"?I+="L"+O(H.x,H.y):H.type==="C"?I+="C"+O(H.x1,H.y1,H.x2,H.y2,H.x,H.y):H.type==="Q"?I+="Q"+O(H.x1,H.y1,H.x,H.y):H.type==="Z"&&(I+="Z")}return I},Z.prototype.toSVG=function(j){var O=(O='<path d="')+this.toPathData(j)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?O+=' fill="none"':O+=' fill="'+this.fill+'"'),this.stroke&&(O+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),O+="/>"},Z.prototype.toDOMElement=function(O){var O=this.toPathData(O),I=document.createElementNS("http://www.w3.org/2000/svg","path");return I.setAttribute("d",O),I};var B={fail:se,argument:P,assert:P},W={},K={},ne={};function oe(j){return function(){return j}}K.BYTE=function(j){return B.argument(0<=j&&j<=255,"Byte value should be between 0 and 255."),[j]},ne.BYTE=oe(1),K.CHAR=function(j){return[j.charCodeAt(0)]},ne.CHAR=oe(1),K.CHARARRAY=function(j){for(var O=[],I=0;I<j.length;I+=1)O[I]=j.charCodeAt(I);return O},ne.CHARARRAY=function(j){return j.length},K.USHORT=function(j){return[j>>8&255,255&j]},ne.USHORT=oe(2),K.SHORT=function(j){return[(j=32768<=j?-(65536-j):j)>>8&255,255&j]},ne.SHORT=oe(2),K.UINT24=function(j){return[j>>16&255,j>>8&255,255&j]},ne.UINT24=oe(3),K.ULONG=function(j){return[j>>24&255,j>>16&255,j>>8&255,255&j]},ne.ULONG=oe(4),K.LONG=function(j){return[(j=2147483648<=j?-(4294967296-j):j)>>24&255,j>>16&255,j>>8&255,255&j]},ne.LONG=oe(4),K.FIXED=K.ULONG,ne.FIXED=ne.ULONG,K.FWORD=K.SHORT,ne.FWORD=ne.SHORT,K.UFWORD=K.USHORT,ne.UFWORD=ne.USHORT,K.LONGDATETIME=function(j){return[0,0,0,0,j>>24&255,j>>16&255,j>>8&255,255&j]},ne.LONGDATETIME=oe(8),K.TAG=function(j){return B.argument(j.length===4,"Tag should be exactly 4 ASCII characters."),[j.charCodeAt(0),j.charCodeAt(1),j.charCodeAt(2),j.charCodeAt(3)]},ne.TAG=oe(4),K.Card8=K.BYTE,ne.Card8=ne.BYTE,K.Card16=K.USHORT,ne.Card16=ne.USHORT,K.OffSize=K.BYTE,ne.OffSize=ne.BYTE,K.SID=K.USHORT,ne.SID=ne.USHORT,K.NUMBER=function(j){return-107<=j&&j<=107?[j+139]:108<=j&&j<=1131?[247+((j-=108)>>8),255&j]:-1131<=j&&j<=-108?[251+((j=-j-108)>>8),255&j]:-32768<=j&&j<=32767?K.NUMBER16(j):K.NUMBER32(j)},ne.NUMBER=function(j){return K.NUMBER(j).length},K.NUMBER16=function(j){return[28,j>>8&255,255&j]},ne.NUMBER16=oe(3),K.NUMBER32=function(j){return[29,j>>24&255,j>>16&255,j>>8&255,255&j]},ne.NUMBER32=oe(5),K.REAL=function(j){for(var O=j.toString(),I=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(O),U=(I&&(I=parseFloat("1e"+((I[2]?+I[2]:0)+I[1].length)),O=(Math.round(j*I)/I).toString()),""),H=0,J=O.length;H<J;H+=1){var te=O[H];U+=te==="e"?O[++H]==="-"?"c":"b":te==="."?"a":te==="-"?"e":te}for(var le=[30],pe=0,me=(U+=1&U.length?"f":"ff").length;pe<me;pe+=2)le.push(parseInt(U.substr(pe,2),16));return le},ne.REAL=function(j){return K.REAL(j).length},K.NAME=K.CHARARRAY,ne.NAME=ne.CHARARRAY,K.STRING=K.CHARARRAY,ne.STRING=ne.CHARARRAY,W.UTF8=function(j,O,I){for(var U=[],H=I,J=0;J<H;J++,O+=1)U[J]=j.getUint8(O);return String.fromCharCode.apply(null,U)},W.UTF16=function(j,O,I){for(var U=[],H=I/2,J=0;J<H;J++,O+=2)U[J]=j.getUint16(O);return String.fromCharCode.apply(null,U)},K.UTF16=function(j){for(var O=[],I=0;I<j.length;I+=1){var U=j.charCodeAt(I);O[O.length]=U>>8&255,O[O.length]=255&U}return O},ne.UTF16=function(j){return 2*j.length};var fe,ge={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},de=(W.MACSTRING=function(j,O,I,U){var H=ge[U];if(H!==void 0){for(var J="",te=0;te<I;te++){var le=j.getUint8(O+te);J+=le<=127?String.fromCharCode(le):H[127&le]}return J}},typeof WeakMap=="function"&&new WeakMap);function ye(j){return-128<=j&&j<=127}K.MACSTRING=function(j,O){var I=function(te){if(!fe)for(var le in fe={},ge)fe[le]=new String(le);var pe=fe[te];if(pe!==void 0){if(de){var me=de.get(pe);if(me!==void 0)return me}var ke=ge[te];if(ke!==void 0){for(var Ne={},Oe=0;Oe<ke.length;Oe++)Ne[ke.charCodeAt(Oe)]=Oe+128;return de&&de.set(pe,Ne),Ne}}}(O);if(I!==void 0){for(var U=[],H=0;H<j.length;H++){var J=j.charCodeAt(H);if(128<=J&&(J=I[J])===void 0)return;U[H]=J}return U}},ne.MACSTRING=function(j,O){return j=K.MACSTRING(j,O),j!==void 0?j.length:0},K.VARDELTAS=function(j){for(var U=0,O=[];U<j.length;)var I=j[U],U=(I===0?function(H,J,te){for(var le=0,pe=H.length;J<pe&&le<64&&H[J]===0;)++J,++le;return te.push(128|le-1),J}:-128<=I&&I<=127?function(H,J,te){for(var le=0,pe=H.length,me=J;me<pe&&le<64;){var ke=H[me];if(!ye(ke)||ke===0&&me+1<pe&&H[me+1]===0)break;++me,++le}te.push(le-1);for(var Ne=J;Ne<me;++Ne)te.push(H[Ne]+256&255);return me}:function(H,J,te){for(var le=0,pe=H.length,me=J;me<pe&&le<64;){var ke=H[me];if(ke===0||ye(ke)&&me+1<pe&&ye(H[me+1]))break;++me,++le}te.push(64|le-1);for(var Ne=J;Ne<me;++Ne){var Oe=H[Ne];te.push(Oe+65536>>8&255,Oe+256&255)}return me})(j,U,O);return O},K.INDEX=function(j){for(var O=1,I=[O],U=[],H=0;H<j.length;H+=1){var J=K.OBJECT(j[H]);Array.prototype.push.apply(U,J),O+=J.length,I.push(O)}if(U.length===0)return[0,0];for(var te=[],le=1+Math.floor(Math.log(O)/Math.log(2))/8|0,pe=[void 0,K.BYTE,K.USHORT,K.UINT24,K.ULONG][le],me=0;me<I.length;me+=1){var ke=pe(I[me]);Array.prototype.push.apply(te,ke)}return Array.prototype.concat(K.Card16(j.length),K.OffSize(le),te,U)},ne.INDEX=function(j){return K.INDEX(j).length},K.DICT=function(j){for(var O=[],I=Object.keys(j),U=I.length,H=0;H<U;H+=1){var J=parseInt(I[H],0),te=j[J];O=(O=O.concat(K.OPERAND(te.value,te.type))).concat(K.OPERATOR(J))}return O},ne.DICT=function(j){return K.DICT(j).length},K.OPERATOR=function(j){return j<1200?[j]:[12,j-1200]},K.OPERAND=function(j,O){var I=[];if(Array.isArray(O))for(var U=0;U<O.length;U+=1)B.argument(j.length===O.length,"Not enough arguments given for type"+O),I=I.concat(K.OPERAND(j[U],O[U]));else if(O==="SID")I=I.concat(K.NUMBER(j));else if(O==="offset")I=I.concat(K.NUMBER32(j));else if(O==="number")I=I.concat(K.NUMBER(j));else{if(O!=="real")throw new Error("Unknown operand type "+O);I=I.concat(K.REAL(j))}return I},K.OP=K.BYTE,ne.OP=ne.BYTE;var be=typeof WeakMap=="function"&&new WeakMap;function ae(j,O,I){for(var U=0;U<O.length;U+=1){var H=O[U];this[H.name]=H.value}if(this.tableName=j,this.fields=O,I)for(var J=Object.keys(I),te=0;te<J.length;te+=1){var le=J[te],pe=I[le];this[le]!==void 0&&(this[le]=pe)}}function ve(j,O,I){I===void 0&&(I=O.length);var U=new Array(O.length+1);U[0]={name:j+"Count",type:"USHORT",value:I};for(var H=0;H<O.length;H++)U[H+1]={name:j+H,type:"USHORT",value:O[H]};return U}function _e(j,O,I){var U=O.length,H=new Array(U+1);H[0]={name:j+"Count",type:"USHORT",value:U};for(var J=0;J<U;J++)H[J+1]={name:j+J,type:"TABLE",value:I(O[J],J)};return H}function Me(j,O,I){var U=O.length,H=[];H[0]={name:j+"Count",type:"USHORT",value:U};for(var J=0;J<U;J++)H=H.concat(I(O[J],J));return H}function Se(j){j.format===1?ae.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ve("glyph",j.glyphs))):B.assert(!1,"Can't create coverage table format 2 yet.")}function Te(j){ae.call(this,"scriptListTable",Me("scriptRecord",j,function(O,I){var U=O.script,H=U.defaultLangSys;return B.assert(!!H,"Unable to write GSUB: script "+O.tag+" has no default language system."),[{name:"scriptTag"+I,type:"TAG",value:O.tag},{name:"script"+I,type:"TABLE",value:new ae("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ae("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:H.reqFeatureIndex}].concat(ve("featureIndex",H.featureIndexes)))}].concat(Me("langSys",U.langSysRecords,function(J,te){var le=J.langSys;return[{name:"langSysTag"+te,type:"TAG",value:J.tag},{name:"langSys"+te,type:"TABLE",value:new ae("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:le.reqFeatureIndex}].concat(ve("featureIndex",le.featureIndexes)))}]})))}]}))}function Re(j){ae.call(this,"featureListTable",Me("featureRecord",j,function(O,I){var U=O.feature;return[{name:"featureTag"+I,type:"TAG",value:O.tag},{name:"feature"+I,type:"TABLE",value:new ae("featureTable",[{name:"featureParams",type:"USHORT",value:U.featureParams}].concat(ve("lookupListIndex",U.lookupListIndexes)))}]}))}function Ye(j,O){ae.call(this,"lookupListTable",_e("lookup",j,function(I){var U=O[I.lookupType];return B.assert(!!U,"Unable to write GSUB lookup type "+I.lookupType+" tables."),new ae("lookupTable",[{name:"lookupType",type:"USHORT",value:I.lookupType},{name:"lookupFlag",type:"USHORT",value:I.lookupFlag}].concat(_e("subtable",I.subtables,U)))}))}K.CHARSTRING=function(j){if(be){var O=be.get(j);if(O!==void 0)return O}for(var J=[],I=j.length,U=0;U<I;U+=1)var H=j[U],J=J.concat(K[H.type](H.value));return be&&be.set(j,J),J},ne.CHARSTRING=function(j){return K.CHARSTRING(j).length},K.OBJECT=function(j){var O=K[j.type];return B.argument(O!==void 0,"No encoding function for type "+j.type),O(j.value)},ne.OBJECT=function(j){var O=ne[j.type];return B.argument(O!==void 0,"No sizeOf function for type "+j.type),O(j.value)},K.TABLE=function(j){for(var O=[],I=j.fields.length,U=[],H=[],J=0;J<I;J+=1){var te=j.fields[J],pe=K[te.type],le=(B.argument(pe!==void 0,"No encoding function for field type "+te.type+" ("+te.name+")"),j[te.name]),pe=pe(le=le===void 0?te.value:le);te.type==="TABLE"?(H.push(O.length),O=O.concat([0,0]),U.push(pe)):O=O.concat(pe)}for(var me=0;me<U.length;me+=1){var ke=H[me],Ne=O.length;B.argument(Ne<65536,"Table "+j.tableName+" too big."),O[ke]=Ne>>8,O[ke+1]=255&Ne,O=O.concat(U[me])}return O},ne.TABLE=function(j){for(var O=0,I=j.fields.length,U=0;U<I;U+=1){var H=j.fields[U],J=ne[H.type],te=(B.argument(J!==void 0,"No sizeOf function for field type "+H.type+" ("+H.name+")"),j[H.name]);O+=J(te=te===void 0?H.value:te),H.type==="TABLE"&&(O+=2)}return O},K.RECORD=K.TABLE,ne.RECORD=ne.TABLE,K.LITERAL=function(j){return j},ne.LITERAL=function(j){return j.length},ae.prototype.encode=function(){return K.TABLE(this)},ae.prototype.sizeOf=function(){return ne.TABLE(this)};var Fe={Table:ae,Record:ae,Coverage:(Se.prototype=Object.create(ae.prototype)).constructor=Se,ScriptList:(Te.prototype=Object.create(ae.prototype)).constructor=Te,FeatureList:(Re.prototype=Object.create(ae.prototype)).constructor=Re,LookupList:(Ye.prototype=Object.create(ae.prototype)).constructor=Ye,ushortList:ve,tableList:_e,recordList:Me};function pt(j,O){return j.getUint8(O)}function ot(j,O){return j.getUint16(O,!1)}function it(j,O){return j.getUint32(O,!1)}function ut(j,O){return j.getInt16(O,!1)+j.getUint16(O+2,!1)/65535}var lt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Pe(j,O){this.data=j,this.offset=O,this.relativeOffset=0}Pe.prototype.parseByte=function(){var j=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,j},Pe.prototype.parseChar=function(){var j=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,j},Pe.prototype.parseCard8=Pe.prototype.parseByte,Pe.prototype.parseCard16=Pe.prototype.parseUShort=function(){var j=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,j},Pe.prototype.parseSID=Pe.prototype.parseUShort,Pe.prototype.parseOffset16=Pe.prototype.parseUShort,Pe.prototype.parseShort=function(){var j=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,j},Pe.prototype.parseF2Dot14=function(){var j=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,j},Pe.prototype.parseOffset32=Pe.prototype.parseULong=function(){var j=it(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,j},Pe.prototype.parseFixed=function(){var j=ut(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,j},Pe.prototype.parseString=function(j){var O=this.data,I=this.offset+this.relativeOffset,U="";this.relativeOffset+=j;for(var H=0;H<j;H++)U+=String.fromCharCode(O.getUint8(I+H));return U},Pe.prototype.parseTag=function(){return this.parseString(4)},Pe.prototype.parseLongDateTime=function(){var j=it(this.data,this.offset+this.relativeOffset+4);return j-=2082844800,this.relativeOffset+=8,j},Pe.prototype.parseVersion=function(j){var O=ot(this.data,this.offset+this.relativeOffset),I=ot(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,O+I/(j=j===void 0?4096:j)/10},Pe.prototype.skip=function(j,O){this.relativeOffset+=lt[j]*(O=O===void 0?1:O)},Pe.prototype.parseULongList=function(j){j===void 0&&(j=this.parseULong());for(var O=new Array(j),I=this.data,U=this.offset+this.relativeOffset,H=0;H<j;H++)O[H]=I.getUint32(U),U+=4;return this.relativeOffset+=4*j,O},Pe.prototype.parseOffset16List=Pe.prototype.parseUShortList=function(j){j===void 0&&(j=this.parseUShort());for(var O=new Array(j),I=this.data,U=this.offset+this.relativeOffset,H=0;H<j;H++)O[H]=I.getUint16(U),U+=2;return this.relativeOffset+=2*j,O},Pe.prototype.parseShortList=function(j){for(var O=new Array(j),I=this.data,U=this.offset+this.relativeOffset,H=0;H<j;H++)O[H]=I.getInt16(U),U+=2;return this.relativeOffset+=2*j,O},Pe.prototype.parseByteList=function(j){for(var O=new Array(j),I=this.data,U=this.offset+this.relativeOffset,H=0;H<j;H++)O[H]=I.getUint8(U++);return this.relativeOffset+=j,O},Pe.prototype.parseList=function(j,O){O||(O=j,j=this.parseUShort());for(var I=new Array(j),U=0;U<j;U++)I[U]=O.call(this);return I},Pe.prototype.parseList32=function(j,O){O||(O=j,j=this.parseULong());for(var I=new Array(j),U=0;U<j;U++)I[U]=O.call(this);return I},Pe.prototype.parseRecordList=function(j,O){O||(O=j,j=this.parseUShort());for(var I=new Array(j),U=Object.keys(O),H=0;H<j;H++){for(var J={},te=0;te<U.length;te++){var le=U[te],pe=O[le];J[le]=pe.call(this)}I[H]=J}return I},Pe.prototype.parseRecordList32=function(j,O){O||(O=j,j=this.parseULong());for(var I=new Array(j),U=Object.keys(O),H=0;H<j;H++){for(var J={},te=0;te<U.length;te++){var le=U[te],pe=O[le];J[le]=pe.call(this)}I[H]=J}return I},Pe.prototype.parseStruct=function(j){if(typeof j=="function")return j.call(this);for(var O=Object.keys(j),I={},U=0;U<O.length;U++){var H=O[U],J=j[H];I[H]=J.call(this)}return I},Pe.prototype.parseValueRecord=function(j){var O;if((j=j===void 0?this.parseUShort():j)!==0)return O={},1&j&&(O.xPlacement=this.parseShort()),2&j&&(O.yPlacement=this.parseShort()),4&j&&(O.xAdvance=this.parseShort()),8&j&&(O.yAdvance=this.parseShort()),16&j&&(O.xPlaDevice=void 0,this.parseShort()),32&j&&(O.yPlaDevice=void 0,this.parseShort()),64&j&&(O.xAdvDevice=void 0,this.parseShort()),128&j&&(O.yAdvDevice=void 0,this.parseShort()),O},Pe.prototype.parseValueRecordList=function(){for(var j=this.parseUShort(),O=this.parseUShort(),I=new Array(O),U=0;U<O;U++)I[U]=this.parseValueRecord(j);return I},Pe.prototype.parsePointer=function(j){var O=this.parseOffset16();if(0<O)return new Pe(this.data,this.offset+O).parseStruct(j)},Pe.prototype.parsePointer32=function(j){var O=this.parseOffset32();if(0<O)return new Pe(this.data,this.offset+O).parseStruct(j)},Pe.prototype.parseListOfLists=function(j){for(var O=this.parseOffset16List(),I=O.length,U=this.relativeOffset,H=new Array(I),J=0;J<I;J++){var te=O[J];if(te===0)H[J]=void 0;else if(this.relativeOffset=te,j){for(var le=this.parseOffset16List(),pe=new Array(le.length),me=0;me<le.length;me++)this.relativeOffset=te+le[me],pe[me]=j.call(this);H[J]=pe}else H[J]=this.parseUShortList()}return this.relativeOffset=U,H},Pe.prototype.parseCoverage=function(){var j=this.offset+this.relativeOffset,O=this.parseUShort(),I=this.parseUShort();if(O===1)return{format:1,glyphs:this.parseUShortList(I)};if(O!==2)throw new Error("0x"+j.toString(16)+": Coverage format must be 1 or 2.");for(var U=new Array(I),H=0;H<I;H++)U[H]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:U}},Pe.prototype.parseClassDef=function(){var j=this.offset+this.relativeOffset,O=this.parseUShort();if(O===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(O===2)return{format:2,ranges:this.parseRecordList({start:Pe.uShort,end:Pe.uShort,classId:Pe.uShort})};throw new Error("0x"+j.toString(16)+": ClassDef format must be 1 or 2.")},Pe.list=function(j,O){return function(){return this.parseList(j,O)}},Pe.list32=function(j,O){return function(){return this.parseList32(j,O)}},Pe.recordList=function(j,O){return function(){return this.parseRecordList(j,O)}},Pe.recordList32=function(j,O){return function(){return this.parseRecordList32(j,O)}},Pe.pointer=function(j){return function(){return this.parsePointer(j)}},Pe.pointer32=function(j){return function(){return this.parsePointer32(j)}},Pe.tag=Pe.prototype.parseTag,Pe.byte=Pe.prototype.parseByte,Pe.uShort=Pe.offset16=Pe.prototype.parseUShort,Pe.uShortList=Pe.prototype.parseUShortList,Pe.uLong=Pe.offset32=Pe.prototype.parseULong,Pe.uLongList=Pe.prototype.parseULongList,Pe.struct=Pe.prototype.parseStruct,Pe.coverage=Pe.prototype.parseCoverage,Pe.classDef=Pe.prototype.parseClassDef;var qe={reserved:Pe.uShort,reqFeatureIndex:Pe.uShort,featureIndexes:Pe.uShortList},De=(Pe.prototype.parseScriptList=function(){return this.parsePointer(Pe.recordList({tag:Pe.tag,script:Pe.pointer({defaultLangSys:Pe.pointer(qe),langSysRecords:Pe.recordList({tag:Pe.tag,langSys:Pe.pointer(qe)})})}))||[]},Pe.prototype.parseFeatureList=function(){return this.parsePointer(Pe.recordList({tag:Pe.tag,feature:Pe.pointer({featureParams:Pe.offset16,lookupListIndexes:Pe.uShortList})}))||[]},Pe.prototype.parseLookupList=function(j){return this.parsePointer(Pe.list(Pe.pointer(function(){var O=this.parseUShort(),I=(B.argument(1<=O&&O<=9,"GPOS/GSUB lookup type "+O+" unknown."),this.parseUShort()),U=16&I;return{lookupType:O,lookupFlag:I,subtables:this.parseList(Pe.pointer(j[O])),markFilteringSet:U?this.parseUShort():void 0}})))||[]},Pe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var j=this.parseUShort(),O=this.parseUShort();return B.argument(j===1&&O<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Pe.offset32,featureTableSubstitutionOffset:Pe.offset32})})||[]},{getByte:pt,getCard8:pt,getUShort:ot,getCard16:ot,getShort:function(j,O){return j.getInt16(O,!1)},getULong:it,getFixed:ut,getTag:function(j,O){for(var I="",U=O;U<O+4;U+=1)I+=String.fromCharCode(j.getInt8(U));return I},getOffset:function(j,O,I){for(var U=0,H=0;H<I;H+=1)U=(U<<=8)+j.getUint8(O+H);return U},getBytes:function(j,O,I){for(var U=[],H=O;H<I;H+=1)U.push(j.getUint8(H));return U},bytesToString:function(j){for(var O="",I=0;I<j.length;I+=1)O+=String.fromCharCode(j[I]);return O},Parser:Pe}),ie={parse:function(j,O){for(var I={},U=(I.version=De.getUShort(j,O),B.argument(I.version===0,"cmap table version should be 0."),I.numTables=De.getUShort(j,O+2),-1),H=I.numTables-1;0<=H;--H){var J=De.getUShort(j,O+4+8*H),te=De.getUShort(j,O+4+8*H+2);if(J===3&&(te===0||te===1||te===10)||J===0&&(te===0||te===1||te===2||te===3||te===4)){U=De.getULong(j,O+4+8*H+4);break}}if(U===-1)throw new Error("No valid cmap sub-tables found.");var le=new De.Parser(j,O+U);if(I.format=le.parseUShort(),I.format===12){var pe,me=I,ke=le;ke.parseUShort(),me.length=ke.parseULong(),me.language=ke.parseULong(),me.groupCount=pe=ke.parseULong(),me.glyphIndexMap={};for(var Ne=0;Ne<pe;Ne+=1)for(var Oe=ke.parseULong(),xe=ke.parseULong(),$e=ke.parseULong(),Ve=Oe;Ve<=xe;Ve+=1)me.glyphIndexMap[Ve]=$e,$e++}else{if(I.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+I.format+").");var Xe=I,Ue=j,Be=O,wt=U;Xe.length=le.parseUShort(),Xe.language=le.parseUShort(),Xe.segCount=Rt=le.parseUShort()>>1,le.skip("uShort",3),Xe.glyphIndexMap={};for(var Rt,vt=new De.Parser(Ue,Be+wt+14),xt=new De.Parser(Ue,Be+wt+16+2*Rt),It=new De.Parser(Ue,Be+wt+16+4*Rt),Xt=new De.Parser(Ue,Be+wt+16+6*Rt),ur=Be+wt+16+8*Rt,fr=0;fr<Rt-1;fr+=1)for(var Cr=void 0,Mr=vt.parseUShort(),nn=xt.parseUShort(),Yt=It.parseShort(),Jt=Xt.parseUShort(),qt=nn;qt<=Mr;qt+=1)Jt!==0?(ur=(ur=Xt.offset+Xt.relativeOffset-2)+Jt+2*(qt-nn),(Cr=De.getUShort(Ue,ur))!==0&&(Cr=Cr+Yt&65535)):Cr=qt+Yt&65535,Xe.glyphIndexMap[qt]=Cr}return I},make:function(j){for(var O=!0,I=j.length-1;0<I;--I)if(65535<j.get(I).unicode){console.log("Adding CMAP format 12 (needed!)"),O=!1;break}var U,H,J=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:O?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:O?12:20}],te=(J=(J=O?J:J.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Fe.Table("cmap",J));for(te.segments=[],I=0;I<j.length;I+=1){for(var le=j.get(I),pe=0;pe<le.unicodes.length;pe+=1)U=le.unicodes[pe],H=I,te.segments.push({end:U,start:U,delta:-(U-H),offset:0,glyphIndex:H});te.segments=te.segments.sort(function(Be,wt){return Be.start-wt.start})}te.segments.push({end:65535,start:65535,delta:1,offset:0});var me=te.segments.length,ke=0,Ne=[],Oe=[],xe=[],$e=[],Ve=[],Xe=[];for(I=0;I<me;I+=1){var Ue=te.segments[I];Ue.end<=65535&&Ue.start<=65535?(Ne=Ne.concat({name:"end_"+I,type:"USHORT",value:Ue.end}),Oe=Oe.concat({name:"start_"+I,type:"USHORT",value:Ue.start}),xe=xe.concat({name:"idDelta_"+I,type:"SHORT",value:Ue.delta}),$e=$e.concat({name:"idRangeOffset_"+I,type:"USHORT",value:Ue.offset}),Ue.glyphId!==void 0&&(Ve=Ve.concat({name:"glyph_"+I,type:"USHORT",value:Ue.glyphId}))):ke+=1,O||Ue.glyphIndex===void 0||(Xe=(Xe=(Xe=Xe.concat({name:"cmap12Start_"+I,type:"ULONG",value:Ue.start})).concat({name:"cmap12End_"+I,type:"ULONG",value:Ue.end})).concat({name:"cmap12Glyph_"+I,type:"ULONG",value:Ue.glyphIndex}))}return te.segCountX2=2*(me-ke),te.searchRange=2*Math.pow(2,Math.floor(Math.log(me-ke)/Math.log(2))),te.entrySelector=Math.log(te.searchRange/2)/Math.log(2),te.rangeShift=te.segCountX2-te.searchRange,te.fields=te.fields.concat(Ne),te.fields.push({name:"reservedPad",type:"USHORT",value:0}),te.fields=te.fields.concat(Oe),te.fields=te.fields.concat(xe),te.fields=te.fields.concat($e),te.fields=te.fields.concat(Ve),te.cmap4Length=14+2*Ne.length+2+2*Oe.length+2*xe.length+2*$e.length+2*Ve.length,O||(J=16+4*Xe.length,te.cmap12Offset=20+te.cmap4Length,te.fields=te.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:J},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Xe.length/3}]),te.fields=te.fields.concat(Xe)),te}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],he=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ee=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Le(j){this.font=j}function He(j){this.cmap=j}function Qe(j,O){this.encoding=j,this.charset=O}function nt(j){switch(j.version){case 1:this.names=Ee.slice();break;case 2:this.names=new Array(j.numberOfGlyphs);for(var O=0;O<j.numberOfGlyphs;O++)j.glyphNameIndex[O]<Ee.length?this.names[O]=Ee[j.glyphNameIndex[O]]:this.names[O]=j.names[j.glyphNameIndex[O]-Ee.length];break;case 2.5:this.names=new Array(j.numberOfGlyphs);for(var I=0;I<j.numberOfGlyphs;I++)this.names[I]=Ee[I+j.glyphNameIndex[I]];break;default:this.names=[]}}Le.prototype.charToGlyphIndex=function(j){var O=j.codePointAt(0),I=this.font.glyphs;if(I){for(var U=0;U<I.length;U+=1)for(var H=I.get(U),J=0;J<H.unicodes.length;J+=1)if(H.unicodes[J]===O)return U}return null},He.prototype.charToGlyphIndex=function(j){return this.cmap.glyphIndexMap[j.codePointAt(0)]||0},Qe.prototype.charToGlyphIndex=function(j){return j=j.codePointAt(0),j=this.encoding[j],this.charset.indexOf(j)},nt.prototype.nameToGlyphIndex=function(j){return this.names.indexOf(j)},nt.prototype.glyphIndexToName=function(j){return this.names[j]};var st={line:function(j,O,I,U,H){j.beginPath(),j.moveTo(O,I),j.lineTo(U,H),j.stroke()}};function ct(j){this.bindConstructorValues(j)}function Mt(j,O,I){Object.defineProperty(j,O,{get:function(){return j.path,j[I]},set:function(U){j[I]=U},enumerable:!0,configurable:!0})}function Ct(j,O){if(this.font=j,this.glyphs={},Array.isArray(O))for(var I=0;I<O.length;I++)this.glyphs[I]=O[I];this.length=O&&O.length||0}ct.prototype.bindConstructorValues=function(j){var O;this.index=j.index||0,this.name=j.name||null,this.unicode=j.unicode||void 0,this.unicodes=j.unicodes||j.unicode!==void 0?[j.unicode]:[],j.xMin&&(this.xMin=j.xMin),j.yMin&&(this.yMin=j.yMin),j.xMax&&(this.xMax=j.xMax),j.yMax&&(this.yMax=j.yMax),j.advanceWidth&&(this.advanceWidth=j.advanceWidth),Object.defineProperty(this,"path",(j=j.path,O=j||new Z,{configurable:!0,get:function(){return O=typeof O=="function"?O():O},set:function(I){O=I}}))},ct.prototype.addUnicode=function(j){this.unicodes.length===0&&(this.unicode=j),this.unicodes.push(j)},ct.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ct.prototype.getPath=function(j,O,I,U,H){j=j!==void 0?j:0,O=O!==void 0?O:0,I=I!==void 0?I:72;for(var J,te,le=(U=U||{}).xScale,pe=U.yScale,me=((J=U.hinting&&H&&H.hinting?this.path&&H.hinting.exec(this,I):J)?(te=H.hinting.getCommands(J),j=Math.round(j),O=Math.round(O),le=pe=1):(te=this.path.commands,U=1/this.path.unitsPerEm*I,le===void 0&&(le=U),pe===void 0&&(pe=U)),new Z),ke=0;ke<te.length;ke+=1){var Ne=te[ke];Ne.type==="M"?me.moveTo(j+Ne.x*le,O+-Ne.y*pe):Ne.type==="L"?me.lineTo(j+Ne.x*le,O+-Ne.y*pe):Ne.type==="Q"?me.quadraticCurveTo(j+Ne.x1*le,O+-Ne.y1*pe,j+Ne.x*le,O+-Ne.y*pe):Ne.type==="C"?me.curveTo(j+Ne.x1*le,O+-Ne.y1*pe,j+Ne.x2*le,O+-Ne.y2*pe,j+Ne.x*le,O+-Ne.y*pe):Ne.type==="Z"&&me.closePath()}return me},ct.prototype.getContours=function(){if(this.points===void 0)return[];for(var j=[],O=[],I=0;I<this.points.length;I+=1){var U=this.points[I];O.push(U),U.lastPointOfContour&&(j.push(O),O=[])}return B.argument(O.length===0,"There are still points left in the current contour."),j},ct.prototype.getMetrics=function(){for(var j=this.path.commands,O=[],I=[],U=0;U<j.length;U+=1){var H=j[U];H.type!=="Z"&&(O.push(H.x),I.push(H.y)),H.type!=="Q"&&H.type!=="C"||(O.push(H.x1),I.push(H.y1)),H.type==="C"&&(O.push(H.x2),I.push(H.y2))}var J={xMin:Math.min.apply(null,O),yMin:Math.min.apply(null,I),xMax:Math.max.apply(null,O),yMax:Math.max.apply(null,I),leftSideBearing:this.leftSideBearing};return isFinite(J.xMin)||(J.xMin=0),isFinite(J.xMax)||(J.xMax=this.advanceWidth),isFinite(J.yMin)||(J.yMin=0),isFinite(J.yMax)||(J.yMax=0),J.rightSideBearing=this.advanceWidth-J.leftSideBearing-(J.xMax-J.xMin),J},ct.prototype.draw=function(j,O,I,U,H){this.getPath(O,I,U,H).draw(j)},ct.prototype.drawPoints=function(j,O,I,U){function H(ke,Ne,Oe,xe){var $e=2*Math.PI;j.beginPath();for(var Ve=0;Ve<ke.length;Ve+=1)j.moveTo(Ne+ke[Ve].x*xe,Oe+ke[Ve].y*xe),j.arc(Ne+ke[Ve].x*xe,Oe+ke[Ve].y*xe,2,0,$e,!1);j.closePath(),j.fill()}O=O!==void 0?O:0,I=I!==void 0?I:0;for(var U=1/this.path.unitsPerEm*(U=U!==void 0?U:24),J=[],te=[],le=this.path,pe=0;pe<le.commands.length;pe+=1){var me=le.commands[pe];me.x!==void 0&&J.push({x:me.x,y:-me.y}),me.x1!==void 0&&te.push({x:me.x1,y:-me.y1}),me.x2!==void 0&&te.push({x:me.x2,y:-me.y2})}j.fillStyle="blue",H(J,O,I,U),j.fillStyle="red",H(te,O,I,U)},ct.prototype.drawMetrics=function(j,O,I,U){O=O!==void 0?O:0,I=I!==void 0?I:0,U=1/this.path.unitsPerEm*(U=U!==void 0?U:24),j.lineWidth=1,j.strokeStyle="black",st.line(j,O,-1e4,O,1e4),st.line(j,-1e4,I,1e4,I);var H=this.xMin||0,J=this.yMin||0,te=this.xMax||0,le=this.yMax||0,pe=this.advanceWidth||0;j.strokeStyle="blue",st.line(j,O+H*U,-1e4,O+H*U,1e4),st.line(j,O+te*U,-1e4,O+te*U,1e4),st.line(j,-1e4,I+-J*U,1e4,I+-J*U),st.line(j,-1e4,I+-le*U,1e4,I+-le*U),j.strokeStyle="green",st.line(j,O+pe*U,-1e4,O+pe*U,1e4)},Ct.prototype.get=function(j){return typeof this.glyphs[j]=="function"&&(this.glyphs[j]=this.glyphs[j]()),this.glyphs[j]},Ct.prototype.push=function(j,O){this.glyphs[j]=O,this.length++};var yt={GlyphSet:Ct,glyphLoader:function(j,O){return new ct({index:O,font:j})},ttfGlyphLoader:function(j,O,I,U,H,J){return function(){var te=new ct({index:O,font:j});return te.path=function(){I(te,U,H);var le=J(j.glyphs,te);return le.unitsPerEm=j.unitsPerEm,le},Mt(te,"xMin","_xMin"),Mt(te,"xMax","_xMax"),Mt(te,"yMin","_yMin"),Mt(te,"yMax","_yMax"),te}},cffGlyphLoader:function(j,O,I,U){return function(){var H=new ct({index:O,font:j});return H.path=function(){var J=I(j,H,U);return J.unitsPerEm=j.unitsPerEm,J},H}}};function Pt(j){return j=j.length<1240?107:j.length<33900?1131:32768,j}function Et(j,O,I){var U,H=[],J=[],te=De.getCard16(j,O);if(te!==0){for(var le=De.getByte(j,O+2),pe=O+(te+1)*le+2,me=O+3,ke=0;ke<te+1;ke+=1)H.push(De.getOffset(j,me,le)),me+=le;U=pe+H[te]}else U=O+2;for(var Ne=0;Ne<H.length-1;Ne+=1){var Oe=De.getBytes(j,pe+H[Ne],pe+H[Ne+1]);I&&(Oe=I(Oe)),J.push(Oe)}return{objects:J,startOffset:O,endOffset:U}}function Kt(j,O){if(O===28)return j.parseByte()<<8|j.parseByte();if(O===29)return j.parseByte()<<24|j.parseByte()<<16|j.parseByte()<<8|j.parseByte();if(O===30){for(var I=j,U="",H=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var te=I.parseByte(),J=te>>4,te=15&te;if(J==15||(U+=H[J],te==15))break;U+=H[te]}return parseFloat(U)}if(32<=O&&O<=246)return O-139;if(247<=O&&O<=250)return 256*(O-247)+j.parseByte()+108;if(251<=O&&O<=254)return 256*-(O-251)-j.parseByte()-108;throw new Error("Invalid b0 "+O)}function Tr(j,O,I){var U=new De.Parser(j,O=O!==void 0?O:0),H=[],J=[];for(I=I!==void 0?I:j.length;U.relativeOffset<I;){var te=U.parseByte();te<=21?(te===12&&(te=1200+U.parseByte()),H.push([te,J]),J=[]):J.push(Kt(U,te))}for(var le=H,pe={},me=0;me<le.length;me+=1){var ke=le[me][0],Ne=le[me][1],Oe=void 0,Oe=Ne.length===1?Ne[0]:Ne;if(pe.hasOwnProperty(ke)&&!isNaN(pe[ke]))throw new Error("Object "+pe+" already has key "+ke);pe[ke]=Oe}return pe}function dr(j,O){return O=O<=390?ce[O]:j[O-391]}function Bt(j,O,I){for(var U,H={},J=0;J<O.length;J+=1){var te=O[J];if(Array.isArray(te.type)){var le=[];le.length=te.type.length;for(var pe=0;pe<te.type.length;pe++)(U=j[te.op]!==void 0?j[te.op][pe]:void 0)===void 0&&(U=te.value!==void 0&&te.value[pe]!==void 0?te.value[pe]:null),te.type[pe]==="SID"&&(U=dr(I,U)),le[pe]=U;H[te.name]=le}else(U=j[te.op])===void 0&&(U=te.value!==void 0?te.value:null),te.type==="SID"&&(U=dr(I,U)),H[te.name]=U}return H}var Zt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Nt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Or(j,O,I,U){return Bt(Tr(j,O,I),Nt,U)}function lr(j,O,I,U){for(var H=[],J=0;J<I.length;J+=1){var te=new DataView(new Uint8Array(I[J]).buffer),te=(le=U,Bt(Tr(te,0,te.byteLength),Zt,le)),le=(te._subrs=[],te._subrsBias=0,te.private[0]),pe=te.private[1];le!==0&&pe!==0&&(le=Or(j,pe+O,le,U),te._defaultWidthX=le.defaultWidthX,te._nominalWidthX=le.nominalWidthX,le.subrs!==0&&(pe=Et(j,pe+le.subrs+O),te._subrs=pe.objects,te._subrsBias=Pt(te._subrs)),te._privateDict=le),H.push(te)}return H}function zt(j,O,I){var U,H,J,te,le,pe,me,ke,Ne,Oe=new Z,xe=[],$e=0,Ve=!1,Xe=!1,Ue=0,Be=0,wt=(Ne=(j.isCIDFont?(le=j.tables.cff.topDict._fdSelect[O.index],le=j.tables.cff.topDict._fdArray[le],pe=le._subrs,me=le._subrsBias,ke=le._defaultWidthX,le):(pe=j.tables.cff.topDict._subrs,me=j.tables.cff.topDict._subrsBias,ke=j.tables.cff.topDict._defaultWidthX,j.tables.cff.topDict))._nominalWidthX,ke);function Rt(xt,It){Xe&&Oe.closePath(),Oe.moveTo(xt,It),Xe=!0}function vt(){xe.length%2==0||Ve||(wt=xe.shift()+Ne),$e+=xe.length>>1,xe.length=0,Ve=!0}return function xt(It){for(var Xt,ur,fr,Cr,Mr,nn,Yt,Jt,qt,Ir,or,Ar,tr=0;tr<It.length;){var $t=It[tr];switch(tr+=1,$t){case 1:case 3:vt();break;case 4:1<xe.length&&!Ve&&(wt=xe.shift()+Ne,Ve=!0),Be+=xe.pop(),Rt(Ue,Be);break;case 5:for(;0<xe.length;)Ue+=xe.shift(),Be+=xe.shift(),Oe.lineTo(Ue,Be);break;case 6:for(;0<xe.length&&(Ue+=xe.shift(),Oe.lineTo(Ue,Be),xe.length!==0);)Be+=xe.shift(),Oe.lineTo(Ue,Be);break;case 7:for(;0<xe.length&&(Be+=xe.shift(),Oe.lineTo(Ue,Be),xe.length!==0);)Ue+=xe.shift(),Oe.lineTo(Ue,Be);break;case 8:for(;0<xe.length;)U=Ue+xe.shift(),H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Ue=J+xe.shift(),Be=te+xe.shift(),Oe.curveTo(U,H,J,te,Ue,Be);break;case 10:Mr=xe.pop()+me,(nn=pe[Mr])&&xt(nn);break;case 11:return;case 12:switch($t=It[tr],tr+=1,$t){case 35:U=Ue+xe.shift(),H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Yt=J+xe.shift(),Jt=te+xe.shift(),qt=Yt+xe.shift(),Ir=Jt+xe.shift(),or=qt+xe.shift(),Ar=Ir+xe.shift(),Ue=or+xe.shift(),Be=Ar+xe.shift(),xe.shift(),Oe.curveTo(U,H,J,te,Yt,Jt),Oe.curveTo(qt,Ir,or,Ar,Ue,Be);break;case 34:U=Ue+xe.shift(),H=Be,J=U+xe.shift(),te=H+xe.shift(),Yt=J+xe.shift(),Jt=te,qt=Yt+xe.shift(),Ir=te,or=qt+xe.shift(),Ar=Be,Ue=or+xe.shift(),Oe.curveTo(U,H,J,te,Yt,Jt),Oe.curveTo(qt,Ir,or,Ar,Ue,Be);break;case 36:U=Ue+xe.shift(),H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Yt=J+xe.shift(),Jt=te,qt=Yt+xe.shift(),Ir=te,or=qt+xe.shift(),Ar=Ir+xe.shift(),Ue=or+xe.shift(),Oe.curveTo(U,H,J,te,Yt,Jt),Oe.curveTo(qt,Ir,or,Ar,Ue,Be);break;case 37:U=Ue+xe.shift(),H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Yt=J+xe.shift(),Jt=te+xe.shift(),qt=Yt+xe.shift(),Ir=Jt+xe.shift(),or=qt+xe.shift(),Ar=Ir+xe.shift(),Math.abs(or-Ue)>Math.abs(Ar-Be)?Ue=or+xe.shift():Be=Ar+xe.shift(),Oe.curveTo(U,H,J,te,Yt,Jt),Oe.curveTo(qt,Ir,or,Ar,Ue,Be);break;default:console.log("Glyph "+O.index+": unknown operator 1200"+$t),xe.length=0}break;case 14:0<xe.length&&!Ve&&(wt=xe.shift()+Ne,Ve=!0),Xe&&(Oe.closePath(),Xe=!1);break;case 18:vt();break;case 19:case 20:vt(),tr+=$e+7>>3;break;case 21:2<xe.length&&!Ve&&(wt=xe.shift()+Ne,Ve=!0),Be+=xe.pop(),Rt(Ue+=xe.pop(),Be);break;case 22:1<xe.length&&!Ve&&(wt=xe.shift()+Ne,Ve=!0),Rt(Ue+=xe.pop(),Be);break;case 23:vt();break;case 24:for(;2<xe.length;)U=Ue+xe.shift(),H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Ue=J+xe.shift(),Be=te+xe.shift(),Oe.curveTo(U,H,J,te,Ue,Be);Ue+=xe.shift(),Be+=xe.shift(),Oe.lineTo(Ue,Be);break;case 25:for(;6<xe.length;)Ue+=xe.shift(),Be+=xe.shift(),Oe.lineTo(Ue,Be);U=Ue+xe.shift(),H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Ue=J+xe.shift(),Be=te+xe.shift(),Oe.curveTo(U,H,J,te,Ue,Be);break;case 26:for(xe.length%2&&(Ue+=xe.shift());0<xe.length;)U=Ue,H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Ue=J,Be=te+xe.shift(),Oe.curveTo(U,H,J,te,Ue,Be);break;case 27:for(xe.length%2&&(Be+=xe.shift());0<xe.length;)U=Ue+xe.shift(),H=Be,J=U+xe.shift(),te=H+xe.shift(),Ue=J+xe.shift(),Be=te,Oe.curveTo(U,H,J,te,Ue,Be);break;case 28:Xt=It[tr],ur=It[tr+1],xe.push((Xt<<24|ur<<16)>>16),tr+=2;break;case 29:Mr=xe.pop()+j.gsubrsBias,(nn=j.gsubrs[Mr])&&xt(nn);break;case 30:for(;0<xe.length&&(U=Ue,H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Ue=J+xe.shift(),Be=te+(xe.length===1?xe.shift():0),Oe.curveTo(U,H,J,te,Ue,Be),xe.length!==0);)U=Ue+xe.shift(),H=Be,J=U+xe.shift(),te=H+xe.shift(),Be=te+xe.shift(),Ue=J+(xe.length===1?xe.shift():0),Oe.curveTo(U,H,J,te,Ue,Be);break;case 31:for(;0<xe.length&&(U=Ue+xe.shift(),H=Be,J=U+xe.shift(),te=H+xe.shift(),Be=te+xe.shift(),Ue=J+(xe.length===1?xe.shift():0),Oe.curveTo(U,H,J,te,Ue,Be),xe.length!==0);)U=Ue,H=Be+xe.shift(),J=U+xe.shift(),te=H+xe.shift(),Ue=J+xe.shift(),Be=te+(xe.length===1?xe.shift():0),Oe.curveTo(U,H,J,te,Ue,Be);break;default:$t<32?console.log("Glyph "+O.index+": unknown operator "+$t):$t<247?xe.push($t-139):$t<251?(Xt=It[tr],tr+=1,xe.push(256*($t-247)+Xt+108)):$t<255?(Xt=It[tr],tr+=1,xe.push(256*-($t-251)-Xt-108)):(Xt=It[tr],ur=It[tr+1],fr=It[tr+2],Cr=It[tr+3],tr+=4,xe.push((Xt<<24|ur<<16|fr<<8|Cr)/65536))}}}(I),O.advanceWidth=wt,Oe}function gr(j,O){var I,U=ce.indexOf(j);return 0<=U&&(I=U),0<=(U=O.indexOf(j))?I=U+ce.length:(I=ce.length+O.length,O.push(j)),I}function es(j,O,I){for(var U={},H=0;H<j.length;H+=1){var J=j[H],te=O[J.name];te===void 0||function le(pe,me){if(pe===me)return 1;if(Array.isArray(pe)&&Array.isArray(me)&&pe.length===me.length){for(var ke=0;ke<pe.length;ke+=1)if(!le(pe[ke],me[ke]))return;return 1}}(te,J.value)||(J.type==="SID"&&(te=gr(te,I)),U[J.op]={name:J.name,type:J.type,value:te})}return U}function Ys(j,O){var I=new Fe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return I.dict=es(Zt,j,O),I}function $s(j){var O=new Fe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return O.topDicts=[{name:"topDict_0",type:"TABLE",value:j}],O}function Mo(j){for(var O=new Fe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),I=0;I<j.length;I+=1){var U=j.get(I),H=function(J){for(var te=[],le=J.path,pe=(te.push({name:"width",type:"NUMBER",value:J.advanceWidth}),0),me=0,ke=0;ke<le.commands.length;ke+=1){var Ne,Oe,xe,$e,Ve=void 0,Xe=void 0,Ue=le.commands[ke];(Ue=Ue.type==="Q"?{type:"C",x:Ue.x,y:Ue.y,x1:1/3*pe+2/3*Ue.x1,y1:1/3*me+2/3*Ue.y1,x2:1/3*Ue.x+2/3*Ue.x1,y2:1/3*Ue.y+2/3*Ue.y1}:Ue).type==="M"?(Ve=Math.round(Ue.x-pe),Xe=Math.round(Ue.y-me),te.push({name:"dx",type:"NUMBER",value:Ve}),te.push({name:"dy",type:"NUMBER",value:Xe}),te.push({name:"rmoveto",type:"OP",value:21}),pe=Math.round(Ue.x),me=Math.round(Ue.y)):Ue.type==="L"?(Ve=Math.round(Ue.x-pe),Xe=Math.round(Ue.y-me),te.push({name:"dx",type:"NUMBER",value:Ve}),te.push({name:"dy",type:"NUMBER",value:Xe}),te.push({name:"rlineto",type:"OP",value:5}),pe=Math.round(Ue.x),me=Math.round(Ue.y)):Ue.type==="C"&&(Ne=Math.round(Ue.x1-pe),Oe=Math.round(Ue.y1-me),xe=Math.round(Ue.x2-Ue.x1),$e=Math.round(Ue.y2-Ue.y1),Ve=Math.round(Ue.x-Ue.x2),Xe=Math.round(Ue.y-Ue.y2),te.push({name:"dx1",type:"NUMBER",value:Ne}),te.push({name:"dy1",type:"NUMBER",value:Oe}),te.push({name:"dx2",type:"NUMBER",value:xe}),te.push({name:"dy2",type:"NUMBER",value:$e}),te.push({name:"dx",type:"NUMBER",value:Ve}),te.push({name:"dy",type:"NUMBER",value:Xe}),te.push({name:"rrcurveto",type:"OP",value:8}),pe=Math.round(Ue.x),me=Math.round(Ue.y))}return te.push({name:"endchar",type:"OP",value:14}),te}(U);O.charStrings.push({name:U.name,type:"CHARSTRING",value:H})}return O}var dn={parse:function(j,O,I){I.tables.cff={},le=j,U=O,(H={}).formatMajor=De.getCard8(le,U),H.formatMinor=De.getCard8(le,U+1),H.size=De.getCard8(le,U+2),H.offsetSize=De.getCard8(le,U+3),H.startOffset=U,H.endOffset=U+4;var le=Et(j,H.endOffset,De.bytesToString),U=Et(j,le.endOffset),H=Et(j,U.endOffset,De.bytesToString),le=Et(j,H.endOffset);if(I.gsubrs=le.objects,I.gsubrsBias=Pt(I.gsubrs),(le=lr(j,O,U.objects,H.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+le.length);if(U=le[0],(I.tables.cff.topDict=U)._privateDict&&(I.defaultWidthX=U._privateDict.defaultWidthX,I.nominalWidthX=U._privateDict.nominalWidthX),U.ros[0]!==void 0&&U.ros[1]!==void 0&&(I.isCIDFont=!0),I.isCIDFont){var le=U.fdArray,J=U.fdSelect;if(le===0||J===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");le=lr(j,O,Et(j,le+=O).objects,H.objects),U._fdArray=le,U._fdSelect=function(Oe,xe,$e,Ve){var Xe,Ue=[],Be=new De.Parser(Oe,xe);if((Oe=Be.parseCard8())===0)for(var wt=0;wt<$e;wt++){if(Ve<=(Xe=Be.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+Ve+")");Ue.push(Xe)}else{if(Oe!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Oe);var Rt,vt=Be.parseCard16(),xt=Be.parseCard16();if(xt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+xt);for(var It=0;It<vt;It++){if(Xe=Be.parseCard8(),Rt=Be.parseCard16(),Ve<=Xe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+Ve+")");if($e<Rt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Rt);for(;xt<Rt;xt++)Ue.push(Xe);xt=Rt}if(Rt!==$e)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Rt)}return Ue}(j,J+=O,I.numGlyphs,le.length)}var J=O+U.private[1],le=Or(j,J,U.private[0],H.objects),te=(I.defaultWidthX=le.defaultWidthX,I.nominalWidthX=le.nominalWidthX,le.subrs!==0?(J=Et(j,J+le.subrs),I.subrs=J.objects,I.subrsBias=Pt(I.subrs)):(I.subrs=[],I.subrsBias=0),Et(j,O+U.charStrings)),le=(I.nGlyphs=te.objects.length,function(ke,Ne,Oe,xe){var $e=new De.Parser(ke,Ne),Ve=(--Oe,[".notdef"]);if((ke=$e.parseCard8())===0)for(var Xe=0;Xe<Oe;Xe+=1)Ue=$e.parseSID(),Ve.push(dr(xe,Ue));else if(ke===1)for(;Ve.length<=Oe;)for(var Ue=$e.parseSID(),Be=$e.parseCard8(),wt=0;wt<=Be;wt+=1)Ve.push(dr(xe,Ue)),Ue+=1;else{if(ke!==2)throw new Error("Unknown charset format "+ke);for(;Ve.length<=Oe;){Ue=$e.parseSID(),Be=$e.parseCard16();for(var Rt=0;Rt<=Be;Rt+=1)Ve.push(dr(xe,Ue)),Ue+=1}}return Ve}(j,O+U.charset,I.nGlyphs,H.objects));U.encoding===0?I.cffEncoding=new Qe(re,le):U.encoding===1?I.cffEncoding=new Qe(he,le):I.cffEncoding=function(ke,Ne,Oe){var xe={},$e=new De.Parser(ke,Ne);if((ke=$e.parseCard8())===0)for(var Ve=$e.parseCard8(),Xe=0;Xe<Ve;Xe+=1)xe[Be=$e.parseCard8()]=Xe;else{if(ke!==1)throw new Error("Unknown encoding format "+ke);for(var Ue=$e.parseCard8(),Be=1,wt=0;wt<Ue;wt+=1)for(var Rt=$e.parseCard8(),vt=$e.parseCard8(),xt=Rt;xt<=Rt+vt;xt+=1)xe[xt]=Be,Be+=1}return new Qe(xe,Oe)}(j,O+U.encoding,le),I.encoding=I.encoding||I.cffEncoding,I.glyphs=new yt.GlyphSet(I);for(var pe=0;pe<I.nGlyphs;pe+=1){var me=te.objects[pe];I.glyphs.push(pe,yt.cffGlyphLoader(I,pe,zt,me))}},make:function(j,ke){for(var I,U=new Fe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),H=1/ke.unitsPerEm,H={version:ke.version,fullName:ke.fullName,familyName:ke.familyName,weight:ke.weightName,fontBBox:ke.fontBBox||[0,0,0,0],fontMatrix:[H,0,0,H,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},J=[],te=1;te<j.length;te+=1)I=j.get(te),J.push(I.name);var le,pe,me=[],ke=(U.header=new Fe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),U.nameIndex=function(Oe){var xe=new Fe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);xe.names=[];for(var $e=0;$e<Oe.length;$e+=1)xe.names.push({name:"name_"+$e,type:"NAME",value:Oe[$e]});return xe}([ke.postScriptName]),Ys(H,me)),Ne=(U.topDictIndex=$s(ke),U.globalSubrIndex=new Fe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),U.charsets=function(Oe,xe){for(var $e=new Fe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ve=0;Ve<Oe.length;Ve+=1){var Xe=gr(Oe[Ve],xe);$e.fields.push({name:"glyph_"+Ve,type:"SID",value:Xe})}return $e}(J,me),U.charStringsIndex=Mo(j),U.privateDict=(Ne={},le=me,(pe=new Fe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=es(Nt,Ne,le),pe),U.stringIndex=function(Oe){var xe=new Fe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);xe.strings=[];for(var $e=0;$e<Oe.length;$e+=1)xe.strings.push({name:"string_"+$e,type:"STRING",value:Oe[$e]});return xe}(me),U.header.sizeOf()+U.nameIndex.sizeOf()+U.topDictIndex.sizeOf()+U.stringIndex.sizeOf()+U.globalSubrIndex.sizeOf());return H.charset=Ne,H.encoding=0,H.charStrings=H.charset+U.charsets.sizeOf(),H.private[1]=H.charStrings+U.charStringsIndex.sizeOf(),ke=Ys(H,me),U.topDictIndex=$s(ke),U}},gs={parse:function(U,O){var I={},U=new De.Parser(U,O);return I.version=U.parseVersion(),I.fontRevision=Math.round(1e3*U.parseFixed())/1e3,I.checkSumAdjustment=U.parseULong(),I.magicNumber=U.parseULong(),B.argument(I.magicNumber===1594834165,"Font header has wrong magic number."),I.flags=U.parseUShort(),I.unitsPerEm=U.parseUShort(),I.created=U.parseLongDateTime(),I.modified=U.parseLongDateTime(),I.xMin=U.parseShort(),I.yMin=U.parseShort(),I.xMax=U.parseShort(),I.yMax=U.parseShort(),I.macStyle=U.parseUShort(),I.lowestRecPPEM=U.parseUShort(),I.fontDirectionHint=U.parseShort(),I.indexToLocFormat=U.parseShort(),I.glyphDataFormat=U.parseShort(),I},make:function(j){var O=Math.round(new Date().getTime()/1e3)+2082844800,I=O;return j.createdTimestamp&&(I=j.createdTimestamp+2082844800),new Fe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:I},{name:"modified",type:"LONGDATETIME",value:O},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],j)}},we={parse:function(U,O){var I={},U=new De.Parser(U,O);return I.version=U.parseVersion(),I.ascender=U.parseShort(),I.descender=U.parseShort(),I.lineGap=U.parseShort(),I.advanceWidthMax=U.parseUShort(),I.minLeftSideBearing=U.parseShort(),I.minRightSideBearing=U.parseShort(),I.xMaxExtent=U.parseShort(),I.caretSlopeRise=U.parseShort(),I.caretSlopeRun=U.parseShort(),I.caretOffset=U.parseShort(),U.relativeOffset+=8,I.metricDataFormat=U.parseShort(),I.numberOfHMetrics=U.parseUShort(),I},make:function(j){return new Fe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],j)}},Je={parse:function(j,O,I,U,H){for(var J,te,le=new De.Parser(j,O),pe=0;pe<U;pe+=1){pe<I&&(J=le.parseUShort(),te=le.parseShort());var me=H.get(pe);me.advanceWidth=J,me.leftSideBearing=te}},make:function(j){for(var O=new Fe.Table("hmtx",[]),I=0;I<j.length;I+=1){var H=j.get(I),U=H.advanceWidth||0,H=H.leftSideBearing||0;O.fields.push({name:"advanceWidth_"+I,type:"USHORT",value:U}),O.fields.push({name:"leftSideBearing_"+I,type:"SHORT",value:H})}return O}},ft={make:function(j){for(var O=new Fe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:j.length}]),I="",U=12+4*j.length,H=0;H<j.length;++H){var J=I.indexOf(j[H]);J<0&&(J=I.length,I+=j[H]),O.fields.push({name:"offset "+H,type:"USHORT",value:U+J}),O.fields.push({name:"length "+H,type:"USHORT",value:j[H].length})}return O.fields.push({name:"stringPool",type:"CHARARRAY",value:I}),O},parse:function(j,O){for(var I=new De.Parser(j,O),U=I.parseULong(),H=(B.argument(U===1,"Unsupported ltag table version."),I.skip("uLong",1),I.parseULong()),J=[],te=0;te<H;te++){for(var le="",pe=O+I.parseUShort(),me=I.parseUShort(),ke=pe;ke<pe+me;++ke)le+=String.fromCharCode(j.getInt8(ke));J.push(le)}return J}},Ze={parse:function(U,O){var I={},U=new De.Parser(U,O);return I.version=U.parseVersion(),I.numGlyphs=U.parseUShort(),I.version===1&&(I.maxPoints=U.parseUShort(),I.maxContours=U.parseUShort(),I.maxCompositePoints=U.parseUShort(),I.maxCompositeContours=U.parseUShort(),I.maxZones=U.parseUShort(),I.maxTwilightPoints=U.parseUShort(),I.maxStorage=U.parseUShort(),I.maxFunctionDefs=U.parseUShort(),I.maxInstructionDefs=U.parseUShort(),I.maxStackElements=U.parseUShort(),I.maxSizeOfInstructions=U.parseUShort(),I.maxComponentElements=U.parseUShort(),I.maxComponentDepth=U.parseUShort()),I},make:function(j){return new Fe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:j}])}},Ft=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ke={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Vt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},dt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},kt="utf-16",ht={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},sr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function vr(j,O,I){switch(j){case 0:return kt;case 1:return sr[I]||ht[O];case 3:if(O===1||O===10)return kt}}function er(j){var O,I={};for(O in j)I[j[O]]=parseInt(O);return I}function Er(j,O,I,U,H,J){return new Fe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:j},{name:"encodingID",type:"USHORT",value:O},{name:"languageID",type:"USHORT",value:I},{name:"nameID",type:"USHORT",value:U},{name:"length",type:"USHORT",value:H},{name:"offset",type:"USHORT",value:J}])}function fn(j,O){if((I=function(J,te){var le=J.length,pe=te.length-le+1;e:for(var me=0;me<pe;me++)for(;me<pe;me++){for(var ke=0;ke<le;ke++)if(te[me+ke]!==J[ke])continue e;return me}return-1}(j,O))<0)for(var I=O.length,U=0,H=j.length;U<H;++U)O.push(j[U]);return I}var Dr={parse:function(j,O,I){for(var U={},H=new De.Parser(j,O),O=H.parseUShort(),J=H.parseUShort(),te=H.offset+H.parseUShort(),le=0;le<J;le++){var $e=H.parseUShort(),pe=H.parseUShort(),me=H.parseUShort(),ke=H.parseUShort(),ke=Ft[ke]||ke,Ne=H.parseUShort(),Oe=H.parseUShort(),xe=function(Xe,Ue,Be){switch(Xe){case 0:if(Ue===65535)return"und";if(Be)return Be[Ue];break;case 1:return Ke[Ue];case 3:return dt[Ue]}}($e,me,I),$e=vr($e,pe,me);$e!==void 0&&xe!==void 0&&(pe=void 0,(pe=$e===kt?W.UTF16(j,te+Oe,Ne):W.MACSTRING(j,te+Oe,Ne,$e))&&((me=(me=U[ke])===void 0?U[ke]={}:me)[xe]=pe))}return O===1&&H.parseUShort(),U},make:function(j,O){var I,U=[],H={},J=er(Ft);for(I in j){var te=J[I];if(te===void 0&&(te=I),Oe=parseInt(te),isNaN(Oe))throw new Error('Name table entry "'+I+'" does not exist, see nameTableNames for complete list.');H[Oe]=j[I],U.push(Oe)}for(var le=er(Ke),pe=er(dt),me=[],ke=[],Ne=0;Ne<U.length;Ne++){var Oe,xe,$e=H[Oe=U[Ne]];for(xe in $e){var Ve=$e[xe],Rt=1,Xe=le[xe],Ue=Vt[Xe],Be=vr(Rt,Ue,Xe),Be=K.MACSTRING(Ve,Be),wt=(Be===void 0&&(Rt=0,(Xe=O.indexOf(xe))<0&&(Xe=O.length,O.push(xe)),Ue=4,Be=K.UTF16(Ve)),fn(Be,ke)),Rt=(me.push(Er(Rt,Ue,Xe,Oe,Be.length,wt)),pe[xe]);Rt!==void 0&&(Xe=fn(Ue=K.UTF16(Ve),ke),me.push(Er(3,1,Rt,Oe,Ue.length,Xe)))}}me.sort(function(It,Xt){return It.platformID-Xt.platformID||It.encodingID-Xt.encodingID||It.languageID-Xt.languageID||It.nameID-Xt.nameID});for(var vt=new Fe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:me.length},{name:"stringOffset",type:"USHORT",value:6+12*me.length}]),xt=0;xt<me.length;xt++)vt.fields.push({name:"record_"+xt,type:"RECORD",value:me[xt]});return vt.fields.push({name:"strings",type:"LITERAL",value:ke}),vt}},jr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],kr={parse:function(j,O){var I={},U=new De.Parser(j,O);I.version=U.parseUShort(),I.xAvgCharWidth=U.parseShort(),I.usWeightClass=U.parseUShort(),I.usWidthClass=U.parseUShort(),I.fsType=U.parseUShort(),I.ySubscriptXSize=U.parseShort(),I.ySubscriptYSize=U.parseShort(),I.ySubscriptXOffset=U.parseShort(),I.ySubscriptYOffset=U.parseShort(),I.ySuperscriptXSize=U.parseShort(),I.ySuperscriptYSize=U.parseShort(),I.ySuperscriptXOffset=U.parseShort(),I.ySuperscriptYOffset=U.parseShort(),I.yStrikeoutSize=U.parseShort(),I.yStrikeoutPosition=U.parseShort(),I.sFamilyClass=U.parseShort(),I.panose=[];for(var H=0;H<10;H++)I.panose[H]=U.parseByte();return I.ulUnicodeRange1=U.parseULong(),I.ulUnicodeRange2=U.parseULong(),I.ulUnicodeRange3=U.parseULong(),I.ulUnicodeRange4=U.parseULong(),I.achVendID=String.fromCharCode(U.parseByte(),U.parseByte(),U.parseByte(),U.parseByte()),I.fsSelection=U.parseUShort(),I.usFirstCharIndex=U.parseUShort(),I.usLastCharIndex=U.parseUShort(),I.sTypoAscender=U.parseShort(),I.sTypoDescender=U.parseShort(),I.sTypoLineGap=U.parseShort(),I.usWinAscent=U.parseUShort(),I.usWinDescent=U.parseUShort(),1<=I.version&&(I.ulCodePageRange1=U.parseULong(),I.ulCodePageRange2=U.parseULong()),2<=I.version&&(I.sxHeight=U.parseShort(),I.sCapHeight=U.parseShort(),I.usDefaultChar=U.parseUShort(),I.usBreakChar=U.parseUShort(),I.usMaxContent=U.parseUShort()),I},make:function(j){return new Fe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],j)},unicodeRanges:jr,getUnicodeRange:function(j){for(var O=0;O<jr.length;O+=1){var I=jr[O];if(j>=I.begin&&j<I.end)return O}return-1}},en={parse:function(j,O){var I={},U=new De.Parser(j,O);switch(I.version=U.parseVersion(),I.italicAngle=U.parseFixed(),I.underlinePosition=U.parseShort(),I.underlineThickness=U.parseShort(),I.isFixedPitch=U.parseULong(),I.minMemType42=U.parseULong(),I.maxMemType42=U.parseULong(),I.minMemType1=U.parseULong(),I.maxMemType1=U.parseULong(),I.version){case 1:I.names=Ee.slice();break;case 2:I.numberOfGlyphs=U.parseUShort(),I.glyphNameIndex=new Array(I.numberOfGlyphs);for(var H=0;H<I.numberOfGlyphs;H++)I.glyphNameIndex[H]=U.parseUShort();I.names=[];for(var J,te=0;te<I.numberOfGlyphs;te++)I.glyphNameIndex[te]>=Ee.length&&(J=U.parseChar(),I.names.push(U.parseString(J)));break;case 2.5:I.numberOfGlyphs=U.parseUShort(),I.offset=new Array(I.numberOfGlyphs);for(var le=0;le<I.numberOfGlyphs;le++)I.offset[le]=U.parseChar()}return I},make:function(){return new Fe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},hn=new Array(9),vs=(hn[1]=function(){var j=this.offset+this.relativeOffset,O=this.parseUShort();return O===1?{substFormat:1,coverage:this.parsePointer(Pe.coverage),deltaGlyphId:this.parseUShort()}:O===2?{substFormat:2,coverage:this.parsePointer(Pe.coverage),substitute:this.parseOffset16List()}:void B.assert(!1,"0x"+j.toString(16)+": lookup type 1 format must be 1 or 2.")},hn[2]=function(){var j=this.parseUShort();return B.argument(j===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(Pe.coverage),sequences:this.parseListOfLists()}},hn[3]=function(){var j=this.parseUShort();return B.argument(j===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(Pe.coverage),alternateSets:this.parseListOfLists()}},hn[4]=function(){var j=this.parseUShort();return B.argument(j===1,"GSUB ligature table identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(Pe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Pe.uShort,lookupListIndex:Pe.uShort});hn[5]=function(){var j,O,I=this.offset+this.relativeOffset,U=this.parseUShort();return U===1?{substFormat:U,coverage:this.parsePointer(Pe.coverage),ruleSets:this.parseListOfLists(function(){var H=this.parseUShort(),J=this.parseUShort();return{input:this.parseUShortList(H-1),lookupRecords:this.parseRecordList(J,vs)}})}:U===2?{substFormat:U,coverage:this.parsePointer(Pe.coverage),classDef:this.parsePointer(Pe.classDef),classSets:this.parseListOfLists(function(){var H=this.parseUShort(),J=this.parseUShort();return{classes:this.parseUShortList(H-1),lookupRecords:this.parseRecordList(J,vs)}})}:U===3?(j=this.parseUShort(),O=this.parseUShort(),{substFormat:U,coverages:this.parseList(j,Pe.pointer(Pe.coverage)),lookupRecords:this.parseRecordList(O,vs)}):void B.assert(!1,"0x"+I.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},hn[6]=function(){var j=this.offset+this.relativeOffset,O=this.parseUShort();return O===1?{substFormat:1,coverage:this.parsePointer(Pe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(vs)}})}:O===2?{substFormat:2,coverage:this.parsePointer(Pe.coverage),backtrackClassDef:this.parsePointer(Pe.classDef),inputClassDef:this.parsePointer(Pe.classDef),lookaheadClassDef:this.parsePointer(Pe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(vs)}})}:O===3?{substFormat:3,backtrackCoverage:this.parseList(Pe.pointer(Pe.coverage)),inputCoverage:this.parseList(Pe.pointer(Pe.coverage)),lookaheadCoverage:this.parseList(Pe.pointer(Pe.coverage)),lookupRecords:this.parseRecordList(vs)}:void B.assert(!1,"0x"+j.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},hn[7]=function(){var j=this.parseUShort(),j=(B.argument(j===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),O=new Pe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:j,extension:hn[j].call(O)}},hn[8]=function(){var j=this.parseUShort();return B.argument(j===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(Pe.coverage),backtrackCoverage:this.parseList(Pe.pointer(Pe.coverage)),lookaheadCoverage:this.parseList(Pe.pointer(Pe.coverage)),substitutes:this.parseUShortList()}};var Po=new Array(9);Po[1]=function(j){return j.substFormat===1?new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Fe.Coverage(j.coverage)},{name:"deltaGlyphID",type:"USHORT",value:j.deltaGlyphId}]):new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Fe.Coverage(j.coverage)}].concat(Fe.ushortList("substitute",j.substitute)))},Po[3]=function(j){return B.assert(j.substFormat===1,"Lookup type 3 substFormat must be 1."),new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Fe.Coverage(j.coverage)}].concat(Fe.tableList("altSet",j.alternateSets,function(O){return new Fe.Table("alternateSetTable",Fe.ushortList("alternate",O))})))},Po[4]=function(j){return B.assert(j.substFormat===1,"Lookup type 4 substFormat must be 1."),new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Fe.Coverage(j.coverage)}].concat(Fe.tableList("ligSet",j.ligatureSets,function(O){return new Fe.Table("ligatureSetTable",Fe.tableList("ligature",O,function(I){return new Fe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:I.ligGlyph}].concat(Fe.ushortList("component",I.components,I.components.length+1)))}))})))};var Ks={parse:function(j,O){return O=(j=new Pe(j,O=O||0)).parseVersion(1),B.argument(O===1||O===1.1,"Unsupported GSUB table version."),O===1?{version:O,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(hn)}:{version:O,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(hn),variations:j.parseFeatureVariationsList()}},make:function(j){return new Fe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Fe.ScriptList(j.scripts)},{name:"features",type:"TABLE",value:new Fe.FeatureList(j.features)},{name:"lookups",type:"TABLE",value:new Fe.LookupList(j.lookups,Po)}])}},Zs={parse:function(j,O){for(var I=new De.Parser(j,O),U=I.parseULong(),H=(B.argument(U===1,"Unsupported META table version."),I.parseULong(),I.parseULong(),I.parseULong()),J={},te=0;te<H;te++){var le=I.parseTag(),me=I.parseULong(),pe=I.parseULong(),me=W.UTF8(j,O+me,pe);J[le]=me}return J},make:function(j){var O,I=Object.keys(j).length,U="",H=16+12*I,J=new Fe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:H},{name:"numTags",type:"ULONG",value:I}]);for(O in j){var te=U.length;U+=j[O],J.fields.push({name:"tag "+O,type:"TAG",value:O}),J.fields.push({name:"offset "+O,type:"ULONG",value:H+te}),J.fields.push({name:"length "+O,type:"ULONG",value:j[O].length})}return J.fields.push({name:"stringPool",type:"CHARARRAY",value:U}),J}};function bs(j){return Math.log(j)/Math.log(2)|0}function xs(j){for(;j.length%4!=0;)j.push(0);for(var O=0,I=0;I<j.length;I+=4)O+=(j[I]<<24)+(j[I+1]<<16)+(j[I+2]<<8)+j[I+3];return O%=Math.pow(2,32)}function ma(j,O,I,U){return new Fe.Record("Table Record",[{name:"tag",type:"TAG",value:j!==void 0?j:""},{name:"checkSum",type:"ULONG",value:O!==void 0?O:0},{name:"offset",type:"ULONG",value:I!==void 0?I:0},{name:"length",type:"ULONG",value:U!==void 0?U:0}])}function ya(j){for(var O=new Fe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),I=(O.tables=j,O.numTables=j.length,Math.pow(2,bs(O.numTables))),U=(O.searchRange=16*I,O.entrySelector=bs(I),O.rangeShift=16*O.numTables-O.searchRange,[]),H=[],J=O.sizeOf()+ma().sizeOf()*O.numTables;J%4!=0;)J+=1,H.push({name:"padding",type:"BYTE",value:0});for(var te=0;te<j.length;te+=1){var le=j[te],pe=(B.argument(le.tableName.length===4,"Table name"+le.tableName+" is invalid."),le.sizeOf()),me=ma(le.tableName,xs(le.encode()),J,pe);for(U.push({name:me.tag+" Table Record",type:"RECORD",value:me}),H.push({name:le.tableName+" table",type:"RECORD",value:le}),J+=pe,B.argument(!isNaN(J),"Something went wrong calculating the offset.");J%4!=0;)J+=1,H.push({name:"padding",type:"BYTE",value:0})}return U.sort(function(ke,Ne){return ke.value.tag>Ne.value.tag?1:-1}),O.fields=O.fields.concat(U),O.fields=O.fields.concat(H),O}function Oo(j,O,I){for(var U=0;U<O.length;U+=1){var H=j.charToGlyphIndex(O[U]);if(0<H)return j.glyphs.get(H).getMetrics()}return I}var ga={make:ya,fontToTable:function(j){for(var O,I=[],U=[],H=[],J=[],te=[],le=[],pe=[],me=0,ke=0,Ne=0,Oe=0,xe=0,$e=0;$e<j.glyphs.length;$e+=1){var Ve=j.glyphs.get($e),Xe=0|Ve.unicode;if(isNaN(Ve.advanceWidth))throw new Error("Glyph "+Ve.name+" ("+$e+"): advanceWidth is not a number.");(Xe<O||O===void 0)&&0<Xe&&(O=Xe),me<Xe&&(me=Xe);var Xe=kr.getUnicodeRange(Xe);if(Xe<32)ke|=1<<Xe;else if(Xe<64)Ne|=1<<Xe-32;else if(Xe<96)Oe|=1<<Xe-64;else{if(!(Xe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");xe|=1<<Xe-96}Ve.name!==".notdef"&&(Xe=Ve.getMetrics(),I.push(Xe.xMin),U.push(Xe.yMin),H.push(Xe.xMax),J.push(Xe.yMax),le.push(Xe.leftSideBearing),pe.push(Xe.rightSideBearing),te.push(Ve.advanceWidth))}var Ue,Be={xMin:Math.min.apply(null,I),yMin:Math.min.apply(null,U),xMax:Math.max.apply(null,H),yMax:Math.max.apply(null,J),advanceWidthMax:Math.max.apply(null,te),advanceWidthAvg:function($t){for(var Dn=0,ns=0;ns<$t.length;ns+=1)Dn+=$t[ns];return Dn/$t.length}(te),minLeftSideBearing:Math.min.apply(null,le),maxLeftSideBearing:Math.max.apply(null,le),minRightSideBearing:Math.min.apply(null,pe)},wt=(Be.ascender=j.ascender,Be.descender=j.descender,gs.make({flags:3,unitsPerEm:j.unitsPerEm,xMin:Be.xMin,yMin:Be.yMin,xMax:Be.xMax,yMax:Be.yMax,lowestRecPPEM:3,createdTimestamp:j.createdTimestamp})),Rt=we.make({ascender:Be.ascender,descender:Be.descender,advanceWidthMax:Be.advanceWidthMax,minLeftSideBearing:Be.minLeftSideBearing,minRightSideBearing:Be.minRightSideBearing,xMaxExtent:Be.maxLeftSideBearing+(Be.xMax-Be.xMin),numberOfHMetrics:j.glyphs.length}),vt=Ze.make(j.glyphs.length),xt=kr.make({xAvgCharWidth:Math.round(Be.advanceWidthAvg),usWeightClass:j.tables.os2.usWeightClass,usWidthClass:j.tables.os2.usWidthClass,usFirstCharIndex:O,usLastCharIndex:me,ulUnicodeRange1:ke,ulUnicodeRange2:Ne,ulUnicodeRange3:Oe,ulUnicodeRange4:xe,fsSelection:j.tables.os2.fsSelection,sTypoAscender:Be.ascender,sTypoDescender:Be.descender,sTypoLineGap:0,usWinAscent:Be.yMax,usWinDescent:Math.abs(Be.yMin),ulCodePageRange1:1,sxHeight:Oo(j,"xyvw",{yMax:Math.round(Be.ascender/2)}).yMax,sCapHeight:Oo(j,"HIKLEFJMNTZBDPRAGOQSUVWXY",Be).yMax,usDefaultChar:j.hasChar(" ")?32:0,usBreakChar:j.hasChar(" ")?32:0}),It=Je.make(j.glyphs),Xt=ie.make(j.glyphs),Jt=j.getEnglishName("fontFamily"),qt=j.getEnglishName("fontSubfamily"),Yt=Jt+" "+qt,ur=(ur=j.getEnglishName("postScriptName"))||Jt.replace(/\s/g,"")+"-"+qt,fr={};for(Ue in j.names)fr[Ue]=j.names[Ue];fr.uniqueID||(fr.uniqueID={en:j.getEnglishName("manufacturer")+":"+Yt}),fr.postScriptName||(fr.postScriptName={en:ur}),fr.preferredFamily||(fr.preferredFamily=j.names.fontFamily),fr.preferredSubfamily||(fr.preferredSubfamily=j.names.fontSubfamily);var Mr=[],Cr=Dr.make(fr,Mr),Mr=0<Mr.length?ft.make(Mr):void 0,nn=en.make(),Yt=dn.make(j.glyphs,{version:j.getEnglishName("version"),fullName:Yt,familyName:Jt,weightName:qt,postScriptName:ur,unitsPerEm:j.unitsPerEm,fontBBox:[0,Be.yMin,Be.ascender,Be.advanceWidthMax]}),Jt=j.metas&&0<Object.keys(j.metas).length?Zs.make(j.metas):void 0,qt=[wt,Rt,vt,xt,Cr,Xt,nn,Yt,It];Mr&&qt.push(Mr),j.tables.gsub&&qt.push(Ks.make(j.tables.gsub)),Jt&&qt.push(Jt);for(var Ir=xs((ur=ya(qt)).encode()),or=ur.fields,Ar=!1,tr=0;tr<or.length;tr+=1)if(or[tr].name==="head table"){or[tr].value.checkSumAdjustment=2981146554-Ir,Ar=!0;break}if(Ar)return ur;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:xs};function Qs(j,O){for(var I=0,U=j.length-1;I<=U;){var H=I+U>>>1,J=j[H].tag;if(J===O)return H;J<O?I=1+H:U=H-1}return-I-1}function ws(j,O){for(var I=0,U=j.length-1;I<=U;){var H=I+U>>>1,J=j[H];if(J===O)return H;J<O?I=1+H:U=H-1}return-I-1}function va(j,O){for(var I=0,U=j.length-1;I<=U;){var H,J=I+U>>>1,te=(H=j[J]).start;if(te===O)return H;te<O?I=1+J:U=J-1}if(0<I)return O>(H=j[I-1]).end?0:H}function js(j,O){this.font=j,this.tableName=O}function Gt(j){js.call(this,j,"gpos")}function pn(j){js.call(this,j,"gsub")}function yi(j,O,I){for(var U=j.subtables,H=0;H<U.length;H++){var J=U[H];if(J.substFormat===O)return J}if(I)return U.push(I),I}function Ao(j){for(var O=new ArrayBuffer(j.length),I=new Uint8Array(O),U=0;U<j.length;++U)I[U]=j[U];return O}function ts(j,O){if(!j)throw O}function gi(j,O,I,U,H){var J=0<(O&U)?(J=j.parseByte(),I+(J=O&H?J:-J)):0<(O&H)?I:I+j.parseShort();return J}function ba(j,O,I){var U,H=new De.Parser(O,I);if(j.numberOfContours=H.parseShort(),j._xMin=H.parseShort(),j._yMin=H.parseShort(),j._xMax=H.parseShort(),j._yMax=H.parseShort(),0<j.numberOfContours){for(var J=j.endPointIndices=[],te=0;te<j.numberOfContours;te+=1)J.push(H.parseUShort());j.instructionLength=H.parseUShort(),j.instructions=[];for(var le=0;le<j.instructionLength;le+=1)j.instructions.push(H.parseByte());for(var pe=J[J.length-1]+1,me=[],ke=0;ke<pe;ke+=1)if(U=H.parseByte(),me.push(U),0<(8&U))for(var Ne=H.parseByte(),Oe=0;Oe<Ne;Oe+=1)me.push(U),ke+=1;if(B.argument(me.length===pe,"Bad flags."),0<J.length){var xe,$e=[];if(0<pe){for(var Ve=0;Ve<pe;Ve+=1)U=me[Ve],(xe={}).onCurve=!!(1&U),xe.lastPointOfContour=0<=J.indexOf(Ve),$e.push(xe);for(var Xe=0,Ue=0;Ue<pe;Ue+=1)U=me[Ue],(xe=$e[Ue]).x=gi(H,U,Xe,2,16),Xe=xe.x;for(var Be=0,wt=0;wt<pe;wt+=1)U=me[wt],(xe=$e[wt]).y=gi(H,U,Be,4,32),Be=xe.y}j.points=$e}else j.points=[]}else if(j.numberOfContours===0)j.points=[];else{j.isComposite=!0,j.points=[],j.components=[];for(var Rt=!0;Rt;){me=H.parseUShort();var vt={glyphIndex:H.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&me)?0<(2&me)?(vt.dx=H.parseShort(),vt.dy=H.parseShort()):vt.matchedPoints=[H.parseUShort(),H.parseUShort()]:0<(2&me)?(vt.dx=H.parseChar(),vt.dy=H.parseChar()):vt.matchedPoints=[H.parseByte(),H.parseByte()],0<(8&me)?vt.xScale=vt.yScale=H.parseF2Dot14():0<(64&me)?(vt.xScale=H.parseF2Dot14(),vt.yScale=H.parseF2Dot14()):0<(128&me)&&(vt.xScale=H.parseF2Dot14(),vt.scale01=H.parseF2Dot14(),vt.scale10=H.parseF2Dot14(),vt.yScale=H.parseF2Dot14()),j.components.push(vt),Rt=!!(32&me)}if(256&me){j.instructionLength=H.parseUShort(),j.instructions=[];for(var xt=0;xt<j.instructionLength;xt+=1)j.instructions.push(H.parseByte())}}}function Js(j,O){for(var I=[],U=0;U<j.length;U+=1){var H=j[U],H={x:O.xScale*H.x+O.scale01*H.y+O.dx,y:O.scale10*H.x+O.yScale*H.y+O.dy,onCurve:H.onCurve,lastPointOfContour:H.lastPointOfContour};I.push(H)}return I}function eo(j){var O=new Z;if(j)for(var I=function(Ne){for(var Oe=[],xe=[],$e=0;$e<Ne.length;$e+=1){var Ve=Ne[$e];xe.push(Ve),Ve.lastPointOfContour&&(Oe.push(xe),xe=[])}return B.argument(xe.length===0,"There are still points left in the current contour."),Oe}(j),U=0;U<I.length;++U){var H,J=I[U],te=J[J.length-1],le=J[0];te.onCurve?O.moveTo(te.x,te.y):le.onCurve?O.moveTo(le.x,le.y):(H={x:.5*(te.x+le.x),y:.5*(te.y+le.y)},O.moveTo(H.x,H.y));for(var pe=0;pe<J.length;++pe){var me,ke=te,te=le,le=J[(pe+1)%J.length];te.onCurve?O.lineTo(te.x,te.y):(me=le,ke.onCurve||(te.x,ke.x,te.y,ke.y),le.onCurve||(me={x:.5*(te.x+le.x),y:.5*(te.y+le.y)}),O.quadraticCurveTo(te.x,te.y,me.x,me.y))}O.closePath()}return O}function zn(j,O){if(O.isComposite)for(var I=0;I<O.components.length;I+=1){var U=O.components[I],H=j.get(U.glyphIndex);if(H.getPath(),H.points){var J=void 0;if(U.matchedPoints===void 0)J=Js(H.points,U);else{if(U.matchedPoints[0]>O.points.length-1||U.matchedPoints[1]>H.points.length-1)throw Error("Matched points out of range in "+O.name);var te=O.points[U.matchedPoints[0]],le=H.points[U.matchedPoints[1]],U={xScale:U.xScale,scale01:U.scale01,scale10:U.scale10,yScale:U.yScale,dx:0,dy:0},le=Js([le],U)[0];U.dx=te.x-le.x,U.dy=te.y-le.y,J=Js(H.points,U)}O.points=O.points.concat(J)}}return eo(O.points)}(Gt.prototype=js.prototype={searchTag:Qs,binSearch:ws,getTable:function(j){var O=this.font.tables[this.tableName];return O=!O&&j?this.font.tables[this.tableName]=this.createDefaultTable():O},getScriptNames:function(){var j=this.getTable();return j?j.scripts.map(function(O){return O.tag}):[]},getDefaultScriptName:function(){var j=this.getTable();if(j){for(var O=!1,I=0;I<j.scripts.length;I++){var U=j.scripts[I].tag;if(U==="DFLT")return U;U==="latn"&&(O=!0)}return O?"latn":void 0}},getScriptTable:function(j,O){var I,U=this.getTable(O);if(U)return I=U.scripts,0<=(U=Qs(U.scripts,j=j||"DFLT"))?I[U].script:O?(I.splice(-1-U,0,O={tag:j,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),O.script):void 0},getLangSysTable:function(H,O,I){var U,H=this.getScriptTable(H,I);if(H)return O&&O!=="dflt"&&O!=="DFLT"?0<=(U=Qs(H.langSysRecords,O))?H.langSysRecords[U].langSys:I?(H.langSysRecords.splice(-1-U,0,I={tag:O,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),I.langSys):void 0:H.defaultLangSys},getFeatureTable:function(j,O,I,U){if(j=this.getLangSysTable(j,O,U),j){for(var H,J=j.featureIndexes,te=this.font.tables[this.tableName].features,le=0;le<J.length;le++)if((H=te[J[le]]).tag===I)return H.feature;if(U)return O=te.length,B.assert(O===0||I>=te[O-1].tag,"Features must be added in alphabetical order."),te.push(H={tag:I,feature:{params:0,lookupListIndexes:[]}}),J.push(O),H.feature}},getLookupTables:function(J,O,I,U,H){var J=this.getFeatureTable(J,O,I,H),te=[];if(J){for(var le,pe=J.lookupListIndexes,me=this.font.tables[this.tableName].lookups,ke=0;ke<pe.length;ke++)(le=me[pe[ke]]).lookupType===U&&te.push(le);if(te.length===0&&H)return O=me.length,me.push(le={lookupType:U,lookupFlag:0,subtables:[],markFilteringSet:void 0}),pe.push(O),[le]}return te},getGlyphClass:function(j,O){switch(j.format){case 1:return j.startGlyph<=O&&O<j.startGlyph+j.classes.length?j.classes[O-j.startGlyph]:0;case 2:var I=va(j.ranges,O);return I?I.classId:0}},getCoverageIndex:function(j,O){switch(j.format){case 1:var I=ws(j.glyphs,O);return 0<=I?I:-1;case 2:return I=va(j.ranges,O),I?I.index+O-I.start:-1}},expandCoverage:function(j){if(j.format===1)return j.glyphs;for(var O=[],I=j.ranges,U=0;U<I.length;U++)for(var H=I[U],J=H.start,te=H.end,le=J;le<=te;le++)O.push(le);return O}}).init=function(){var j=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(j)},Gt.prototype.getKerningValue=function(j,O,I){for(var U=0;U<j.length;U++)for(var H=j[U].subtables,J=0;J<H.length;J++){var te=H[J],le=this.getCoverageIndex(te.coverage,O);if(!(le<0))switch(te.posFormat){case 1:for(var pe=te.pairSets[le],me=0;me<pe.length;me++){var ke=pe[me];if(ke.secondGlyph===I)return ke.value1&&ke.value1.xAdvance||0}break;case 2:var Oe=this.getGlyphClass(te.classDef1,O),Ne=this.getGlyphClass(te.classDef2,I),Oe=te.classRecords[Oe][Ne];return Oe.value1&&Oe.value1.xAdvance||0}}return 0},Gt.prototype.getKerningTables=function(j,O){if(this.font.tables.gpos)return this.getLookupTables(j,O,"kern",2)},(pn.prototype=js.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},pn.prototype.getSingle=function(j,O,I){for(var U=[],H=this.getLookupTables(O,I,j,1),J=0;J<H.length;J++)for(var te=H[J].subtables,le=0;le<te.length;le++){var pe=te[le],me=this.expandCoverage(pe.coverage),ke=void 0;if(pe.substFormat===1)for(var Ne=pe.deltaGlyphId,ke=0;ke<me.length;ke++){var Oe=me[ke];U.push({sub:Oe,by:Oe+Ne})}else{var xe=pe.substitute;for(ke=0;ke<me.length;ke++)U.push({sub:me[ke],by:xe[ke]})}}return U},pn.prototype.getAlternates=function(j,O,I){for(var U=[],H=this.getLookupTables(O,I,j,3),J=0;J<H.length;J++)for(var te=H[J].subtables,le=0;le<te.length;le++)for(var pe=te[le],me=this.expandCoverage(pe.coverage),ke=pe.alternateSets,Ne=0;Ne<me.length;Ne++)U.push({sub:me[Ne],by:ke[Ne]});return U},pn.prototype.getLigatures=function(j,O,I){for(var U=[],H=this.getLookupTables(O,I,j,4),J=0;J<H.length;J++)for(var te=H[J].subtables,le=0;le<te.length;le++)for(var pe=te[le],me=this.expandCoverage(pe.coverage),ke=pe.ligatureSets,Ne=0;Ne<me.length;Ne++)for(var Oe=me[Ne],xe=ke[Ne],$e=0;$e<xe.length;$e++){var Ve=xe[$e];U.push({sub:[Oe].concat(Ve.components),by:Ve.ligGlyph})}return U},pn.prototype.addSingle=function(j,O,I,U){I=yi(this.getLookupTables(I,U,j,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),B.assert(I.coverage.format===1,"Ligature: unable to modify coverage table format "+I.coverage.format),U=O.sub,j=this.binSearch(I.coverage.glyphs,U),j<0&&(I.coverage.glyphs.splice(j=-1-j,0,U),I.substitute.splice(j,0,0)),I.substitute[j]=O.by},pn.prototype.addAlternate=function(j,O,I,U){I=yi(this.getLookupTables(I,U,j,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),B.assert(I.coverage.format===1,"Ligature: unable to modify coverage table format "+I.coverage.format),U=O.sub,j=this.binSearch(I.coverage.glyphs,U),j<0&&(I.coverage.glyphs.splice(j=-1-j,0,U),I.alternateSets.splice(j,0,0)),I.alternateSets[j]=O.by},pn.prototype.addLigature=function(J,pe,le,H){var le=this.getLookupTables(le,H,J,4,!0)[0],H=le.subtables[0],J=(H||(le.subtables[0]=H={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),B.assert(H.coverage.format===1,"Ligature: unable to modify coverage table format "+H.coverage.format),pe.sub[0]),te=pe.sub.slice(1),le={ligGlyph:pe.by,components:te},pe=this.binSearch(H.coverage.glyphs,J);if(0<=pe){for(var me=H.ligatureSets[pe],ke=0;ke<me.length;ke++)if(function(Ne,Oe){var xe=Ne.length;if(xe===Oe.length){for(var $e=0;$e<xe;$e++)if(Ne[$e]!==Oe[$e])return;return 1}}(me[ke].components,te))return;me.push(le)}else H.coverage.glyphs.splice(pe=-1-pe,0,J),H.ligatureSets.splice(pe,0,[le])},pn.prototype.getFeature=function(j,O,I){if(/ss\d\d/.test(j))return this.getSingle(j,O,I);switch(j){case"aalt":case"salt":return this.getSingle(j,O,I).concat(this.getAlternates(j,O,I));case"dlig":case"liga":case"rlig":return this.getLigatures(j,O,I)}},pn.prototype.add=function(j,O,I,U){if(/ss\d\d/.test(j))return this.addSingle(j,O,I,U);switch(j){case"aalt":case"salt":return typeof O.by=="number"?this.addSingle(j,O,I,U):this.addAlternate(j,O,I,U);case"dlig":case"liga":case"rlig":return this.addLigature(j,O,I,U)}};var Pn={getPath:eo,parse:function(j,O,I,U){for(var H=new yt.GlyphSet(U),J=0;J<I.length-1;J+=1){var te=I[J];te!==I[J+1]?H.push(J,yt.ttfGlyphLoader(U,J,ba,j,O+te,zn)):H.push(J,yt.glyphLoader(U,J))}return H}};function On(j){this.font=j,this.getCommands=function(O){return Pn.getPath(O).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function to(j){return j}function Ss(j){return Math.sign(j)*Math.round(Math.abs(j))}function Hn(j){return Math.sign(j)*Math.round(Math.abs(2*j))/2}function Wl(j){return Math.sign(j)*(Math.round(Math.abs(j)+.5)-.5)}function xa(j){return Math.sign(j)*Math.ceil(Math.abs(j))}function ro(j){return Math.sign(j)*Math.floor(Math.abs(j))}function wa(j){var O=this.srPeriod,I=this.srPhase,U=1;return j<0&&(j=-j,U=-1),j+=this.srThreshold-I,j=Math.trunc(j/O)*O,(j+=I)<0?I*U:j*U}var mn={x:1,y:0,axis:"x",distance:function(j,O,I,U){return(I?j.xo:j.x)-(U?O.xo:O.x)},interpolate:function(j,O,I,U){var H,J,te,le,pe,me,ke;if(!U||U===this)return H=j.xo-O.xo,J=j.xo-I.xo,pe=O.x-O.xo,me=I.x-I.xo,(ke=(te=Math.abs(H))+(le=Math.abs(J)))===0?void(j.x=j.xo+(pe+me)/2):void(j.x=j.xo+(pe*le+me*te)/ke);H=U.distance(j,O,!0,!0),J=U.distance(j,I,!0,!0),pe=U.distance(O,O,!1,!0),me=U.distance(I,I,!1,!0),(ke=(te=Math.abs(H))+(le=Math.abs(J)))===0?mn.setRelative(j,j,(pe+me)/2,U,!0):mn.setRelative(j,j,(pe*le+me*te)/ke,U,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(j,O,I,U,H){var J,te;U&&U!==this?(J=H?O.xo:O.x,te=H?O.yo:O.y,J+=I*U.x,te+=I*U.y,j.x=J+(j.y-te)/U.normalSlope):j.x=(H?O.xo:O.x)+I},slope:0,touch:function(j){j.xTouched=!0},touched:function(j){return j.xTouched},untouch:function(j){j.xTouched=!1}},tn={x:0,y:1,axis:"y",distance:function(j,O,I,U){return(I?j.yo:j.y)-(U?O.yo:O.y)},interpolate:function(j,O,I,U){var H,J,te,le,pe,me,ke;if(!U||U===this)return H=j.yo-O.yo,J=j.yo-I.yo,pe=O.y-O.yo,me=I.y-I.yo,(ke=(te=Math.abs(H))+(le=Math.abs(J)))===0?void(j.y=j.yo+(pe+me)/2):void(j.y=j.yo+(pe*le+me*te)/ke);H=U.distance(j,O,!0,!0),J=U.distance(j,I,!0,!0),pe=U.distance(O,O,!1,!0),me=U.distance(I,I,!1,!0),(ke=(te=Math.abs(H))+(le=Math.abs(J)))===0?tn.setRelative(j,j,(pe+me)/2,U,!0):tn.setRelative(j,j,(pe*le+me*te)/ke,U,!0)},normalSlope:0,setRelative:function(j,O,I,U,H){var J,te;U&&U!==this?(J=H?O.xo:O.x,te=H?O.yo:O.y,J+=I*U.x,te+=I*U.y,j.y=te+U.normalSlope*(j.x-J)):j.y=(H?O.yo:O.y)+I},slope:Number.POSITIVE_INFINITY,touch:function(j){j.yTouched=!0},touched:function(j){return j.yTouched},untouch:function(j){j.yTouched=!1}};function _s(j,O){this.x=j,this.y=O,this.axis=void 0,this.slope=O/j,this.normalSlope=-j/O,Object.freeze(this)}function no(j,O){var I=Math.sqrt(j*j+O*O);return O/=I,(j/=I)===1&&O===0?mn:j===0&&O===1?tn:new _s(j,O)}function Kr(j,O,I,U){this.x=this.xo=Math.round(64*j)/64,this.y=this.yo=Math.round(64*O)/64,this.lastPointOfContour=I,this.onCurve=U,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(mn),Object.freeze(tn),_s.prototype.distance=function(j,O,I,U){return this.x*mn.distance(j,O,I,U)+this.y*tn.distance(j,O,I,U)},_s.prototype.interpolate=function(j,H,J,U){var te=U.distance(j,H,!0,!0),le=U.distance(j,J,!0,!0),H=U.distance(H,H,!1,!0),J=U.distance(J,J,!1,!0),te=Math.abs(te),le=Math.abs(le),pe=te+le;pe===0?this.setRelative(j,j,(H+J)/2,U,!0):this.setRelative(j,j,(H*le+J*te)/pe,U,!0)},_s.prototype.setRelative=function(j,J,pe,me,le){var te=le?J.xo:J.x,le=le?J.yo:J.y,J=te+pe*(me=me||this).x,te=le+pe*me.y,le=me.normalSlope,pe=this.slope,me=j.x,ke=j.y;j.x=(pe*me-le*J+te-ke)/(pe-le),j.y=pe*(j.x-me)+ke},_s.prototype.touch=function(j){j.xTouched=!0,j.yTouched=!0},Kr.prototype.nextTouched=function(j){for(var O=this.nextPointOnContour;!j.touched(O)&&O!==this;)O=O.nextPointOnContour;return O},Kr.prototype.prevTouched=function(j){for(var O=this.prevPointOnContour;!j.touched(O)&&O!==this;)O=O.prevPointOnContour;return O};var An=Object.freeze(new Kr(0,0)),Ts={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function yn(j,O){switch(this.env=j,this.stack=[],this.prog=O,j){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=mn,this.round=Ss}}function Lo(j){for(var O=j.tZone=new Array(j.gZone.length),I=0;I<O.length;I++)O[I]=new Kr(0,0)}function ja(j,O){var I,U=j.prog,H=j.ip,J=1;do if((I=U[++H])===88)J++;else if(I===89)J--;else if(I===64)H+=U[H+1]+1;else if(I===65)H+=2*U[H+1]+1;else if(176<=I&&I<=183)H+=I-176+1;else if(184<=I&&I<=191)H+=2*(I-184+1);else if(O&&J===1&&I===27)break;while(0<J);j.ip=H}function Ro(j,O){c.DEBUG&&console.log(O.step,"SVTCA["+j.axis+"]"),O.fv=O.pv=O.dpv=j}function so(j,O){c.DEBUG&&console.log(O.step,"SPVTCA["+j.axis+"]"),O.pv=O.dpv=j}function Do(j,O){c.DEBUG&&console.log(O.step,"SFVTCA["+j.axis+"]"),O.fv=j}function vi(j,O){var I,H=O.stack,U=H.pop(),H=H.pop(),J=O.z2[U],te=O.z1[H];c.DEBUG&&console.log("SPVTL["+j+"]",U,H),U=j?(I=J.y-te.y,te.x-J.x):(I=te.x-J.x,te.y-J.y),O.pv=O.dpv=no(I,U)}function Ln(j,O){var I,H=O.stack,U=H.pop(),H=H.pop(),J=O.z2[U],te=O.z1[H];c.DEBUG&&console.log("SFVTL["+j+"]",U,H),U=j?(I=J.y-te.y,te.x-J.x):(I=te.x-J.x,te.y-J.y),O.fv=no(I,U)}function oo(j){c.DEBUG&&console.log(j.step,"POP[]"),j.stack.pop()}function io(j,O){var I=O.stack.pop(),U=O.z0[I],H=O.fv,J=O.pv,te=(c.DEBUG&&console.log(O.step,"MDAP["+j+"]",I),J.distance(U,An));j&&(te=O.round(te)),H.setRelative(U,An,te,J),H.touch(U),O.rp0=O.rp1=I}function bi(j,O){var I,U,H,J=O.z2,te=J.length-2;c.DEBUG&&console.log(O.step,"IUP["+j.axis+"]");for(var le=0;le<te;le++)I=J[le],j.touched(I)||(U=I.prevTouched(j))!==I&&(U===(H=I.nextTouched(j))&&j.setRelative(I,I,j.distance(U,U,!1,!0),j,!0),j.interpolate(I,U,H,j))}function ao(j,O){for(var I=O.stack,U=j?O.rp1:O.rp2,H=(j?O.z0:O.z1)[U],J=O.fv,te=O.pv,le=O.loop,pe=O.z2;le--;){var me=I.pop(),ke=pe[me],Ne=te.distance(H,H,!1,!0);J.setRelative(ke,ke,Ne,te),J.touch(ke),c.DEBUG&&console.log(O.step,(1<O.loop?"loop "+(O.loop-le)+": ":"")+"SHP["+(j?"rp1":"rp2")+"]",me)}O.loop=1}function lo(j,O){for(var I=O.stack,te=j?O.rp1:O.rp2,U=(j?O.z0:O.z1)[te],H=O.fv,J=O.pv,te=I.pop(),le=O.z2[O.contours[te]],pe=le,me=(c.DEBUG&&console.log(O.step,"SHC["+j+"]",te),J.distance(U,U,!1,!0));pe!==U&&H.setRelative(pe,pe,me,J),(pe=pe.nextPointOnContour)!==le;);}function xi(j,O){var I,U,le=O.stack,H=j?O.rp1:O.rp2,H=(j?O.z0:O.z1)[H],J=O.fv,te=O.pv,le=le.pop();switch(c.DEBUG&&console.log(O.step,"SHZ["+j+"]",le),le){case 0:I=O.tZone;break;case 1:I=O.gZone;break;default:throw new Error("Invalid zone")}for(var pe=te.distance(H,H,!1,!0),me=I.length-2,ke=0;ke<me;ke++)U=I[ke],J.setRelative(U,U,pe,te)}function zr(j,O){var U=O.stack,I=U.pop()/64,U=U.pop(),H=O.z1[U],J=O.z0[O.rp0],te=O.fv,le=O.pv;te.setRelative(H,J,I,le),te.touch(H),c.DEBUG&&console.log(O.step,"MSIRP["+j+"]",I,U),O.rp1=O.rp0,O.rp2=U,j&&(O.rp0=U)}function rs(j,O){var I=O.stack,le=I.pop(),I=I.pop(),U=O.z0[I],H=O.fv,J=O.pv,te=O.cvt[le],le=(c.DEBUG&&console.log(O.step,"MIAP["+j+"]",le,"(",te,")",I),J.distance(U,An));j&&(Math.abs(le-te)<O.cvCutIn&&(le=te),le=O.round(le)),H.setRelative(U,An,le,J),O.zp0===0&&(U.xo=U.x,U.yo=U.y),H.touch(U),O.rp0=O.rp1=I}function Io(j,O){var I=O.stack,U=I.pop(),H=O.z2[U];c.DEBUG&&console.log(O.step,"GC["+j+"]",U),I.push(64*O.dpv.distance(H,An,j,!1))}function Es(j,O){var U=O.stack,I=U.pop(),U=U.pop(),H=O.z1[I],J=O.z0[U],J=O.dpv.distance(J,H,j,j);c.DEBUG&&console.log(O.step,"MD["+j+"]",I,U,"->",J),O.stack.push(Math.round(64*J))}function wi(j,O){var I=O.stack,U=I.pop(),H=O.fv,J=O.pv,te=O.ppem,le=O.deltaBase+16*(j-1),pe=O.deltaShift,me=O.z0;c.DEBUG&&console.log(O.step,"DELTAP["+j+"]",U,I);for(var ke=0;ke<U;ke++){var Ne=I.pop(),Oe=I.pop();le+((240&Oe)>>4)===te&&(0<=(Oe=(15&Oe)-8)&&Oe++,c.DEBUG&&console.log(O.step,"DELTAPFIX",Ne,"by",Oe*pe),Ne=me[Ne],H.setRelative(Ne,Ne,Oe*pe,J))}}function ks(j,O){var I=O.stack,U=I.pop();c.DEBUG&&console.log(O.step,"ROUND[]"),I.push(64*O.round(U/64))}function uo(j,O){var I=O.stack,U=I.pop(),H=O.ppem,J=O.deltaBase+16*(j-1),te=O.deltaShift;c.DEBUG&&console.log(O.step,"DELTAC["+j+"]",U,I);for(var le=0;le<U;le++){var pe=I.pop(),me=I.pop();J+((240&me)>>4)===H&&(0<=(me=(15&me)-8)&&me++,me=me*te,c.DEBUG&&console.log(O.step,"DELTACFIX",pe,"by",me),O.cvt[pe]+=me)}}function Cs(j,O){var I,H=O.stack,U=H.pop(),H=H.pop(),J=O.z2[U],te=O.z1[H];c.DEBUG&&console.log(O.step,"SDPVTL["+j+"]",U,H),U=j?(I=J.y-te.y,te.x-J.x):(I=te.x-J.x,te.y-J.y),O.dpv=no(I,U)}function gn(j,O){var I=O.stack,U=O.prog,H=O.ip;c.DEBUG&&console.log(O.step,"PUSHB["+j+"]");for(var J=0;J<j;J++)I.push(U[++H]);O.ip=H}function Rn(j,O){var I=O.ip,U=O.prog,H=O.stack;c.DEBUG&&console.log(O.ip,"PUSHW["+j+"]");for(var J=0;J<j;J++){var te=U[++I]<<8|U[++I];32768&te&&(te=-(1+(65535^te))),H.push(te)}O.ip=I}function gt(j,O,I,U,H,J){var te,le,me=J.stack,pe=j&&me.pop(),me=me.pop(),ke=J.rp0,ke=J.z0[ke],Ne=J.z1[me],Oe=J.minDis,xe=J.fv,$e=J.dpv,Ve=te=$e.distance(Ne,ke,!0,!0),Xe=0<=Ve?1:-1;Ve=Math.abs(Ve),j&&(le=J.cvt[pe],U&&Math.abs(Ve-le)<J.cvCutIn&&(Ve=le)),I&&Ve<Oe&&(Ve=Oe),U&&(Ve=J.round(Ve)),xe.setRelative(Ne,ke,Xe*Ve,$e),xe.touch(Ne),c.DEBUG&&console.log(J.step,(j?"MIRP[":"MDRP[")+(O?"M":"m")+(I?">":"_")+(U?"R":"_")+(H===0?"Gr":H===1?"Bl":H===2?"Wh":"")+"]",j?pe+"("+J.cvt[pe]+","+le+")":"",me,"(d =",te,"->",Xe*Ve,")"),J.rp1=J.rp0,J.rp2=me,O&&(J.rp0=me)}On.prototype.exec=function(j,O){if(typeof O!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var I=this.font,U=this._prepState;if(!U||U.ppem!==O){var H=this._fpgmState;if(!H){yn.prototype=Ts,(H=this._fpgmState=new yn("fpgm",I.tables.fpgm)).funcs=[],H.font=I,c.DEBUG&&(console.log("---EXEC FPGM---"),H.step=-1);try{Wn(H)}catch(me){return console.log("Hinting error in FPGM:"+me),void(this._errorState=3)}}yn.prototype=H,(U=this._prepState=new yn("prep",I.tables.prep)).ppem=O;var J=I.tables.cvt;if(J)for(var te=U.cvt=new Array(J.length),le=O/I.unitsPerEm,pe=0;pe<J.length;pe++)te[pe]=J[pe]*le;else U.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),U.step=-1);try{Wn(U)}catch(me){this._errorState<2&&console.log("Hinting error in PREP:"+me),this._errorState=2}}if(!(1<this._errorState))try{return Xl(j,U)}catch(me){this._errorState<1&&(console.log("Hinting error:"+me),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Xl=function(j,O){var I=O.ppem/O.font.unitsPerEm,U=I,H=j.components;if(yn.prototype=O,H){for(var J=O.font,te=[],le=[],pe=0;pe<H.length;pe++){var me=H[pe],ke=J.glyphs.get(me.glyphIndex),Ne=new yn("glyf",ke.instructions);c.DEBUG&&(console.log("---EXEC COMP "+pe+"---"),Ne.step=-1),Sa(ke,Ne,I,U);for(var Oe=Math.round(me.dx*I),xe=Math.round(me.dy*U),$e=Ne.gZone,Ve=Ne.contours,Xe=0;Xe<$e.length;Xe++){var Ue=$e[Xe];Ue.xTouched=Ue.yTouched=!1,Ue.xo=Ue.x=Ue.x+Oe,Ue.yo=Ue.y=Ue.y+xe}var Be=te.length;te.push.apply(te,$e);for(var wt=0;wt<Ve.length;wt++)le.push(Ve[wt]+Be)}j.instructions&&!Ne.inhibitGridFit&&((Ne=new yn("glyf",j.instructions)).gZone=Ne.z0=Ne.z1=Ne.z2=te,Ne.contours=le,te.push(new Kr(0,0),new Kr(Math.round(j.advanceWidth*I),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ne.step=-1),Wn(Ne),te.length-=2)}else Ne=new yn("glyf",j.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),Ne.step=-1),Sa(j,Ne,I,U),te=Ne.gZone;return te},Sa=function(j,O,I,U){for(var H,J,te,le=j.points||[],pe=le.length,me=O.gZone=O.z0=O.z1=O.z2=[],ke=O.contours=[],Ne=0;Ne<pe;Ne++)H=le[Ne],me[Ne]=new Kr(H.x*I,H.y*U,H.lastPointOfContour,H.onCurve);for(var Oe=0;Oe<pe;Oe++)H=me[Oe],J||(J=H,ke.push(Oe)),H.lastPointOfContour?((H.nextPointOnContour=J).prevPointOnContour=H,J=void 0):(te=me[Oe+1],(H.nextPointOnContour=te).prevPointOnContour=H);if(!O.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",O.stack);for(var xe=0;xe<pe;xe++)console.log(xe,me[xe].x,me[xe].y)}if(me.push(new Kr(0,0),new Kr(Math.round(j.advanceWidth*I),0)),Wn(O),me.length-=2,c.DEBUG){console.log("FINISHED GLYPH",O.stack);for(var $e=0;$e<pe;$e++)console.log($e,me[$e].x,me[$e].y)}}},Wn=function(j){var O=j.prog;if(O){var I,U=O.length;for(j.ip=0;j.ip<U;j.ip++){if(c.DEBUG&&j.step++,!(I=ql[O[j.ip]]))throw new Error("unknown instruction: 0x"+Number(O[j.ip]).toString(16));I(j)}}},ql=[Ro.bind(void 0,tn),Ro.bind(void 0,mn),so.bind(void 0,tn),so.bind(void 0,mn),Do.bind(void 0,tn),Do.bind(void 0,mn),vi.bind(void 0,0),vi.bind(void 0,1),Ln.bind(void 0,0),Ln.bind(void 0,1),function(j){var O=(I=j.stack).pop(),I=I.pop();c.DEBUG&&console.log(j.step,"SPVFS[]",O,I),j.pv=j.dpv=no(I,O)},function(j){var O=(I=j.stack).pop(),I=I.pop();c.DEBUG&&console.log(j.step,"SPVFS[]",O,I),j.fv=no(I,O)},function(j){var O=j.stack,I=j.pv;c.DEBUG&&console.log(j.step,"GPV[]"),O.push(16384*I.x),O.push(16384*I.y)},function(j){var O=j.stack,I=j.fv;c.DEBUG&&console.log(j.step,"GFV[]"),O.push(16384*I.x),O.push(16384*I.y)},function(j){j.fv=j.pv,c.DEBUG&&console.log(j.step,"SFVTPV[]")},function(O){var I=(te=O.stack).pop(),U=te.pop(),H=te.pop(),J=te.pop(),te=te.pop(),pe=O.z0,ke=O.z1,le=pe[I],pe=pe[U],me=ke[H],ke=ke[J],O=O.z2[te],I=(c.DEBUG&&console.log("ISECT[], ",I,U,H,J,te),le.x),U=le.y,H=pe.x,J=pe.y,te=me.x,le=me.y,pe=ke.x,me=ke.y,ke=(I-H)*(le-me)-(U-J)*(te-pe),Ne=I*J-U*H,Oe=te*me-le*pe;O.x=(Ne*(te-pe)-Oe*(I-H))/ke,O.y=(Ne*(le-me)-Oe*(U-J))/ke},function(j){j.rp0=j.stack.pop(),c.DEBUG&&console.log(j.step,"SRP0[]",j.rp0)},function(j){j.rp1=j.stack.pop(),c.DEBUG&&console.log(j.step,"SRP1[]",j.rp1)},function(j){j.rp2=j.stack.pop(),c.DEBUG&&console.log(j.step,"SRP2[]",j.rp2)},function(j){var O=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"SZP0[]",O),j.zp0=O){case 0:j.tZone||Lo(j),j.z0=j.tZone;break;case 1:j.z0=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){var O=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"SZP1[]",O),j.zp1=O){case 0:j.tZone||Lo(j),j.z1=j.tZone;break;case 1:j.z1=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){var O=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"SZP2[]",O),j.zp2=O){case 0:j.tZone||Lo(j),j.z2=j.tZone;break;case 1:j.z2=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){var O=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"SZPS[]",O),j.zp0=j.zp1=j.zp2=O){case 0:j.tZone||Lo(j),j.z0=j.z1=j.z2=j.tZone;break;case 1:j.z0=j.z1=j.z2=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){j.loop=j.stack.pop(),c.DEBUG&&console.log(j.step,"SLOOP[]",j.loop)},function(j){c.DEBUG&&console.log(j.step,"RTG[]"),j.round=Ss},function(j){c.DEBUG&&console.log(j.step,"RTHG[]"),j.round=Wl},function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"SMD[]",O),j.minDis=O/64},function(j){c.DEBUG&&console.log(j.step,"ELSE[]"),ja(j,!1)},function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"JMPR[]",O),j.ip+=O-1},function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"SCVTCI[]",O),j.cvCutIn=O/64},void 0,void 0,function(j){var O=j.stack;c.DEBUG&&console.log(j.step,"DUP[]"),O.push(O[O.length-1])},oo,function(j){c.DEBUG&&console.log(j.step,"CLEAR[]"),j.stack.length=0},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"SWAP[]"),O.push(I),O.push(U)},function(j){var O=j.stack;c.DEBUG&&console.log(j.step,"DEPTH[]"),O.push(O.length)},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"CINDEX[]",I),O.push(O[O.length-I])},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"MINDEX[]",I),O.push(O.splice(O.length-I,1)[0])},void 0,void 0,void 0,function(j){var O=(U=j.stack).pop(),I=U.pop(),U=(c.DEBUG&&console.log(j.step,"LOOPCALL[]",O,I),j.ip),H=j.prog;j.prog=j.funcs[O];for(var J=0;J<I;J++)Wn(j),c.DEBUG&&console.log(++j.step,J+1<I?"next loopcall":"done loopcall",J);j.ip=U,j.prog=H},function(j){var O=j.stack.pop(),I=(c.DEBUG&&console.log(j.step,"CALL[]",O),j.ip),U=j.prog;j.prog=j.funcs[O],Wn(j),j.ip=I,j.prog=U,c.DEBUG&&console.log(++j.step,"returning from",O)},function(j){if(j.env!=="fpgm")throw new Error("FDEF not allowed here");var U=j.stack,O=j.prog,I=j.ip,U=U.pop(),H=I;for(c.DEBUG&&console.log(j.step,"FDEF[]",U);O[++I]!==45;);j.ip=I,j.funcs[U]=O.slice(H+1,I)},void 0,io.bind(void 0,0),io.bind(void 0,1),bi.bind(void 0,tn),bi.bind(void 0,mn),ao.bind(void 0,0),ao.bind(void 0,1),lo.bind(void 0,0),lo.bind(void 0,1),xi.bind(void 0,0),xi.bind(void 0,1),function(j){for(var O=j.stack,I=j.loop,U=j.fv,H=O.pop()/64,J=j.z2;I--;){var te=O.pop(),le=J[te];c.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-I)+": ":"")+"SHPIX[]",te,H),U.setRelative(le,le,H),U.touch(le)}j.loop=1},function(j){for(var O=j.stack,I=j.rp1,U=j.rp2,H=j.loop,J=j.z0[I],te=j.z1[U],le=j.fv,pe=j.dpv,me=j.z2;H--;){var ke=O.pop(),Ne=me[ke];c.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-H)+": ":"")+"IP[]",ke,I,"<->",U),le.interpolate(Ne,J,te,pe),le.touch(Ne)}j.loop=1},zr.bind(void 0,0),zr.bind(void 0,1),function(j){for(var O=j.stack,I=j.rp0,U=j.z0[I],H=j.loop,J=j.fv,te=j.pv,le=j.z1;H--;){var pe=O.pop(),me=le[pe];c.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-H)+": ":"")+"ALIGNRP[]",pe),J.setRelative(me,U,0,te),J.touch(me)}j.loop=1},function(j){c.DEBUG&&console.log(j.step,"RTDG[]"),j.round=Hn},rs.bind(void 0,0),rs.bind(void 0,1),function(j){var O=j.prog,I=j.ip,U=j.stack,H=O[++I];c.DEBUG&&console.log(j.step,"NPUSHB[]",H);for(var J=0;J<H;J++)U.push(O[++I]);j.ip=I},function(j){var O=j.ip,I=j.prog,U=j.stack,H=I[++O];c.DEBUG&&console.log(j.step,"NPUSHW[]",H);for(var J=0;J<H;J++){var te=I[++O]<<8|I[++O];32768&te&&(te=-(1+(65535^te))),U.push(te)}j.ip=O},function(j){var U=j.stack,O=(O=j.store)||(j.store=[]),I=U.pop(),U=U.pop();c.DEBUG&&console.log(j.step,"WS",I,U),O[U]=I},function(H){var O=H.stack,I=H.store,U=O.pop(),H=(c.DEBUG&&console.log(H.step,"RS",U),I&&I[U]||0);O.push(H)},function(j){var O=(I=j.stack).pop(),I=I.pop();c.DEBUG&&console.log(j.step,"WCVTP",O,I),j.cvt[I]=O/64},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"RCVT",I),O.push(64*j.cvt[I])},Io.bind(void 0,0),Io.bind(void 0,1),void 0,Es.bind(void 0,0),Es.bind(void 0,1),function(j){c.DEBUG&&console.log(j.step,"MPPEM[]"),j.stack.push(j.ppem)},void 0,function(j){c.DEBUG&&console.log(j.step,"FLIPON[]"),j.autoFlip=!0},void 0,void 0,function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"LT[]",I,U),O.push(U<I?1:0)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"LTEQ[]",I,U),O.push(U<=I?1:0)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"GT[]",I,U),O.push(I<U?1:0)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"GTEQ[]",I,U),O.push(I<=U?1:0)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"EQ[]",I,U),O.push(I===U?1:0)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"NEQ[]",I,U),O.push(I!==U?1:0)},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"ODD[]",I),O.push(Math.trunc(I)%2?1:0)},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"EVEN[]",I),O.push(Math.trunc(I)%2?0:1)},function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"IF[]",O),O||(ja(j,!0),c.DEBUG&&console.log(j.step,"EIF[]"))},function(j){c.DEBUG&&console.log(j.step,"EIF[]")},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"AND[]",I,U),O.push(I&&U?1:0)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"OR[]",I,U),O.push(I||U?1:0)},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"NOT[]",I),O.push(I?0:1)},wi.bind(void 0,1),function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"SDB[]",O),j.deltaBase=O},function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"SDS[]",O),j.deltaShift=Math.pow(.5,O)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"ADD[]",I,U),O.push(U+I)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"SUB[]",I,U),O.push(U-I)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"DIV[]",I,U),O.push(64*U/I)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"MUL[]",I,U),O.push(U*I/64)},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"ABS[]",I),O.push(Math.abs(I))},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"NEG[]",I),O.push(-I)},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"FLOOR[]",I),O.push(64*Math.floor(I/64))},function(j){var O=j.stack,I=O.pop();c.DEBUG&&console.log(j.step,"CEILING[]",I),O.push(64*Math.ceil(I/64))},ks.bind(void 0,0),ks.bind(void 0,1),ks.bind(void 0,2),ks.bind(void 0,3),void 0,void 0,void 0,void 0,function(j){var O=(I=j.stack).pop(),I=I.pop();c.DEBUG&&console.log(j.step,"WCVTF[]",O,I),j.cvt[I]=O*j.ppem/j.font.unitsPerEm},wi.bind(void 0,2),wi.bind(void 0,3),uo.bind(void 0,1),uo.bind(void 0,2),uo.bind(void 0,3),function(j){var O,I=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"SROUND[]",I),j.round=wa,192&I){case 0:O=.5;break;case 64:O=1;break;case 128:O=2;break;default:throw new Error("invalid SROUND value")}switch(j.srPeriod=O,48&I){case 0:j.srPhase=0;break;case 16:j.srPhase=.25*O;break;case 32:j.srPhase=.5*O;break;case 48:j.srPhase=.75*O;break;default:throw new Error("invalid SROUND value")}j.srThreshold=(I&=15)===0?0:(I/8-.5)*O},function(j){var O,I=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"S45ROUND[]",I),j.round=wa,192&I){case 0:O=Math.sqrt(2)/2;break;case 64:O=Math.sqrt(2);break;case 128:O=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(j.srPeriod=O,48&I){case 0:j.srPhase=0;break;case 16:j.srPhase=.25*O;break;case 32:j.srPhase=.5*O;break;case 48:j.srPhase=.75*O;break;default:throw new Error("invalid S45ROUND value")}j.srThreshold=(I&=15)===0?0:(I/8-.5)*O},void 0,void 0,function(j){c.DEBUG&&console.log(j.step,"ROFF[]"),j.round=to},void 0,function(j){c.DEBUG&&console.log(j.step,"RUTG[]"),j.round=xa},function(j){c.DEBUG&&console.log(j.step,"RDTG[]"),j.round=ro},oo,oo,void 0,void 0,void 0,void 0,void 0,function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"SCANCTRL[]",O)},Cs.bind(void 0,0),Cs.bind(void 0,1),function(j){var O=j.stack,I=O.pop(),U=0;c.DEBUG&&console.log(j.step,"GETINFO[]",I),1&I&&(U=35),32&I&&(U|=4096),O.push(U)},void 0,function(j){var O=j.stack,I=O.pop(),U=O.pop(),H=O.pop();c.DEBUG&&console.log(j.step,"ROLL[]"),O.push(U),O.push(I),O.push(H)},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"MAX[]",I,U),O.push(Math.max(U,I))},function(j){var O=j.stack,I=O.pop(),U=O.pop();c.DEBUG&&console.log(j.step,"MIN[]",I,U),O.push(Math.min(U,I))},function(j){var O=j.stack.pop();c.DEBUG&&console.log(j.step,"SCANTYPE[]",O)},function(j){var O=j.stack.pop(),I=j.stack.pop();switch(c.DEBUG&&console.log(j.step,"INSTCTRL[]",O,I),O){case 1:return void(j.inhibitGridFit=!!I);case 2:return void(j.ignoreCvt=!!I);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,gn.bind(void 0,1),gn.bind(void 0,2),gn.bind(void 0,3),gn.bind(void 0,4),gn.bind(void 0,5),gn.bind(void 0,6),gn.bind(void 0,7),gn.bind(void 0,8),Rn.bind(void 0,1),Rn.bind(void 0,2),Rn.bind(void 0,3),Rn.bind(void 0,4),Rn.bind(void 0,5),Rn.bind(void 0,6),Rn.bind(void 0,7),Rn.bind(void 0,8),gt.bind(void 0,0,0,0,0,0),gt.bind(void 0,0,0,0,0,1),gt.bind(void 0,0,0,0,0,2),gt.bind(void 0,0,0,0,0,3),gt.bind(void 0,0,0,0,1,0),gt.bind(void 0,0,0,0,1,1),gt.bind(void 0,0,0,0,1,2),gt.bind(void 0,0,0,0,1,3),gt.bind(void 0,0,0,1,0,0),gt.bind(void 0,0,0,1,0,1),gt.bind(void 0,0,0,1,0,2),gt.bind(void 0,0,0,1,0,3),gt.bind(void 0,0,0,1,1,0),gt.bind(void 0,0,0,1,1,1),gt.bind(void 0,0,0,1,1,2),gt.bind(void 0,0,0,1,1,3),gt.bind(void 0,0,1,0,0,0),gt.bind(void 0,0,1,0,0,1),gt.bind(void 0,0,1,0,0,2),gt.bind(void 0,0,1,0,0,3),gt.bind(void 0,0,1,0,1,0),gt.bind(void 0,0,1,0,1,1),gt.bind(void 0,0,1,0,1,2),gt.bind(void 0,0,1,0,1,3),gt.bind(void 0,0,1,1,0,0),gt.bind(void 0,0,1,1,0,1),gt.bind(void 0,0,1,1,0,2),gt.bind(void 0,0,1,1,0,3),gt.bind(void 0,0,1,1,1,0),gt.bind(void 0,0,1,1,1,1),gt.bind(void 0,0,1,1,1,2),gt.bind(void 0,0,1,1,1,3),gt.bind(void 0,1,0,0,0,0),gt.bind(void 0,1,0,0,0,1),gt.bind(void 0,1,0,0,0,2),gt.bind(void 0,1,0,0,0,3),gt.bind(void 0,1,0,0,1,0),gt.bind(void 0,1,0,0,1,1),gt.bind(void 0,1,0,0,1,2),gt.bind(void 0,1,0,0,1,3),gt.bind(void 0,1,0,1,0,0),gt.bind(void 0,1,0,1,0,1),gt.bind(void 0,1,0,1,0,2),gt.bind(void 0,1,0,1,0,3),gt.bind(void 0,1,0,1,1,0),gt.bind(void 0,1,0,1,1,1),gt.bind(void 0,1,0,1,1,2),gt.bind(void 0,1,0,1,1,3),gt.bind(void 0,1,1,0,0,0),gt.bind(void 0,1,1,0,0,1),gt.bind(void 0,1,1,0,0,2),gt.bind(void 0,1,1,0,0,3),gt.bind(void 0,1,1,0,1,0),gt.bind(void 0,1,1,0,1,1),gt.bind(void 0,1,1,0,1,2),gt.bind(void 0,1,1,0,1,3),gt.bind(void 0,1,1,1,0,0),gt.bind(void 0,1,1,1,0,1),gt.bind(void 0,1,1,1,0,2),gt.bind(void 0,1,1,1,0,3),gt.bind(void 0,1,1,1,1,0),gt.bind(void 0,1,1,1,1,1),gt.bind(void 0,1,1,1,1,2),gt.bind(void 0,1,1,1,1,3)],Yl=Array.from||function(j){return j.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Qt(j){(j=j||{}).empty||(ts(j.familyName,"When creating a new Font object, familyName is required."),ts(j.styleName,"When creating a new Font object, styleName is required."),ts(j.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ts(j.ascender,"When creating a new Font object, ascender is required."),ts(j.descender,"When creating a new Font object, descender is required."),ts(j.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:j.familyName||" "},fontSubfamily:{en:j.styleName||" "},fullName:{en:j.fullName||j.familyName+" "+j.styleName},postScriptName:{en:j.postScriptName||(j.familyName+j.styleName).replace(/\s/g,"")},designer:{en:j.designer||" "},designerURL:{en:j.designerURL||" "},manufacturer:{en:j.manufacturer||" "},manufacturerURL:{en:j.manufacturerURL||" "},license:{en:j.license||" "},licenseURL:{en:j.licenseURL||" "},version:{en:j.version||"Version 0.1"},description:{en:j.description||" "},copyright:{en:j.copyright||" "},trademark:{en:j.trademark||" "}},this.unitsPerEm=j.unitsPerEm||1e3,this.ascender=j.ascender,this.descender=j.descender,this.createdTimestamp=j.createdTimestamp,this.tables={os2:{usWeightClass:j.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:j.widthClass||this.usWidthClasses.MEDIUM,fsSelection:j.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new yt.GlyphSet(this,j.glyphs||[]),this.encoding=new Le(this),this.position=new Gt(this),this.substitution=new pn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new On(this):void 0)}})}function _a(j,O){var I,U=JSON.stringify(j),H=256;for(I in O){var J=parseInt(I);if(J&&!(J<256)){if(JSON.stringify(O[I])===U)return J;H<=J&&(H=J+1)}}return O[H]=j,H}Qt.prototype.hasChar=function(j){return this.encoding.charToGlyphIndex(j)!==null},Qt.prototype.charToGlyphIndex=function(j){return this.encoding.charToGlyphIndex(j)},Qt.prototype.charToGlyph=function(j){return j=this.charToGlyphIndex(j),this.glyphs.get(j)||this.glyphs.get(0)},Qt.prototype.stringToGlyphs=function(j,O){O=O||this.defaultRenderOptions;for(var I=Yl(j),U=[],H=0;H<I.length;H+=1){var J=I[H];U.push(this.charToGlyphIndex(J))}var te=U.length;if(O.features){var j=O.script||this.substitution.getDefaultScriptName(),le=[];O.features.liga&&(le=le.concat(this.substitution.getFeature("liga",j,O.language))),O.features.rlig&&(le=le.concat(this.substitution.getFeature("rlig",j,O.language)));for(var pe=0;pe<te;pe+=1)for(var me=0;me<le.length;me++){for(var ke=le[me],Ne=ke.sub,Oe=Ne.length,xe=0;xe<Oe&&Ne[xe]===U[pe+xe];)xe++;xe===Oe&&(U.splice(pe,Oe,ke.by),te=te-Oe+1)}}for(var $e=new Array(te),Ve=this.glyphs.get(0),Xe=0;Xe<te;Xe+=1)$e[Xe]=this.glyphs.get(U[Xe])||Ve;return $e},Qt.prototype.nameToGlyphIndex=function(j){return this.glyphNames.nameToGlyphIndex(j)},Qt.prototype.nameToGlyph=function(j){return j=this.nameToGlyphIndex(j),this.glyphs.get(j)||this.glyphs.get(0)},Qt.prototype.glyphIndexToName=function(j){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(j):""},Qt.prototype.getKerningValue=function(j,O){j=j.index||j,O=O.index||O;var I=this.position.defaultKerningTables;return I?this.position.getKerningValue(I,j,O):this.kerningPairs[j+","+O]||0},Qt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Qt.prototype.forEachGlyph=function(j,O,I,U,H,J){O=O!==void 0?O:0,I=I!==void 0?I:0,H=H||this.defaultRenderOptions;var te,le=1/this.unitsPerEm*(U=U!==void 0?U:72),pe=this.stringToGlyphs(j,H);H.kerning&&(j=H.script||this.position.getDefaultScriptName(),te=this.position.getKerningTables(j,H.language));for(var me=0;me<pe.length;me+=1){var ke=pe[me];J.call(this,ke,O,I,U,H),ke.advanceWidth&&(O+=ke.advanceWidth*le),H.kerning&&me<pe.length-1&&(O+=(te?this.position.getKerningValue(te,ke.index,pe[me+1].index):this.getKerningValue(ke,pe[me+1]))*le),H.letterSpacing?O+=H.letterSpacing*U:H.tracking&&(O+=H.tracking/1e3*U)}return O},Qt.prototype.getPath=function(j,O,I,U,H){var J=new Z;return this.forEachGlyph(j,O,I,U,H,function(te,le,pe,me){te=te.getPath(le,pe,me,H,this),J.extend(te)}),J},Qt.prototype.getPaths=function(j,O,I,U,H){var J=[];return this.forEachGlyph(j,O,I,U,H,function(te,le,pe,me){te=te.getPath(le,pe,me,H,this),J.push(te)}),J},Qt.prototype.getAdvanceWidth=function(j,O,I){return this.forEachGlyph(j,0,0,O,I,function(){})},Qt.prototype.draw=function(j,O,I,U,H,J){this.getPath(O,I,U,H,J).draw(j)},Qt.prototype.drawPoints=function(j,O,I,U,H,J){this.forEachGlyph(O,I,U,H,J,function(te,le,pe,me){te.drawPoints(j,le,pe,me)})},Qt.prototype.drawMetrics=function(j,O,I,U,H,J){this.forEachGlyph(O,I,U,H,J,function(te,le,pe,me){te.drawMetrics(j,le,pe,me)})},Qt.prototype.getEnglishName=function(j){if(j=this.names[j],j)return j.en},Qt.prototype.validate=function(){var j=this;function O(I){I=j.getEnglishName(I),I&&I.trim().length}O("fontFamily"),O("weightName"),O("manufacturer"),O("copyright"),O("version"),this.unitsPerEm},Qt.prototype.toTables=function(){return ga.fontToTable(this)},Qt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Qt.prototype.toArrayBuffer=function(){for(var j=this.toTables().encode(),O=new ArrayBuffer(j.length),I=new Uint8Array(O),U=0;U<j.length;U++)I[U]=j[U];return O},Qt.prototype.download=function(j){var O=this.getEnglishName("fontFamily"),I=this.getEnglishName("fontSubfamily"),U=(j=j||O.replace(/\s/g,"")+"-"+I+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,U.byteLength,function(H){H.root.getFile(j,{create:!0},function(J){J.createWriter(function(te){var le=new DataView(U),le=new Blob([le],{type:"font/opentype"});te.write(le),te.addEventListener("writeend",function(){location.href=J.toURL()},!1)})})},function(H){throw new Error(H.name+": "+H.message)})):(O=t("fs"),I=function(H){for(var J=new l(H.byteLength),te=new Uint8Array(H),le=0;le<J.length;++le)J[le]=te[le];return J}(U),O.writeFileSync(j,I))},Qt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Qt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Qt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var $l={make:function(j,O){var I=new Fe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:j.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:j.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*j.axes.length}]);I.offsetToData=I.sizeOf();for(var U,H,J,te=0;te<j.axes.length;te++)I.fields=I.fields.concat((U=te,H=j.axes[te],J=O,J=_a(H.name,O),[{name:"tag_"+U,type:"TAG",value:H.tag},{name:"minValue_"+U,type:"FIXED",value:H.minValue<<16},{name:"defaultValue_"+U,type:"FIXED",value:H.defaultValue<<16},{name:"maxValue_"+U,type:"FIXED",value:H.maxValue<<16},{name:"flags_"+U,type:"USHORT",value:0},{name:"nameID_"+U,type:"USHORT",value:J}]));for(var le=0;le<j.instances.length;le++)I.fields=I.fields.concat(function(pe,me,ke,Ne){for(var Oe=[{name:"nameID_"+pe,type:"USHORT",value:_a(me.name,Ne)},{name:"flags_"+pe,type:"USHORT",value:0}],xe=0;xe<ke.length;++xe){var $e=ke[xe].tag;Oe.push({name:"axis_"+pe+" "+$e,type:"FIXED",value:me.coordinates[$e]<<16})}return Oe}(le,j.instances[le],j.axes,O));return I},parse:function(j,O,I){for(var U,H,J,te,le=new De.Parser(j,O),pe=le.parseULong(),me=(B.argument(pe===65536,"Unsupported fvar table version."),le.parseOffset16()),ke=(le.skip("uShort",1),le.parseUShort()),Ne=le.parseUShort(),Oe=le.parseUShort(),xe=le.parseUShort(),$e=[],Ve=0;Ve<ke;Ve++)$e.push((U=j,H=O+me+Ve*Ne,J=I,te={},U=new De.Parser(U,H),te.tag=U.parseTag(),te.minValue=U.parseFixed(),te.defaultValue=U.parseFixed(),te.maxValue=U.parseFixed(),U.skip("uShort",1),te.name=J[U.parseUShort()]||{},te));for(var Xe=[],Ue=O+me+ke*Ne,Be=0;Be<Oe;Be++)Xe.push(function(wt,Rt,vt,xt){var It={},Xt=new De.Parser(wt,Rt);It.name=xt[Xt.parseUShort()]||{},Xt.skip("uShort",1),It.coordinates={};for(var ur=0;ur<vt.length;++ur)It.coordinates[vt[ur].tag]=Xt.parseFixed();return It}(j,Ue+Be*xe,$e,I));return{axes:$e,instances:Xe}}},rn=new Array(10);rn[1]=function(){var j=this.offset+this.relativeOffset,O=this.parseUShort();return O===1?{posFormat:1,coverage:this.parsePointer(Pe.coverage),value:this.parseValueRecord()}:O===2?{posFormat:2,coverage:this.parsePointer(Pe.coverage),values:this.parseValueRecordList()}:void B.assert(!1,"0x"+j.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},rn[2]=function(){var j,O,I,U,J=this.offset+this.relativeOffset,H=this.parseUShort(),J=(B.assert(H===1||H===2,"0x"+J.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Pe.coverage)),te=this.parseUShort(),le=this.parseUShort();return H===1?{posFormat:H,coverage:J,valueFormat1:te,valueFormat2:le,pairSets:this.parseList(Pe.pointer(Pe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(te),value2:this.parseValueRecord(le)}})))}:H===2?(j=this.parsePointer(Pe.classDef),O=this.parsePointer(Pe.classDef),I=this.parseUShort(),U=this.parseUShort(),{posFormat:H,coverage:J,valueFormat1:te,valueFormat2:le,classDef1:j,classDef2:O,class1Count:I,class2Count:U,classRecords:this.parseList(I,Pe.list(U,function(){return{value1:this.parseValueRecord(te),value2:this.parseValueRecord(le)}}))}):void 0},rn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},rn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},rn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},rn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},rn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},rn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},rn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Kl=new Array(10),Zl={parse:function(j,O){return O=(j=new Pe(j,O=O||0)).parseVersion(1),B.argument(O===1||O===1.1,"Unsupported GPOS table version "+O),O===1?{version:O,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(rn)}:{version:O,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(rn),variations:j.parseFeatureVariationsList()}},make:function(j){return new Fe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Fe.ScriptList(j.scripts)},{name:"features",type:"TABLE",value:new Fe.FeatureList(j.features)},{name:"lookups",type:"TABLE",value:new Fe.LookupList(j.lookups,Kl)}])}},Ql={parse:function(j,O){if(j=new De.Parser(j,O),(O=j.parseUShort())===0){var I=j,U={},Ne=(I.skip("uShort"),I.parseUShort()),H=(B.argument(Ne===0,"Unsupported kern sub-table version."),I.skip("uShort",2),I.parseUShort());I.skip("uShort",3);for(var J=0;J<H;J+=1){var te=I.parseUShort(),le=I.parseUShort(),pe=I.parseShort();U[te+","+le]=pe}return U}if(O!==1)throw new Error("Unsupported kern table version ("+O+").");var me=j,ke={},Ne=(me.skip("uShort"),1<me.parseULong()&&console.warn("Only the first kern subtable is supported."),me.skip("uLong"),255&me.parseUShort());if(me.skip("uShort"),Ne==0){var Oe=me.parseUShort();me.skip("uShort",3);for(var xe=0;xe<Oe;xe+=1){var $e=me.parseUShort(),Ve=me.parseUShort(),Xe=me.parseShort();ke[$e+","+Ve]=Xe}}return ke}},Jl={parse:function(j,O,I,U){for(var H=new De.Parser(j,O),J=U?H.parseUShort:H.parseULong,te=[],le=0;le<I+1;le+=1){var pe=J.call(H);U&&(pe*=2),te.push(pe)}return te}};function ji(j,O){t("fs").readFile(j,function(I,U){if(I)return O(I.message);O(null,Ao(U))})}function eu(j,O){var I=new XMLHttpRequest;I.open("get",j,!0),I.responseType="arraybuffer",I.onload=function(){return I.response?O(null,I.response):O("Font could not be loaded: "+I.statusText)},I.onerror=function(){O("Font could not be loaded")},I.send()}function Ta(j,O){for(var I=[],U=12,H=0;H<O;H+=1){var J=De.getTag(j,U),te=De.getULong(j,U+4),le=De.getULong(j,U+8),pe=De.getULong(j,U+12);I.push({tag:J,checksum:te,offset:le,length:pe,compression:!1}),U+=16}return I}function br(I,O){if(O.compression!=="WOFF")return{data:I,offset:O.offset};var I=new Uint8Array(I.buffer,O.offset+2,O.compressedLength-2),U=new Uint8Array(O.length);if(q(I,U),U.byteLength!==O.length)throw new Error("Decompression error: "+O.tag+" decompressed length doesn't match recorded length");return{data:new DataView(U.buffer,0),offset:0}}function Fo(Be){var O,I,U,H,J,te,le,pe,me,ke,Ne,Oe,xe,$e,Ve=new Qt({empty:!0}),Xe=new DataView(Be,0),Ue=[],Be=De.getTag(Xe,0);if(Be==="\0\0\0"||Be==="true"||Be==="typ1")Ve.outlinesFormat="truetype",Ue=Ta(Xe,U=De.getUShort(Xe,4));else if(Be==="OTTO")Ve.outlinesFormat="cff",Ue=Ta(Xe,U=De.getUShort(Xe,4));else{if(Be!=="wOFF")throw new Error("Unsupported OpenType signature "+Be);var wt=De.getTag(Xe,4);if(wt==="\0\0\0")Ve.outlinesFormat="truetype";else{if(wt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Be);Ve.outlinesFormat="cff"}Ue=function(Jt,qt){for(var Ir=[],or=44,Ar=0;Ar<qt;Ar+=1){var tr=De.getTag(Jt,or),$t=De.getULong(Jt,or+4),Dn=De.getULong(Jt,or+8),ns=De.getULong(Jt,or+12),Si=void 0,Si=Dn<ns&&"WOFF";Ir.push({tag:tr,offset:$t,compression:Si,compressedLength:Dn,length:ns}),or+=20}return Ir}(Xe,U=De.getUShort(Xe,12))}for(var Rt=0;Rt<U;Rt+=1){var vt=Ue[Rt],xt=void 0;switch(vt.tag){case"cmap":xt=br(Xe,vt),Ve.tables.cmap=ie.parse(xt.data,xt.offset),Ve.encoding=new He(Ve.tables.cmap);break;case"cvt ":xt=br(Xe,vt),$e=new De.Parser(xt.data,xt.offset),Ve.tables.cvt=$e.parseShortList(vt.length/2);break;case"fvar":J=vt;break;case"fpgm":xt=br(Xe,vt),$e=new De.Parser(xt.data,xt.offset),Ve.tables.fpgm=$e.parseByteList(vt.length);break;case"head":xt=br(Xe,vt),Ve.tables.head=gs.parse(xt.data,xt.offset),Ve.unitsPerEm=Ve.tables.head.unitsPerEm,O=Ve.tables.head.indexToLocFormat;break;case"hhea":xt=br(Xe,vt),Ve.tables.hhea=we.parse(xt.data,xt.offset),Ve.ascender=Ve.tables.hhea.ascender,Ve.descender=Ve.tables.hhea.descender,Ve.numberOfHMetrics=Ve.tables.hhea.numberOfHMetrics;break;case"hmtx":me=vt;break;case"ltag":xt=br(Xe,vt),I=ft.parse(xt.data,xt.offset);break;case"maxp":xt=br(Xe,vt),Ve.tables.maxp=Ze.parse(xt.data,xt.offset),Ve.numGlyphs=Ve.tables.maxp.numGlyphs;break;case"name":Oe=vt;break;case"OS/2":xt=br(Xe,vt),Ve.tables.os2=kr.parse(xt.data,xt.offset);break;case"post":xt=br(Xe,vt),Ve.tables.post=en.parse(xt.data,xt.offset),Ve.glyphNames=new nt(Ve.tables.post);break;case"prep":xt=br(Xe,vt),$e=new De.Parser(xt.data,xt.offset),Ve.tables.prep=$e.parseByteList(vt.length);break;case"glyf":te=vt;break;case"loca":Ne=vt;break;case"CFF ":H=vt;break;case"kern":ke=vt;break;case"GPOS":le=vt;break;case"GSUB":pe=vt;break;case"meta":xe=vt}}if(wt=br(Xe,Oe),Ve.tables.name=Dr.parse(wt.data,wt.offset,I),Ve.names=Ve.tables.name,te&&Ne)Be=O===0,wt=br(Xe,Ne),wt=Jl.parse(wt.data,wt.offset,Ve.numGlyphs,Be),Be=br(Xe,te),Ve.glyphs=Pn.parse(Be.data,Be.offset,wt,Ve);else{if(!H)throw new Error("Font doesn't contain TrueType or CFF outlines.");Be=br(Xe,H),dn.parse(Be.data,Be.offset,Ve)}for(var wt=br(Xe,me),It=(Je.parse(wt.data,wt.offset,Ve.numberOfHMetrics,Ve.numGlyphs,Ve.glyphs),Ve),Xt=It.tables.cmap.glyphIndexMap,ur=Object.keys(Xt),fr=0;fr<ur.length;fr+=1){var Cr,Mr=ur[fr],nn=Xt[Mr];(Cr=It.glyphs.get(nn)).addUnicode(parseInt(Mr))}for(var Yt=0;Yt<It.glyphs.length;Yt+=1)Cr=It.glyphs.get(Yt),It.cffEncoding?It.isCIDFont?Cr.name="gid"+Yt:Cr.name=It.cffEncoding.charset[Yt]:It.glyphNames.names&&(Cr.name=It.glyphNames.glyphIndexToName(Yt));return ke?(Be=br(Xe,ke),Ve.kerningPairs=Ql.parse(Be.data,Be.offset)):Ve.kerningPairs={},le&&(wt=br(Xe,le),Ve.tables.gpos=Zl.parse(wt.data,wt.offset),Ve.position.init()),pe&&(Be=br(Xe,pe),Ve.tables.gsub=Ks.parse(Be.data,Be.offset)),J&&(wt=br(Xe,J),Ve.tables.fvar=$l.parse(wt.data,wt.offset,Ve.names)),xe&&(Be=br(Xe,xe),Ve.tables.meta=Zs.parse(Be.data,Be.offset),Ve.metas=Ve.tables.meta),Ve}c.Font=Qt,c.Glyph=ct,c.Path=Z,c.BoundingBox=ee,c._parse=De,c.parse=Fo,c.load=function(j,O){(typeof window>"u"?ji:eu)(j,function(I,U){if(I)return O(I);var H;try{H=Fo(U)}catch(J){return O(J,null)}return O(null,H)})},c.loadSync=function(j){return Fo(Ao(t("fs").readFileSync(j)))},Object.defineProperty(c,"__esModule",{value:!0})},s(typeof y=="object"&&_!==void 0?y:f.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,_,y){(function(l){function f(p,m){for(var n=0,r=p.length-1;0<=r;r--){var a=p[r];a==="."?p.splice(r,1):a===".."?(p.splice(r,1),n++):n&&(p.splice(r,1),n--)}if(m)for(;n--;)p.unshift("..");return p}function s(p,m){if(p.filter)return p.filter(m);for(var n=[],r=0;r<p.length;r++)m(p[r],r,p)&&n.push(p[r]);return n}y.resolve=function(){for(var p="",m=!1,n=arguments.length-1;-1<=n&&!m;n--){var r=0<=n?arguments[n]:l.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(p=r+"/"+p,m=r.charAt(0)==="/")}return(m?"/":"")+(p=f(s(p.split("/"),function(a){return!!a}),!m).join("/"))||"."},y.normalize=function(p){var m=y.isAbsolute(p),n=c(p,-1)==="/";return(p=(p=f(s(p.split("/"),function(r){return!!r}),!m).join("/"))||m?p:".")&&n&&(p+="/"),(m?"/":"")+p},y.isAbsolute=function(p){return p.charAt(0)==="/"},y.join=function(){var p=Array.prototype.slice.call(arguments,0);return y.normalize(s(p,function(m,n){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},y.relative=function(p,m){function n(b){for(var v=0;v<b.length&&b[v]==="";v++);for(var w=b.length-1;0<=w&&b[w]==="";w--);return w<v?[]:b.slice(v,w-v+1)}p=y.resolve(p).substr(1),m=y.resolve(m).substr(1);for(var r=n(p.split("/")),a=n(m.split("/")),i=Math.min(r.length,a.length),u=i,d=0;d<i;d++)if(r[d]!==a[d]){u=d;break}for(var h=[],d=u;d<r.length;d++)h.push("..");return(h=h.concat(a.slice(u))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(p){if(typeof p!="string"&&(p+=""),p.length===0)return".";for(var m=p.charCodeAt(0)===47,n=-1,r=!0,a=p.length-1;1<=a;--a)if(p.charCodeAt(a)===47){if(!r){n=a;break}}else r=!1;return n===-1?m?"/":".":m&&n===1?"/":p.slice(0,n)},y.basename=function(p,m){return p=function(n){typeof n!="string"&&(n+="");for(var r=0,a=-1,i=!0,u=n.length-1;0<=u;--u)if(n.charCodeAt(u)===47){if(!i){r=u+1;break}}else a===-1&&(i=!1,a=u+1);return a===-1?"":n.slice(r,a)}(p),p=m&&p.substr(-1*m.length)===m?p.substr(0,p.length-m.length):p},y.extname=function(p){typeof p!="string"&&(p+="");for(var m=-1,n=0,r=-1,a=!0,i=0,u=p.length-1;0<=u;--u){var d=p.charCodeAt(u);if(d===47){if(a)continue;n=u+1;break}r===-1&&(a=!1,r=u+1),d===46?m===-1?m=u:i!==1&&(i=1):m!==-1&&(i=-1)}return m===-1||r===-1||i===0||i===1&&m===r-1&&m===n+1?"":p.slice(m,r)};var c="ab".substr(-1)==="b"?function(p,m,n){return p.substr(m,n)}:function(p,m,n){return m<0&&(m=p.length+m),p.substr(m,n)}}).call(this,t("_process"))},{_process:259}],259:[function(t,s,y){var l,f,s=s.exports={};function c(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}try{l=typeof setTimeout=="function"?setTimeout:c}catch{l=c}try{f=typeof clearTimeout=="function"?clearTimeout:p}catch{f=p}function m(v){if(l===setTimeout)return setTimeout(v,0);if((l===c||!l)&&setTimeout)return(l=setTimeout)(v,0);try{return l(v,0)}catch{try{return l.call(null,v,0)}catch{return l.call(this,v,0)}}}var n,r=[],a=!1,i=-1;function u(){a&&n&&(a=!1,n.length?r=n.concat(r):i=-1,r.length&&d())}function d(){if(!a){for(var v=m(u),w=(a=!0,r.length);w;){for(n=r,r=[];++i<w;)n&&n[i].run();i=-1,w=r.length}n=null,a=!1,function(E){if(f===clearTimeout)return clearTimeout(E);if((f===p||!f)&&clearTimeout)return(f=clearTimeout)(E);try{f(E)}catch{try{return f.call(null,E)}catch{return f.call(this,E)}}}(v)}}function h(v,w){this.fun=v,this.array=w}function b(){}s.nextTick=function(v){var w=new Array(arguments.length-1);if(1<arguments.length)for(var E=1;E<arguments.length;E++)w[E-1]=arguments[E];r.push(new h(v,w)),r.length!==1||a||m(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(v){return[]},s.binding=function(v){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(v){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],260:[function(t,_,y){_=function(l){var f,s=Object.prototype,c=s.hasOwnProperty,k=typeof Symbol=="function"?Symbol:{},p=k.iterator||"@@iterator",m=k.asyncIterator||"@@asyncIterator",n=k.toStringTag||"@@toStringTag";function r($,W,Y,K){var Z,se,P,B,W=W&&W.prototype instanceof v?W:v,W=Object.create(W.prototype),K=new G(K||[]);return W._invoke=(Z=$,se=Y,P=K,B=i,function(ne,oe){if(B===d)throw new Error("Generator is already running");if(B===h){if(ne==="throw")throw oe;return z()}for(P.method=ne,P.arg=oe;;){var fe=P.delegate;if(fe&&(fe=function ge(de,ye){var be=de.iterator[ye.method];if(be===f){if(ye.delegate=null,ye.method==="throw"){if(de.iterator.return&&(ye.method="return",ye.arg=f,ge(de,ye),ye.method==="throw"))return b;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}if(be=a(be,de.iterator,ye.arg),be.type==="throw")return ye.method="throw",ye.arg=be.arg,ye.delegate=null,b;if(be=be.arg,!be)return ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,b;{if(!be.done)return be;ye[de.resultName]=be.value,ye.next=de.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=f)}return ye.delegate=null,b}(fe,P),fe)){if(fe===b)continue;return fe}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(B===i)throw B=h,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);if(B=d,fe=a(Z,se,P),fe.type==="normal"){if(B=P.done?h:u,fe.arg!==b)return{value:fe.arg,done:P.done}}else fe.type==="throw"&&(B=h,P.method="throw",P.arg=fe.arg)}}),W}function a($,q,Y){try{return{type:"normal",arg:$.call(q,Y)}}catch(ee){return{type:"throw",arg:ee}}}l.wrap=r;var i="suspendedStart",u="suspendedYield",d="executing",h="completed",b={};function v(){}function w(){}function E(){}var k={},T=(k[p]=function(){return this},Object.getPrototypeOf),T=T&&T(T(V([]))),L=(T&&T!==s&&c.call(T,p)&&(k=T),E.prototype=v.prototype=Object.create(k));function R($){["next","throw","return"].forEach(function(q){$[q]=function(Y){return this._invoke(q,Y)}})}function M($){var q;this._invoke=function(Y,ee){function Z(){return new Promise(function(se,P){(function B(ge,K,ne,oe){var fe,ge=a($[ge],$,K);if(ge.type!=="throw")return(K=(fe=ge.arg).value)&&typeof K=="object"&&c.call(K,"__await")?Promise.resolve(K.__await).then(function(de){B("next",de,ne,oe)},function(de){B("throw",de,ne,oe)}):Promise.resolve(K).then(function(de){fe.value=de,ne(fe)},function(de){return B("throw",de,ne,oe)});oe(ge.arg)})(Y,ee,se,P)})}return q=q?q.then(Z,Z):Z()}}function N($){var q={tryLoc:$[0]};1 in $&&(q.catchLoc=$[1]),2 in $&&(q.finallyLoc=$[2],q.afterLoc=$[3]),this.tryEntries.push(q)}function D($){var q=$.completion||{};q.type="normal",delete q.arg,$.completion=q}function G($){this.tryEntries=[{tryLoc:"root"}],$.forEach(N,this),this.reset(!0)}function V($){if($){var q,Y=$[p];if(Y)return Y.call($);if(typeof $.next=="function")return $;if(!isNaN($.length))return q=-1,(Y=function ee(){for(;++q<$.length;)if(c.call($,q))return ee.value=$[q],ee.done=!1,ee;return ee.value=f,ee.done=!0,ee}).next=Y}return{next:z}}function z(){return{value:f,done:!0}}return(w.prototype=L.constructor=E).constructor=w,E[n]=w.displayName="GeneratorFunction",l.isGeneratorFunction=function($){return $=typeof $=="function"&&$.constructor,!!$&&($===w||($.displayName||$.name)==="GeneratorFunction")},l.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,E):($.__proto__=E,n in $||($[n]="GeneratorFunction")),$.prototype=Object.create(L),$},l.awrap=function($){return{__await:$}},R(M.prototype),M.prototype[m]=function(){return this},l.AsyncIterator=M,l.async=function($,q,Y,ee){var Z=new M(r($,q,Y,ee));return l.isGeneratorFunction(q)?Z:Z.next().then(function(se){return se.done?se.value:Z.next()})},R(L),L[n]="Generator",L[p]=function(){return this},L.toString=function(){return"[object Generator]"},l.keys=function($){var q,Y=[];for(q in $)Y.push(q);return Y.reverse(),function ee(){for(;Y.length;){var Z=Y.pop();if(Z in $)return ee.value=Z,ee.done=!1,ee}return ee.done=!0,ee}},l.values=V,G.prototype={constructor:G,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(D),!$)for(var q in this)q.charAt(0)==="t"&&c.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=f)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var q=this;function Y(W,K){return se.type="throw",se.arg=$,q.next=W,K&&(q.method="next",q.arg=f),!!K}for(var ee=this.tryEntries.length-1;0<=ee;--ee){var Z=this.tryEntries[ee],se=Z.completion;if(Z.tryLoc==="root")return Y("end");if(Z.tryLoc<=this.prev){var P=c.call(Z,"catchLoc"),B=c.call(Z,"finallyLoc");if(P&&B){if(this.prev<Z.catchLoc)return Y(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return Y(Z.finallyLoc)}else if(P){if(this.prev<Z.catchLoc)return Y(Z.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return Y(Z.finallyLoc)}}}},abrupt:function($,q){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var ee=this.tryEntries[Y];if(ee.tryLoc<=this.prev&&c.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var Z=ee;break}}var se=(Z=Z&&($==="break"||$==="continue")&&Z.tryLoc<=q&&q<=Z.finallyLoc?null:Z)?Z.completion:{};return se.type=$,se.arg=q,Z?(this.method="next",this.next=Z.finallyLoc,b):this.complete(se)},complete:function($,q){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&q&&(this.next=q),b},finish:function($){for(var q=this.tryEntries.length-1;0<=q;--q){var Y=this.tryEntries[q];if(Y.finallyLoc===$)return this.complete(Y.completion,Y.afterLoc),D(Y),b}},catch:function($){for(var q=this.tryEntries.length-1;0<=q;--q){var Y,ee,Z=this.tryEntries[q];if(Z.tryLoc===$)return(Y=Z.completion).type==="throw"&&(ee=Y.arg,D(Z)),ee}throw new Error("illegal catch attempt")},delegateYield:function($,q,Y){return this.delegate={iterator:V($),resultName:q,nextLoc:Y},this.method==="next"&&(this.arg=f),b}},l}(typeof _=="object"?_.exports:{});try{regeneratorRuntime=_}catch{Function("r","regeneratorRuntime = r")(_)}},{}],261:[function(t,_,y){(function(l){var f,s,c,p,m,n,r,a,i,u;function d(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function h(D){return D=typeof D!="string"?String(D):D}function b(D){var G={next:function(){var V=D.shift();return{done:V===void 0,value:V}}};return s&&(G[Symbol.iterator]=function(){return G}),G}function v(D){this.map={},D instanceof v?D.forEach(function(G,V){this.append(V,G)},this):Array.isArray(D)?D.forEach(function(G){this.append(G[0],G[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(G){this.append(G,D[G])},this)}function w(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function E(D){return new Promise(function(G,V){D.onload=function(){G(D.result)},D.onerror=function(){V(D.error)}})}function k(D){var G=new FileReader,V=E(G);return G.readAsArrayBuffer(D),V}function T(D){var G;return D.slice?D.slice(0):((G=new Uint8Array(D.byteLength)).set(new Uint8Array(D)),G.buffer)}function L(){return this.bodyUsed=!1,this._initBody=function(D){if(this._bodyInit=D)if(typeof D=="string")this._bodyText=D;else if(c&&Blob.prototype.isPrototypeOf(D))this._bodyBlob=D;else if(p&&FormData.prototype.isPrototypeOf(D))this._bodyFormData=D;else if(f&&URLSearchParams.prototype.isPrototypeOf(D))this._bodyText=D.toString();else if(m&&c&&r(D))this._bodyArrayBuffer=T(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(D)&&!a(D))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=T(D)}else this._bodyText="";this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var D=w(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)}),this.text=function(){var D,G,V=w(this);if(V)return V;if(this._bodyBlob)return V=this._bodyBlob,D=new FileReader,G=E(D),D.readAsText(V),G;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var $=new Uint8Array(z),q=new Array($.length),Y=0;Y<$.length;Y++)q[Y]=String.fromCharCode($[Y]);return q.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}function R(D,G){var V,z=(G=G||{}).body;if(D instanceof R){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,G.headers||(this.headers=new v(D.headers)),this.method=D.method,this.mode=D.mode,z||D._bodyInit==null||(z=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=G.credentials||this.credentials||"omit",!G.headers&&this.headers||(this.headers=new v(G.headers)),this.method=(D=G.method||this.method||"GET",V=D.toUpperCase(),-1<i.indexOf(V)?V:D),this.mode=G.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function M(D){var G=new FormData;return D.trim().split("&").forEach(function(V){var z;V&&(z=(V=V.split("=")).shift().replace(/\+/g," "),V=V.join("=").replace(/\+/g," "),G.append(decodeURIComponent(z),decodeURIComponent(V)))}),G}function N(D,G){G=G||{},this.type="default",this.status=G.status===void 0?200:G.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new v(G.headers),this.url=G.url||"",this._initBody(D)}l.fetch||(f="URLSearchParams"in l,s="Symbol"in l&&"iterator"in Symbol,c="FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),p="FormData"in l,(m="ArrayBuffer"in l)&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(D){return D&&DataView.prototype.isPrototypeOf(D)},a=ArrayBuffer.isView||function(D){return D&&-1<n.indexOf(Object.prototype.toString.call(D))}),v.prototype.append=function(D,G){D=d(D),G=h(G);var V=this.map[D];this.map[D]=V?V+","+G:G},v.prototype.delete=function(D){delete this.map[d(D)]},v.prototype.get=function(D){return D=d(D),this.has(D)?this.map[D]:null},v.prototype.has=function(D){return this.map.hasOwnProperty(d(D))},v.prototype.set=function(D,G){this.map[d(D)]=h(G)},v.prototype.forEach=function(D,G){for(var V in this.map)this.map.hasOwnProperty(V)&&D.call(G,this.map[V],V,this)},v.prototype.keys=function(){var D=[];return this.forEach(function(G,V){D.push(V)}),b(D)},v.prototype.values=function(){var D=[];return this.forEach(function(G){D.push(G)}),b(D)},v.prototype.entries=function(){var D=[];return this.forEach(function(G,V){D.push([V,G])}),b(D)},s&&(v.prototype[Symbol.iterator]=v.prototype.entries),i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],R.prototype.clone=function(){return new R(this,{body:this._bodyInit})},L.call(R.prototype),L.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},N.error=function(){var D=new N(null,{status:0,statusText:""});return D.type="error",D},u=[301,302,303,307,308],N.redirect=function(D,G){if(u.indexOf(G)===-1)throw new RangeError("Invalid status code");return new N(null,{status:G,headers:{location:D}})},l.Headers=v,l.Request=R,l.Response=N,l.fetch=function(D,G){return new Promise(function(V,z){var $=new R(D,G),q=new XMLHttpRequest;q.onload=function(){var Y,ee={status:q.status,statusText:q.statusText,headers:(ee=q.getAllResponseHeaders()||"",Y=new v,ee.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(P){var P=P.split(":"),B=P.shift().trim();B&&(P=P.join(":").trim(),Y.append(B,P))}),Y)},Z=(ee.url="responseURL"in q?q.responseURL:ee.headers.get("X-Request-URL"),"response"in q?q.response:q.responseText);V(new N(Z,ee))},q.onerror=function(){z(new TypeError("Network request failed"))},q.ontimeout=function(){z(new TypeError("Network request failed"))},q.open($.method,$.url,!0),$.credentials==="include"?q.withCredentials=!0:$.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&c&&(q.responseType="blob"),$.headers.forEach(function(Y,ee){q.setRequestHeader(ee,Y)}),q.send($._bodyInit===void 0?null:$._bodyInit)})},l.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,_,y){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l,f=c(t("../core/main")),s=c(t("../color/color_conversion"));function c(n){return n&&n.__esModule?n:{default:n}}var p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];f.default.prototype._rgbColorName=function(i){var r,a,i=s.default._rgbaToHSBA(i),u=[(l=i)[0],i[1],i[2]];u[0]!==0&&(u[0]=Math.round(100*u[0]),(i=u[0].toString().split(""))[a=i.length-1]=parseInt(i[a]),i[a]<2.5?i[a]=0:2.5<=i[a]&&i[a]<7.5&&(i[a]=5),i.length===2?(i[0]=parseInt(i[0]),7.5<=i[a]&&(i[a]=0,i[0]=i[0]+1),u[0]=10*i[0]+i[1]):7.5<=i[a]?u[0]=10:u[0]=i[a]),u[2]=u[2]/255;for(var d=u.length-1;1<=d;d--)u[d]<=.25?u[d]=0:.25<u[d]&&u[d]<.75?u[d]=.5:u[d]=1;if(u[0]===0&&u[1]===0&&u[2]===1){for(var h=2;0<=h;h--)l[h]=Math.round(1e4*l[h])/1e4;for(var b=0;b<p.length;b++){if(p[b].h===l[0]&&p[b].s===l[1]&&p[b].b===l[2]){r=p[b].name;break}r="white"}}else for(var v=0;v<m.length;v++)if(m[v].h===u[0]&&m[v].s===u[1]&&m[v].b===u[2]){r=m[v].name;break}return r},t=f.default,y.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,_,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t},f="_Description",s="_fallbackDesc",c="_fallbackTable",p="_Label",m="_labelDesc",n="_labelTable";function r(a){if(a==="label"||a==="fallback")throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}l.default.prototype.describe=function(a,i){var u;l.default._validateParameters("describe",arguments),typeof a=="string"&&(u=this.canvas.id,a=r(a),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),i===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},l.default.prototype.describeElement=function(a,i,u){var d,h;l.default._validateParameters("describeElement",arguments),typeof i=="string"&&typeof a=="string"&&(d=this.canvas.id,i=r(i),h=function(b){if(b==="label"||b==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")?b=b.replace(/.$/,":"):b.endsWith(":")||(b+=":"),b}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),h='<th scope="row">'.concat(h,"</th><td>").concat(i,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==h&&(this.descriptions.fallbackElements[a].innerHTML=h):this._describeElementHTML("fallback",a,h),u===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==h&&(this.descriptions.labelElements[a].innerHTML=h):this._describeElementHTML("label",a,h)))},l.default.prototype._describeHTML=function(a,i){var u,d=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(d+f))?this.dummyDOM.querySelector("#"+d+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(d+s,'"></p>')):(u='<div id="'.concat(d).concat(f,'" role="region" aria-label="Canvas Description"><p id="').concat(d).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutput")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(d)).innerHTML=u),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(d).concat(s)),this.descriptions.fallback.innerHTML=i):a==="label"&&(this.dummyDOM.querySelector("#".concat(d+p))?this.dummyDOM.querySelector("#".concat(d+n))&&this.dummyDOM.querySelector("#".concat(d+n)).insertAdjacentHTML("beforebegin",'<p id="'.concat(d).concat(m,'"></p>')):(u='<div id="'.concat(d).concat(p,'" class="p5Label"><p id="').concat(d).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",u)),this.descriptions.label=this.dummyDOM.querySelector("#"+d+m),this.descriptions.label.innerHTML=i)},l.default.prototype._describeElementHTML=function(a,i,u){var d,h=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(h+f))?this.dummyDOM.querySelector("#"+h+c)||this.dummyDOM.querySelector("#"+h+s).insertAdjacentHTML("afterend",'<table id="'.concat(h).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(d='<div id="'.concat(h).concat(f,'" role="region" aria-label="Canvas Description"><table id="').concat(h).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+h).innerHTML=d),(d=document.createElement("tr")).id=h+"_fte_"+i,this.dummyDOM.querySelector("#"+h+c).appendChild(d),this.descriptions.fallbackElements[i]=this.dummyDOM.querySelector("#".concat(h).concat("_fte_").concat(i)),this.descriptions.fallbackElements[i].innerHTML=u):a==="label"&&(this.dummyDOM.querySelector("#".concat(h+p))?this.dummyDOM.querySelector("#".concat(h+n))||this.dummyDOM.querySelector("#"+h+m).insertAdjacentHTML("afterend",'<table id="'.concat(h+n,'"></table>')):(d='<div id="'.concat(h).concat(p,'" class="p5Label"><table id="').concat(h).concat(n,'"></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",d)),(a=document.createElement("tr")).id=h+"_lte_"+i,this.dummyDOM.querySelector("#"+h+n).appendChild(a),this.descriptions.labelElements[i]=this.dummyDOM.querySelector("#".concat(h).concat("_lte_").concat(i)),this.descriptions.labelElements[i].innerHTML=u)},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,_,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(l){var f,s,c,p;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(f=this._accessibleOutputs[l],c=function(m,n,r,a){return n="".concat(n," canvas, ").concat(r," by ").concat(a," pixels, contains ").concat(m[0]),n=(m[0]===1?"".concat(n," shape: "):"".concat(n," shapes: ")).concat(m[1]),n}((s=function(m,n){var r,a="",i="",u=0;for(r in n){var d,h=0;for(d in n[r]){var b='<li id="'.concat(m,"shape").concat(u,'">').concat(n[r][d].color," ").concat(r,",");r==="line"?b+=" location = ".concat(n[r][d].pos,", length = ").concat(n[r][d].length," pixels"):(b+=" location = ".concat(n[r][d].pos),r!=="point"&&(b+=", area = ".concat(n[r][d].area," %")),b+="</li>"),a+=b,h++,u++}i=1<h?"".concat(i," ").concat(h," ").concat(r,"s"):"".concat(i," ").concat(h," ").concat(r)}return{numShapes:[u,i],details:a}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(m,n){var r,a,i=0,u="",d=Array.from(Array(10),function(){return Array(10)});for(r in n)for(var h in n[r]){var b=void 0;b=r!=="line"?'<a href="#'.concat(m,"shape").concat(i,'">').concat(n[r][h].color," ").concat(r,"</a>"):'<a href="#'.concat(m,"shape").concat(i,'">').concat(n[r][h].color," ").concat(r," midpoint</a>"),n[r][h].loc.locY<d.length&&n[r][h].loc.locX<d[n[r][h].loc.locY].length&&(d[n[r][h].loc.locY][n[r][h].loc.locX]?d[n[r][h].loc.locY][n[r][h].loc.locX]=d[n[r][h].loc.locY][n[r][h].loc.locX]+"  "+b:d[n[r][h].loc.locY][n[r][h].loc.locX]=b,i++)}for(a in d){var v,w="<tr>";for(v in d[a])w+="<td>",d[a][v]!==void 0&&(w+=d[a][v]),w+="</td>";u=u+w+"</tr>"}return u}(l,this.ingredients.shapes),c!==f.summary.innerHTML&&(f.summary.innerHTML=c),p!==f.map.innerHTML&&(f.map.innerHTML=p),s.details!==f.shapeDetails.innerHTML&&(f.shapeDetails.innerHTML=s.details),this._accessibleOutputs[l]=f)},t=t.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c){return function(p){if(Array.isArray(p)){for(var m=0,n=new Array(p.length);m<p.length;m++)n[m]=p[m];return n}}(c)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,p,m){return p=Math.floor(c[0]/p*10),c=Math.floor(c[1]/m*10),p===10&&(p-=1),c===10&&(c-=1),{locX:p,locY:c}}l.default.prototype.textOutput=function(c){l.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},l.default.prototype.gridOutput=function(c){l.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},l.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},l.default.prototype._createOutput=function(c,p){var m,n,r,a=this.canvas.id,i=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");p==="Fallback"?(m=a+c,this.dummyDOM.querySelector("#".concat(n=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):p==="Label"&&(m=a+c+(i=p),this.dummyDOM.querySelector("#".concat(n=a+"accessibleOutput"+p))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[m]={},c==="textOutput"?(i="#".concat(a,"gridOutput").concat(i),r='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(n)).innerHTML=r,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):c==="gridOutput"&&(i="#".concat(a,"textOutput").concat(i),r='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(i)?this.dummyDOM.querySelector(i).insertAdjacentHTML("afterend",r):this.dummyDOM.querySelector("#".concat(n)).innerHTML=r,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},l.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},l.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},l.default.prototype._accsCanvasColors=function(c,p){c==="fill"?this.ingredients.colors.fillRGBA!==p&&(this.ingredients.colors.fillRGBA=p,this.ingredients.colors.fill=this._rgbColorName(p)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==p&&(this.ingredients.colors.strokeRGBA=p,this.ingredients.colors.stroke=this._rgbColorName(p))},l.default.prototype._accsOutput=function(c,p){c==="ellipse"&&p[2]===p[3]?c="circle":c==="rectangle"&&p[2]===p[3]&&(c="square");var m,n,r={},a=!0,i=function(d,h){var b;return d=d==="rectangle"||d==="ellipse"||d==="arc"||d==="circle"||d==="square"?(b=Math.round(h[0]+h[2]/2),Math.round(h[1]+h[3]/2)):d==="triangle"?(b=(h[0]+h[2]+h[4])/3,(h[1]+h[3]+h[5])/3):d==="quadrilateral"?(b=(h[0]+h[2]+h[4]+h[6])/4,(h[1]+h[3]+h[5]+h[7])/4):d==="line"?(b=(h[0]+h[2])/2,(h[1]+h[3])/2):(b=h[0],h[1]),[b,d]}(c,p);if(c==="line"?(r.color=this.ingredients.colors.stroke,r.length=Math.round(this.dist(p[0],p[1],p[2],p[3])),m=this._getPos(p[0],[1]),n=this._getPos(p[2],[3]),r.loc=s(i,this.width,this.height),r.pos=m===n?"at ".concat(m):"from ".concat(m," to ").concat(n)):(c==="point"?r.color=this.ingredients.colors.stroke:(r.color=this.ingredients.colors.fill,r.area=this._getArea(c,p)),r.pos=this._getPos.apply(this,f(i)),r.loc=s(i,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[r]){for(var u in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][u])===JSON.stringify(r)&&(a=!1);a===!0&&this.ingredients.shapes[c].push(r)}}else this.ingredients.shapes[c]=[r]},l.default.prototype._getPos=function(n,m){var n=new DOMPointReadOnly(n,m),m=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),n=n.matrixTransform(m),m=n.x,n=n.y,r=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return m<.4*r?n<.4*a?"top left":.6*a<n?"bottom left":"mid left":.6*r<m?n<.4*a?"top right":.6*a<n?"bottom right":"mid right":n<.4*a?"top middle":.6*a<n?"bottom middle":"middle"},l.default.prototype._getArea=function(c,p){var m,n,r=0,a=(c==="arc"?(r=(m=((p[5]-p[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*p[2]*p[3]/8,p[6]!=="open"&&p[6]!=="chord"||(n=p[0],h=p[1],a=p[0]+p[2]/2*Math.cos(p[4]).toFixed(2),b=p[1]+p[3]/2*Math.sin(p[4]).toFixed(2),u=p[0]+p[2]/2*Math.cos(p[5]).toFixed(2),i=p[1]+p[3]/2*Math.sin(p[5]).toFixed(2),n=Math.abs(n*(b-i)+a*(i-h)+u*(h-b))/2,m>Math.PI?r+=n:r-=n)):c==="ellipse"||c==="circle"?r=3.14*p[2]/2*p[3]/2:c==="line"||c==="point"?r=0:c==="quadrilateral"?r=Math.abs((p[6]+p[0])*(p[7]-p[1])+(p[0]+p[2])*(p[1]-p[3])+(p[2]+p[4])*(p[3]-p[5])+(p[4]+p[6])*(p[5]-p[7]))/2:c==="rectangle"||c==="square"?r=p[2]*p[3]:c==="triangle"&&(r=Math.abs(p[0]*(p[3]-p[5])+p[2]*(p[5]-p[1])+p[4]*(p[1]-p[3]))/2),this.width*this._pixelDensity),i=this.height*this._pixelDensity,u=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,i),new DOMPoint(0,i)],d=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),h=u.map(function(v){return v.matrixTransform(d)}),b=Math.abs((h[3].x+h[0].x)*(h[3].y-h[0].y)+(h[0].x+h[1].x)*(h[0].y-h[1].y)+(h[1].x+h[2].x)*(h[1].y-h[2].y)+(h[2].x+h[3].x)*(h[2].y-h[3].y))/2;return Math.round(100*r/b)},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,_,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(l){var f,s,c,p;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(f=this._accessibleOutputs[l],c=function(m,n,r,a){return r="Your output is a, ".concat(r," by ").concat(a," pixels, ").concat(n," canvas containing the following"),r=m===1?"".concat(r," shape:"):"".concat(r," ").concat(m," shapes:"),r}((s=function(m,n){var r,a="",i=0;for(r in n)for(var u in n[r]){var d='<li><a href="#'.concat(m,"shape").concat(i,'">').concat(n[r][u].color," ").concat(r,"</a>");r==="line"?d+=", ".concat(n[r][u].pos,", ").concat(n[r][u].length," pixels long.</li>"):(d+=", at ".concat(n[r][u].pos),r!=="point"&&(d+=", covering ".concat(n[r][u].area,"% of the canvas")),d+=".</li>"),a+=d,i++}return{numShapes:i,listShapes:a}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(m,n){var r,a="",i=0;for(r in n)for(var u in n[r]){var d='<tr id="'.concat(m,"shape").concat(i,'"><th>').concat(n[r][u].color," ").concat(r,"</th>");r==="line"?d+="<td>location = ".concat(n[r][u].pos,"</td><td>length = ").concat(n[r][u].length," pixels</td></tr>"):(d+="<td>location = ".concat(n[r][u].pos,"</td>"),r!=="point"&&(d+="<td> area = ".concat(n[r][u].area,"%</td>")),d+="</tr>"),a+=d,i++}return a}(l,this.ingredients.shapes),c!==f.summary.innerHTML&&(f.summary.innerHTML=c),s.listShapes!==f.list.innerHTML&&(f.list.innerHTML=s.listShapes),p!==f.shapeDetails.innerHTML&&(f.shapeDetails.innerHTML=p),this._accessibleOutputs[l]=f)},t=t.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,_,y){var l=(l=t("./core/main"))&&l.__esModule?l:{default:l};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),_.exports=l.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(l){var f=l[0],s=l[1],c=l[2],p=(2-s)*c/2;return p!=0&&(p==1?s=0:p<.5?s/=2-s:s=s*c/(2-2*p)),[f,s,p,l[3]]},_hsbaToRGBA:function(l){var f,s,c,p,m,n=6*l[0],r=l[1],a=l[2];return r===0?[a,a,a,l[3]]:(s=a*(1-r),c=a*(1-r*(n-(f=Math.floor(n)))),r=a*(1-r*(1+f-n)),n=f===1?(p=c,m=a,s):f===2?(p=s,m=a,r):f===3?(p=s,m=c,a):f===4?(p=r,m=s,a):f===5?(p=a,m=s,c):(p=a,m=r,s),[p,m,n,l[3]])},_hslaToHSBA:function(l){var f=l[0],s=l[1],c=l[2],p=c<.5?(1+s)*c:c+s-c*s;return[f,s=2*(p-c)/p,p,l[3]]},_hslaToRGBA:function(l){var f,s=6*l[0],c=l[1],p=l[2];return c===0?[p,p,p,l[3]]:[(f=function(m,n,r){return m<0?m+=6:6<=m&&(m-=6),m<1?n+(r-n)*m:m<3?r:m<4?n+(r-n)*(4-m):n})(2+s,c=2*p-(p=p<.5?(1+c)*p:p+c-p*c),p),f(s,c,p),f(s-2,c,p),l[3]]},_rgbaToHSBA:function(l){var f,s,c=l[0],p=l[1],m=l[2],n=Math.max(c,p,m),r=n-Math.min(c,p,m);return r==0?s=f=0:(s=r/n,c===n?f=(p-m)/r:p===n?f=2+(m-c)/r:m===n&&(f=4+(c-p)/r),f<0?f+=6:6<=f&&(f-=6)),[f/6,s,n,l[3]]},_rgbaToHSLA:function(l){var f,s,c=l[0],p=l[1],m=l[2],n=Math.max(c,p,m),a=Math.min(c,p,m),r=n+a,a=n-a;return a==0?s=f=0:(s=r<1?a/r:a/(2-r),c===n?f=(p-m)/a:p===n?f=2+(m-c)/a:m===n&&(f=4+(c-p)/a),f<0?f+=6:6<=f&&(f-=6)),[f/6,s,r/2,l[3]]}},t=t.default.ColorConversion,y.default=t},{"../core/main":283}],269:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},c=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../core/constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(n){return s.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},s.default.prototype.blue=function(n){return s.default._validateParameters("blue",arguments),this.color(n)._getBlue()},s.default.prototype.brightness=function(n){return s.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},s.default.prototype.color=function(){for(var n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return s.default._validateParameters("color",a),a[0]instanceof s.default.Color?a[0]:(n=Array.isArray(a[0])?a[0]:a,new s.default.Color(this,n))},s.default.prototype.green=function(n){return s.default._validateParameters("green",arguments),this.color(n)._getGreen()},s.default.prototype.hue=function(n){return s.default._validateParameters("hue",arguments),this.color(n)._getHue()},s.default.prototype.lerpColor=function(n,r,a){s.default._validateParameters("lerpColor",arguments),n instanceof s.default.Color||(n=color(n)),r instanceof s.default.Color||(r=color(r));var i,u,d,h=this._colorMode,b=this._colorMaxes;if(h===c.RGB)u=n.levels.map(function(v){return v/255}),d=r.levels.map(function(v){return v/255});else if(h===c.HSB)n._getBrightness(),r._getBrightness(),u=n.hsba,d=r.hsba;else{if(h!==c.HSL)throw new Error("".concat(h," cannot be used for interpolation."));n._getLightness(),r._getLightness(),u=n.hsla,d=r.hsla}return a=Math.max(Math.min(a,1),0),this.lerp===void 0&&(this.lerp=function(v,w,E){return E*(w-v)+v}),h===c.RGB?i=this.lerp(u[0],d[0],a):(.5<Math.abs(u[0]-d[0])&&(u[0]>d[0]?d[0]+=1:u[0]+=1),1<=(i=this.lerp(u[0],d[0],a))&&--i),n=this.lerp(u[1],d[1],a),r=this.lerp(u[2],d[2],a),u=this.lerp(u[3],d[3],a),i*=b[h][0],n*=b[h][1],r*=b[h][2],u*=b[h][3],this.color(i,n,r,u)},s.default.prototype.paletteLerp=function(n,r){var a=n[0];if(r<a[1])return this.color(a[0]);for(var i=1;i<n.length;i++){var u,d=n[i];if(r<d[1])return u=n[i-1],this.lerpColor(this.color(u[0]),this.color(d[0]),(r-u[1])/(d[1]-u[1]))}return this.color(n[n.length-1][0])},s.default.prototype.lightness=function(n){return s.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},s.default.prototype.red=function(n){return s.default._validateParameters("red",arguments),this.color(n)._getRed()},s.default.prototype.saturation=function(n){return s.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var m=s.default;y.default=m},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(i,_,y){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function f(v){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(v)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=n(i("../core/main")),c=function(v){if(v&&v.__esModule)return v;if(v===null||f(v)!=="object"&&typeof v!="function")return{default:v};var w=m();if(w&&w.has(v))return w.get(v);var E,k={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in v){var L;Object.prototype.hasOwnProperty.call(v,E)&&((L=T?Object.getOwnPropertyDescriptor(v,E):null)&&(L.get||L.set)?Object.defineProperty(k,E,L):k[E]=v[E])}return k.default=v,w&&w.set(v,k),k}(i("../core/constants")),p=n(i("./color_conversion"));function m(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,m=function(){return v},v)}function n(v){return v&&v.__esModule?v:{default:v}}function r(v,w){for(var E=0;E<w.length;E++){var k=w[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=/\s*/,b=/(\d{1,3})/,u=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(u.source,"%")),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",b.source,",",b.source,",",b.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",b.source,",",b.source,",",b.source,",",u.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",u.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",b.source,",",d.source,",",d.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",b.source,",",d.source,",",d.source,",",u.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",b.source,",",d.source,",",d.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",b.source,",",d.source,",",d.source,",",u.source,"\\)$"].join(i.source),"i")},b=(s.default.Color=function(){function v(T,L){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(T._colorMode,T._colorMaxes),![c.RGB,c.HSL,c.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=v._parseInputs.apply(this,L),this._calculateLevels()}var w,E,k;return w=v,k=[{key:"_parseInputs",value:function(T,L,R,M){var N,D=arguments.length,G=this.mode,V=this.maxes[G],z=[];if(3<=D){for(z[0]=T/V[0],z[1]=L/V[1],z[2]=R/V[2],z[3]=typeof M=="number"?M/V[3]:1,N=z.length-1;0<=N;--N){var $=z[N];$<0?z[N]=0:1<$&&(z[N]=1)}return G===c.HSL?p.default._hslaToRGBA(z):G===c.HSB?p.default._hsbaToRGBA(z):z}if(D===1&&typeof T=="string"){if(R=T.trim().toLowerCase(),a[R])return v._parseInputs.call(this,a[R]);if(h.HEX3.test(R))return(z=h.HEX3.exec(R).slice(1).map(function(q){return parseInt(q+q,16)/255}))[3]=1,z;if(h.HEX6.test(R))return(z=h.HEX6.exec(R).slice(1).map(function(q){return parseInt(q,16)/255}))[3]=1,z;if(h.HEX4.test(R))return z=h.HEX4.exec(R).slice(1).map(function(q){return parseInt(q+q,16)/255});if(h.HEX8.test(R))return z=h.HEX8.exec(R).slice(1).map(function(q){return parseInt(q,16)/255});if(h.RGB.test(R))return(z=h.RGB.exec(R).slice(1).map(function(q){return q/255}))[3]=1,z;if(h.RGB_PERCENT.test(R))return(z=h.RGB_PERCENT.exec(R).slice(1).map(function(q){return parseFloat(q)/100}))[3]=1,z;if(h.RGBA.test(R))return z=h.RGBA.exec(R).slice(1).map(function(q,Y){return Y===3?parseFloat(q):q/255});if(h.RGBA_PERCENT.test(R))return z=h.RGBA_PERCENT.exec(R).slice(1).map(function(q,Y){return Y===3?parseFloat(q):parseFloat(q)/100});if(h.HSL.test(R)?(z=h.HSL.exec(R).slice(1).map(function(q,Y){return Y===0?parseInt(q,10)/360:parseInt(q,10)/100}))[3]=1:h.HSLA.test(R)&&(z=h.HSLA.exec(R).slice(1).map(function(q,Y){return Y===0?parseInt(q,10)/360:Y===3?parseFloat(q):parseInt(q,10)/100})),(z=z.map(function(q){return Math.max(Math.min(q,1),0)})).length)return p.default._hslaToRGBA(z);if(h.HSB.test(R)?(z=h.HSB.exec(R).slice(1).map(function(q,Y){return Y===0?parseInt(q,10)/360:parseInt(q,10)/100}))[3]=1:h.HSBA.test(R)&&(z=h.HSBA.exec(R).slice(1).map(function(q,Y){return Y===0?parseInt(q,10)/360:Y===3?parseFloat(q):parseInt(q,10)/100})),z.length){for(N=z.length-1;0<=N;--N)z[N]=Math.max(Math.min(z[N],1),0);return p.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(D!==1&&D!==2||typeof T!="number")throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=T/V[2],z[1]=T/V[2],z[2]=T/V[2],z[3]=typeof L=="number"?L/V[3]:1,z=z.map(function(q){return Math.max(Math.min(q,1),0)})}return z}}],(E=[{key:"toString",value:function(T){var L=this.levels,R=this._array,M=R[3];switch(T){case"#rrggbb":return"#".concat(L[0]<16?"0".concat(L[0].toString(16)):L[0].toString(16),L[1]<16?"0".concat(L[1].toString(16)):L[1].toString(16),L[2]<16?"0".concat(L[2].toString(16)):L[2].toString(16));case"#rrggbbaa":return"#".concat(L[0]<16?"0".concat(L[0].toString(16)):L[0].toString(16),L[1]<16?"0".concat(L[1].toString(16)):L[1].toString(16),L[2]<16?"0".concat(L[2].toString(16)):L[2].toString(16),L[3]<16?"0".concat(L[3].toString(16)):L[3].toString(16));case"#rgb":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*R[0]).toString(16),Math.round(15*R[1]).toString(16),Math.round(15*R[2]).toString(16),Math.round(15*R[3]).toString(16));case"rgb":return"rgb(".concat(L[0],", ",L[1],", ",L[2],")");case"rgb%":return"rgb(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*R[0]).toPrecision(3),"%, ",(100*R[1]).toPrecision(3),"%, ",(100*R[2]).toPrecision(3),"%, ",(100*R[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",M,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",M,")");case"hsla%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");default:return"rgba(".concat(L[0],",",L[1],",",L[2],",",M,")")}}},{key:"setRed",value:function(T){this._array[0]=T/this.maxes[c.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(T){this._array[1]=T/this.maxes[c.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(T){this._array[2]=T/this.maxes[c.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(T){this._array[3]=T/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var T=this._array,L=this.levels=new Array(T.length),R=T.length-1;0<=R;--R)L[R]=Math.round(255*T[R]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(T,L){this.mode=T,this.maxes=L}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[c.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[c.RGB][1]}},{key:"_getHue",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[c.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])}}])&&r(w.prototype,E),k&&r(w,k),v}(),s.default.Color);y.default=b},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},c=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../core/constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}t("./p5.Color"),s.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},s.default.prototype.endClip=function(){this._renderer.endClip()},s.default.prototype.clip=function(n,r){this._renderer.beginClip(r),n(),this._renderer.endClip(r)},s.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(n,r,a,i,u){return s.default._validateParameters("colorMode",arguments),n!==c.RGB&&n!==c.HSB&&n!==c.HSL||(this._colorMode=n,n=this._colorMaxes[n],arguments.length===2?(n[0]=r,n[1]=r,n[2]=r,n[3]=r):arguments.length===4?(n[0]=r,n[1]=a,n[2]=i):arguments.length===5&&(n[0]=r,n[1]=a,n[2]=i,n[3]=u)),this},s.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=s.default;y.default=m},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL2=y.WEBGL=y.P2D=y.VERSION=void 0,y.RGBA=y.HALF_FLOAT=y.FLOAT=y.UNSIGNED_INT=y.UNSIGNED_BYTE=y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.SMOOTH=y.FLAT=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=y.BEZIER=void 0;var l=Math.PI,f=(y.VERSION="1.11.3",y.P2D="p2d",y.WEBGL="webgl",y.WEBGL2="webgl2",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",l/2),f=(y.HALF_PI=f,l),f=(y.PI=f,l/4),f=(y.QUARTER_PI=f,2*l),f=(y.TAU=f,2*l),f=(y.TWO_PI=f,y.DEGREES="degrees",y.RADIANS="radians",l/180),f=(y.DEG_TO_RAD=f,180/l);y.RAD_TO_DEG=f,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.FLAT="flat",y.SMOOTH="smooth",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover",y.UNSIGNED_BYTE="unsigned-byte",y.UNSIGNED_INT="unsigned-int",y.FLOAT="float",y.HALF_FLOAT="half-float",y.RGBA="rgba"},{}],273:[function(t,_,y){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function f(u){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(d){return l(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":l(d)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(c=t("./main"))&&c.__esModule?c:{default:c},c=function(u){if(u&&u.__esModule)return u;if(u===null||f(u)!=="object"&&typeof u!="function")return{default:u};var d=p();if(d&&d.has(u))return d.get(u);var h,b={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var w;Object.prototype.hasOwnProperty.call(u,h)&&((w=v?Object.getOwnPropertyDescriptor(u,h):null)&&(w.get||w.set)?Object.defineProperty(b,h,w):b[h]=u[h])}return b.default=u,d&&d.set(u,b),b}(t("./constants"));function p(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,p=function(){return u},u)}var m=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],n=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print),r=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):r||(n(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(r=!0))},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(u,d,h){var b,v="auto",w=this._curElement.elt;m.includes(u)?v=u:typeof u=="string"&&(b="",d&&h&&typeof d=="number"&&typeof h=="number"&&(b="".concat(d," ").concat(h)),v=u.substring(0,7)==="http://"||u.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(b,", auto"):u),w.style.cursor=v},s.default.prototype.frameRate=function(u){return s.default._validateParameters("frameRate",arguments),typeof u!="number"||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),u===0&&this._setProperty("_frameRate",u),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(u){return this.frameRate(u)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.webglVersion=c.P2D,s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=0,s.default.prototype.windowHeight=0,s.default.prototype._onresize=function(u){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",i());var d=this._isGlobal?window:this;typeof d.windowResized!="function"||(d=d.windowResized(u))===void 0||d||u.preventDefault()},s.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",i())},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(u){if(s.default._validateParameters("fullscreen",arguments),u===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(u){var d;return s.default._validateParameters("pixelDensity",arguments),typeof u=="number"?(u!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=u),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return u!==""})},s.default.prototype.getURLParams=function(){for(var u,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,h={};(u=d.exec(location.search))!=null;)u.index===d.lastIndex&&d.lastIndex++,h[u[1]]=u[2];return h},t=s.default,y.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function f(n,r){r=r||console.log.bind(console),s||p(),s.some(function(a){var i;if(n.message&&n.message.match("\\W?".concat(a.name,"\\W"))!==null)return i=a.type==="function"?"".concat(a.name,"()"):a.name,r("Did you just try to use p5.js's ".concat(i," ").concat(a.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var s=null,p=null,c=(l.default._friendlyError=l.default._checkForUserDefinedFunctions=l.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=function(){function n(a){return Object.getOwnPropertyNames(a).filter(function(i){return i[0]!=="_"&&!(i in r)&&(r[i]=!0)}).map(function(i){var u=typeof a[i]=="function"?"function":i===i.toUpperCase()?"constant":"variable";return{name:i,type:u}})}var r={};(s=[].concat(n(l.default.prototype),n(t("../constants")))).sort(function(a,i){return i.name.length-a.name.length})},m=(l.default.prototype._helpForMisusedAtTopLevelCode=f,document.readyState!=="complete"&&(window.addEventListener("error",f,!1),window.addEventListener("load",function(){window.removeEventListener("error",f,!1)})),l.default);y.default=m},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(l=t("../main"))&&l.__esModule?l:{default:l};t("../internationalization"),l.default._friendlyFileLoadError=function(){},t=l.default,y.default=t},{"../internationalization":281,"../main":283}],276:[function(t,_,y){function l(r){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function f(r){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=m(t("../main"));t("../internationalization"),p(t("../constants"));function c(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,c=function(){return r},r)}function p(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var a=c();if(a&&a.has(r))return a.get(r);var i,u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&((u=h?Object.getOwnPropertyDescriptor(r,i):null)&&(u.get||u.set)?Object.defineProperty(d,i,u):d[i]=r[i]);return d.default=r,a&&a.set(r,d),d}function m(r){return r&&r.__esModule?r:{default:r}}s.default._fesCodeReader=function(){};var n=s.default;y.default=n},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,_,y){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function l(){var f=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(p){return p.stacktrace!==void 0||p["opera#sourceloc"]!==void 0?this.parseOpera(p):p.stack&&p.stack.match(s)?this.parseV8OrIE(p):p.stack?this.parseFFOrSafari(p):void 0},extractLocation:function(p){return p.indexOf(":")===-1?[p]:[(p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(p.replace(/[()]/g,"")))[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(p){return p.stack.split(`
`).filter(function(m){return!!m.match(s)},this).map(function(m){var n=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),r=this.extractLocation(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(r[0])?void 0:r[0],lineNumber:r[1],columnNumber:r[2],source:m}},this)},parseFFOrSafari:function(p){return p.stack.split(`
`).filter(function(m){return!m.match(c)},this).map(function(m){var n,r;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(r=m.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(m.replace(n,"")))[0],lineNumber:r[1],columnNumber:r[2],source:m}},this)},parseOpera:function(p){return!p.stacktrace||-1<p.message.indexOf(`
`)&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,n=p.message.split(`
`),r=[],a=2,i=n.length;a<i;a+=2){var u=m.exec(n[a]);u&&r.push({fileName:u[2],lineNumber:u[1],source:n[a]})}return r},parseOpera10:function(p){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=p.stacktrace.split(`
`),r=[],a=0,i=n.length;a<i;a+=2){var u=m.exec(n[a]);u&&r.push({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:n[a]})}return r},parseOpera11:function(p){return p.stack.split(`
`).filter(function(m){return!!m.match(f)&&!m.match(/^Error created at/)},this).map(function(m){var n,a=m.split("@"),r=this.extractLocation(a.pop()),a=a.shift()||"";return{functionName:a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(n=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):n)===void 0||n==="[arguments not available]"?void 0:n.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new l},t=t.default,y.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,_,y){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=(f=t("../main"))&&f.__esModule?f:{default:f};(function(p){if(!(p&&p.__esModule)&&!(p===null||c(p)!=="object"&&typeof p!="function")){var m=s();if(m&&m.has(p))return m.get(p);var n,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in p){var i;Object.prototype.hasOwnProperty.call(p,n)&&((i=a?Object.getOwnPropertyDescriptor(p,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=p[n])}r.default=p,m&&m.set(p,r)}})(t("../constants")),t("../internationalization");function s(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,s=function(){return p},p)}function c(p){return(c=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(m){return l(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":l(m)})(p)}f.default._validateParameters=f.default._clearValidateParamsCache=function(){},t=f.default,y.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,_,y){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function f(p){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(m){return l(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":l(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=function(p){if(p&&p.__esModule)return p;if(p===null||f(p)!=="object"&&typeof p!="function")return{default:p};var m=c();if(m&&m.has(p))return m.get(p);var n,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in p){var i;Object.prototype.hasOwnProperty.call(p,n)&&((i=a?Object.getOwnPropertyDescriptor(p,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=p[n])}return r.default=p,m&&m.set(p,r),r}(t("./constants"));function c(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,c=function(){return p},p)}y.default={modeAdjust:function(p,m,n,r,a){var i;return a===s.CORNER?i={x:p,y:m,w:Math.abs(n),h:Math.abs(r)}:a===s.CORNERS?i={x:Math.min(p,n),y:Math.min(m,r),w:Math.abs(n-p),h:Math.abs(r-m)}:a===s.RADIUS?i={x:p-(n=Math.abs(n)),y:m-(r=Math.abs(r)),w:2*n,h:2*r}:a===s.CENTER&&(i={x:p-.5*(n=Math.abs(n)),y:m-.5*(r=Math.abs(r)),w:n,h:r}),i}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,_,y){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var l=(f=t("../core/main"))&&f.__esModule?f:{default:f};t("./internationalization");var f=Promise.resolve();Promise.all([new Promise(function(s,c){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),f]).then(function(){var s;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(s=new Event("p5Ready"),window.dispatchEvent(s),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!l.default.instance&&new l.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,_,y){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var l,f,s=p(t("i18next")),c=p(t("i18next-browser-languagedetector"));function p(r){return r&&r.__esModule?r:{default:r}}function m(r,a){for(var i=0;i<a.length;i++){var u=a[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}var n=function(){function r(u,d){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init(u,d)}var a,i;return a=r,(i=[{key:"fetchWithTimeout",value:function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(u,d),new Promise(function(b,v){return setTimeout(function(){return v(new Error("timeout"))},h)})])}},{key:"init",value:function(u){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=u,this.options=d}},{key:"read",value:function(u,d,h){var b=this.options.loadPath;u===this.options.fallback?h(null,l[u][d]):f.includes(u)?(b=this.services.interpolator.interpolate(b,{lng:u,ns:d}),this.loadUrl(b,h)):h("Not found",!1)}},{key:"loadUrl",value:function(u,d){this.fetchWithTimeout(u).then(function(h){if(h.ok)return h.json();throw new Error("failed loading ".concat(u))},function(){throw new Error("failed loading ".concat(u))}).then(function(h){return d(null,h)}).catch(d)}}])&&m(a.prototype,i),r}();n.type="backend",y.translator=function(r,a){console.debug("p5.js translator called before translations were loaded"),s.default.t(r,a)},y.initialize=function(){return s.default.use(c.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:l}).then(function(r){y.translator=r},function(r){return console.debug("Translations failed to load (".concat(r,")"))})},y.availableTranslatorLanguages=function(){return s.default.languages},y.currentTranslatorLanguage=function(r){return s.default.language},y.setTranslatorLanguage=function(r){return s.default.changeLanguage(r||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,y.default=t},{"./main":283}],283:[function(t,_,y){function l(r){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function f(r){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("./shim");var s=function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var a=c();if(a&&a.has(r))return a.get(r);var i,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var h;Object.prototype.hasOwnProperty.call(r,i)&&((h=d?Object.getOwnPropertyDescriptor(r,i):null)&&(h.get||h.set)?Object.defineProperty(u,i,h):u[i]=r[i])}return u.default=r,a&&a.set(r,u),u}(t("./constants"));function c(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,c=function(){return r},r)}function p(r,a){for(var i=0;i<a.length;i++){var u=a[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}var m,n=function(){function r(u,b){var h=this;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var b=Object.getOwnPropertyNames(r.prototype._registeredMethods),v=!0,w=!1,E=void 0;try{for(var k,T=b[Symbol.iterator]();!(v=(k=T.next()).done);v=!0){var L=k.value;this._registeredMethods[L]=r.prototype._registeredMethods[L].slice()}}catch(q){w=!0,E=q}finally{try{v||T.return==null||T.return()}finally{if(w)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),r.prototype.callRegisteredHooksFor=function(q){var Y=this||r.prototype,ee=this._isGlobal?window:this;if(Y._registeredMethods.hasOwnProperty(q)){var Y=Y._registeredMethods[q],Z=!0,q=!1,se=void 0;try{for(var P,B=Y[Symbol.iterator]();!(Z=(P=B.next()).done);Z=!0){var W=P.value;typeof W=="function"&&W.call(ee)}}catch(oe){q=!0,se=oe}finally{try{Z||B.return==null||B.return()}finally{if(q)throw se}}}},this._start=function(){h._userNode&&typeof h._userNode=="string"&&(h._userNode=document.getElementById(h._userNode));var q=h._isGlobal?window:h;if(q.preload){h.callRegisteredHooksFor("beforePreload");var Y,ee=document.getElementById(h._loadingScreenId),Z=(ee||((ee=document.createElement("div")).innerHTML="Loading...",ee.style.position="absolute",ee.id=h._loadingScreenId,(h._userNode||document.body).appendChild(ee)),h._preloadMethods);for(Y in Z){Z[Y]=Z[Y]||r;var se=Z[Y];se!==r.prototype&&se!==r||(h._isGlobal&&(window[Y]=h._wrapPreload(h,Y)),se=h),h._registeredPreloadMethods[Y]=se[Y],se[Y]=h._wrapPreload(se,Y)}q.preload(),h._runIfPreloadsAreDone()}else h._setup(),h._recording||h._draw()},this._runIfPreloadsAreDone=function(){var q,Y=this._isGlobal?window:this;Y._preloadCount===0&&((q=document.getElementById(Y._loadingScreenId))&&q.parentNode.removeChild(q),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||typeof q.preload!="function"||(q._setProperty("_preloadCount",q._preloadCount-1),q._runIfPreloadsAreDone())},this._wrapPreload=function(q,Y){var ee=this;return function(){ee._incrementPreload();for(var Z=arguments.length,se=new Array(Z),P=0;P<Z;P++)se[P]=arguments[P];return ee._registeredPreloadMethods[Y].apply(q,se)}},this._incrementPreload=function(){var q=this._isGlobal?window:this;q._preloadDone||q._setProperty("_preloadCount",q._preloadCount+1)},this._setup=function(){h.callRegisteredHooksFor("beforeSetup"),h.createCanvas(h._defaultCanvasSize.width,h._defaultCanvasSize.height,"p2d");var q=h._isGlobal?window:h;if(typeof q.preload=="function")for(var Y in h._preloadMethods)q[Y]=h._preloadMethods[Y][Y],q[Y]&&h&&(q[Y]=q[Y].bind(h));h._millisStart=window.performance.now(),q._preloadDone=!0,typeof q.setup=="function"&&q.setup();var ee=document.getElementsByTagName("canvas"),Z=!0,se=!1,P=void 0;try{for(var B,W=ee[Symbol.iterator]();!(Z=(B=W.next()).done);Z=!0){var K=B.value;K.dataset.hidden==="true"&&(K.style.visibility="",delete K.dataset.hidden)}}catch(ne){se=!0,P=ne}finally{try{Z||W.return==null||W.return()}finally{if(se)throw P}}h._lastTargetFrameTime=window.performance.now(),h._lastRealFrameTime=window.performance.now(),h._setupDone=!0,(h._accessibleOutputs.grid||h._accessibleOutputs.text)&&h._updateAccsOutput(),h.callRegisteredHooksFor("afterSetup")},this._draw=function(Y){var Y=Y||window.performance.now(),ee=Y-h._lastTargetFrameTime,Z=1e3/h._targetFrameRate;(!h._loop||Z-5<=ee)&&(h.deltaTime=Y-h._lastRealFrameTime,h._setProperty("deltaTime",h.deltaTime),h._frameRate=1e3/h.deltaTime,h.redraw(),h._lastTargetFrameTime=Math.max(h._lastTargetFrameTime+Z,Y),h._lastRealFrameTime=Y,h._updateMouseCoords!==void 0&&(h._updateMouseCoords(),h._setProperty("movedX",0),h._setProperty("movedY",0))),h._loop&&(h._requestAnimId=window.requestAnimationFrame(h._draw))},this._setProperty=function(q,Y){h[q]=Y,h._isGlobal&&(window[q]=Y)},this.remove=function(){h._startListener&&window.removeEventListener("load",h._startListener,!1);var q=document.getElementById(h._loadingScreenId);if(q&&(q.parentNode.removeChild(q),h._incrementPreload()),h._curElement){for(var Y in h._loop=!1,h._requestAnimId&&window.cancelAnimationFrame(h._requestAnimId),h._events)window.removeEventListener(Y,h._events[Y]);var ee=!0,q=!1,Z=void 0;try{for(var se,P=h._elements[Symbol.iterator]();!(ee=(se=P.next()).done);ee=!0){var B,W=se.value;for(B in W.elt&&W.elt.parentNode&&W.elt.parentNode.removeChild(W.elt),W._events)W.elt.removeEventListener(B,W._events[B])}}catch(ge){q=!0,Z=ge}finally{try{ee||P.return==null||P.return()}finally{if(q)throw Z}}var K=h;h._registeredMethods.remove.forEach(function(ge){ge!==void 0&&ge.call(K)})}if(h._isGlobal){for(var ne in r.prototype)try{delete window[ne]}catch{window[ne]=void 0}for(var oe in h)if(h.hasOwnProperty(oe))try{delete window[oe]}catch{window[oe]=void 0}r.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(q){q!==void 0&&q.call(this)},this),this._setupPromisePreloads();var R,M,N=this._createFriendlyGlobalFunctionBinder();if(u)u(this),r._checkForUserDefinedFunctions(this);else{for(var D in this._isGlobal=!0,r.instance=this,r.prototype)typeof r.prototype[D]=="function"?(R=D.substring(2),this._events.hasOwnProperty(R)||(Math.hasOwnProperty(D)&&Math[D]===r.prototype[D]?N(D,r.prototype[D]):N(D,r.prototype[D].bind(this)))):N(D,r.prototype[D]);for(var G in this)this.hasOwnProperty(G)&&N(G,this[G])}for(M in this._events){var V=this["_on".concat(M)];V&&(V=V.bind(this),window.addEventListener(M,V,{passive:!1}),this._events[M]=V)}function z(){h._setProperty("focused",!0)}function $(){h._setProperty("focused",!1)}window.addEventListener("focus",z),window.addEventListener("blur",$),this.registerMethod("remove",function(){window.removeEventListener("focus",z),window.removeEventListener("blur",$)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,i;return a=r,(i=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(u,d){r.prototype._preloadMethods.hasOwnProperty(u)||(r.prototype._preloadMethods[u]=d)}},{key:"registerMethod",value:function(u,d){var h=this||r.prototype;h._registeredMethods.hasOwnProperty(u)||(h._registeredMethods[u]=[]),h._registeredMethods[u].push(d)}},{key:"unregisterMethod",value:function(u,d){var h=this||r.prototype;if(h._registeredMethods.hasOwnProperty(u)){for(var b=h._registeredMethods[u],v=[],w=0;w<b.length;w++)b[w]===d&&v.push(w);for(var E=v.length-1;0<=E;E--)b.splice(v[E],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=u.globalObject||window;return u.log||console.log.bind(console),function(h,b){r.disableFriendlyErrors,d[h]=b}}}])&&p(a.prototype,i),r}();for(m in n.instance=null,n.disableFriendlyErrors=!1,s)n.prototype[m]=s[m];n.VERSION=s.VERSION,n.prototype._preloadMethods={loadJSON:n.prototype,loadImage:n.prototype,loadStrings:n.prototype,loadXML:n.prototype,loadBytes:n.prototype,loadTable:n.prototype,loadFont:n.prototype,loadModel:n.prototype,loadShader:n.prototype},n.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},n.prototype._registeredPreloadMethods={},y.default=n},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("./main"))&&t.__esModule?t:{default:t};function f(s,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}l.default.Element=function(){function s(n,r){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.elt=n,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var c,p,m;return c=s,m=[{key:"_adjustListener",value:function(n,r,a){return r===!1?l.default.Element._detachListener(n,a):l.default.Element._attachListener(n,r,a),this}},{key:"_attachListener",value:function(n,r,a){a._events[n]&&l.default.Element._detachListener(n,a),r=r.bind(a),a.elt.addEventListener(n,r,!1),a._events[n]=r}},{key:"_detachListener",value:function(n,r){var a=r._events[n];r.elt.removeEventListener(n,a,!1),r._events[n]=null}}],(p=[{key:"parent",value:function(n){return n===void 0?this.elt.parentNode:(typeof n=="string"?(n[0]==="#"&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof l.default.Element&&(n=n.elt),n.appendChild(this.elt),this)}},{key:"id",value:function(n){return n===void 0?this.elt.id:(this.elt.id=n,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(n){return n===void 0?this.elt.className:(this.elt.className=n,this)}},{key:"mousePressed",value:function(n){return l.default.Element._adjustListener("mousedown",function(r){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(r),n.call(this,r)},this),this}},{key:"doubleClicked",value:function(n){return l.default.Element._adjustListener("dblclick",n,this),this}},{key:"mouseWheel",value:function(n){return l.default.Element._adjustListener("wheel",n,this),this}},{key:"mouseReleased",value:function(n){return l.default.Element._adjustListener("mouseup",n,this),this}},{key:"mouseClicked",value:function(n){return l.default.Element._adjustListener("click",n,this),this}},{key:"mouseMoved",value:function(n){return l.default.Element._adjustListener("mousemove",n,this),this}},{key:"mouseOver",value:function(n){return l.default.Element._adjustListener("mouseover",n,this),this}},{key:"mouseOut",value:function(n){return l.default.Element._adjustListener("mouseout",n,this),this}},{key:"touchStarted",value:function(n){return l.default.Element._adjustListener("touchstart",n,this),this}},{key:"touchMoved",value:function(n){return l.default.Element._adjustListener("touchmove",n,this),this}},{key:"touchEnded",value:function(n){return l.default.Element._adjustListener("touchend",n,this),this}},{key:"dragOver",value:function(n){return l.default.Element._adjustListener("dragover",n,this),this}},{key:"dragLeave",value:function(n){return l.default.Element._adjustListener("dragleave",n,this),this}},{key:"_setProperty",value:function(n,r){this[n]=r}}])&&f(c.prototype,p),m&&f(c,m),s}(),t=l.default.Element,y.default=t},{"./main":283}],285:[function(t,_,y){function l(h){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}function f(h){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=t("./main"))&&d.__esModule?d:{default:d},c=function(h){if(h&&h.__esModule)return h;if(h===null||f(h)!=="object"&&typeof h!="function")return{default:h};var b=p();if(b&&b.has(h))return b.get(h);var v,w={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var k;Object.prototype.hasOwnProperty.call(h,v)&&((k=E?Object.getOwnPropertyDescriptor(h,v):null)&&(k.get||k.set)?Object.defineProperty(w,v,k):w[v]=h[v])}return w.default=h,b&&b.set(h,w),w}(t("./constants"));function p(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,p=function(){return h},h)}function m(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}function n(h,b){return(n=Object.setPrototypeOf||function(v,w){return v.__proto__=w,v})(h,b)}function r(h){return function(){var b,v=u(h);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=u(this).constructor,Reflect.construct(v,arguments,b)):v.apply(this,arguments))}}function a(h,b){return!b||f(b)!=="object"&&typeof b!="function"?i(h):b}function i(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function u(h){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(h)}s.default.Graphics=function(h){var b=w;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&n(b,h);var v=r(w);function w(E,k,G,L,R){var M;if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");D=R||document.createElement("canvas"),(M=v.call(this,D,L)).canvas=D;var N,D=G||c.P2D,G=L._userNode||document.body;for(N in R||G.appendChild(M.canvas),s.default.prototype)M[N]||(typeof s.default.prototype[N]=="function"?M[N]=s.default.prototype[N].bind(i(M)):M[N]=s.default.prototype[N]);return s.default.prototype._initializeInstanceVariables.apply(i(M)),M.width=E,M.height=k,M._pixelDensity=L._pixelDensity,D===c.WEBGL?(M._renderer=new s.default.RendererGL(M.canvas,i(M),!1),E=(R=M._renderer._adjustDimensions(E,k)).adjustedWidth,k=R.adjustedHeight):M._renderer=new s.default.Renderer2D(M.canvas,i(M),!1),L._elements.push(i(M)),Object.defineProperty(i(M),"deltaTime",{get:function(){return this._pInst.deltaTime}}),M._renderer.resize(E,k),M._renderer._applyDefaults(),a(M,i(M))}return b=w,(h=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var E,k=this._pInst._elements.indexOf(this);for(E in k!==-1&&this._pInst._elements.splice(k,1),this._events)this.elt.removeEventListener(E,this._events[E]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(E){return new s.default.Framebuffer(this,E)}}])&&m(b.prototype,h),w}(s.default.Element);var d=s.default.Graphics;y.default=d},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,_,y){function l(h){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=(u=t("./main"))&&u.__esModule?u:{default:u},s=function(h){if(h&&h.__esModule)return h;if(h===null||p(h)!=="object"&&typeof h!="function")return{default:h};var b=c();if(b&&b.has(h))return b.get(h);var v,w={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var k;Object.prototype.hasOwnProperty.call(h,v)&&((k=E?Object.getOwnPropertyDescriptor(h,v):null)&&(k.get||k.set)?Object.defineProperty(w,v,k):w[v]=h[v])}return w.default=h,b&&b.set(h,w),w}(t("../core/constants"));function c(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,c=function(){return h},h)}function p(h){return(p=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(h)}function m(h,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}function n(h,b){return(n=Object.setPrototypeOf||function(v,w){return v.__proto__=w,v})(h,b)}function r(h){return function(){var b,v,w=i(h);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=i(this).constructor,Reflect.construct(w,arguments,b)):w.apply(this,arguments),w=this,!(v=b)||p(v)!=="object"&&typeof v!="function"?a(w):v}}function a(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function i(h){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(h)}var u=function(h){var b=w;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&n(b,h);var v=r(w);function w(E,k,T){var L;if(this instanceof w)return(L=v.call(this,E,k)).canvas=E,L._pixelsState=k,T?(L._isMainCanvas=!0,L._pInst._setProperty("_curElement",a(L)),L._pInst._setProperty("canvas",L.canvas),L._pInst._setProperty("width",L.width),L._pInst._setProperty("height",L.height)):(L.canvas.style.display="none",L._styles=[]),L._clipping=!1,L._clipInvert=!1,L._textSize=12,L._textLeading=15,L._textFont="sans-serif",L._textStyle=s.NORMAL,L._textAscent=null,L._textDescent=null,L._textAlign=s.LEFT,L._textBaseline=s.BASELINE,L._textWrap=s.WORD,L._rectMode=s.CORNER,L._ellipseMode=s.CENTER,L._curveTightness=0,L._imageMode=s.CORNER,L._tint=null,L._doStroke=!0,L._doFill=!0,L._strokeSet=!1,L._fillSet=!1,L._leadingSet=!1,L._pushPopDepth=0,L;throw new TypeError("Cannot call a class as a function")}return b=w,(h=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(E){this._pushPopDepth--,E.properties&&Object.assign(this,E.properties)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=E.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(E,k){this.width=E,this.height=k,this.elt.width=E*this._pInst._pixelDensity,this.elt.height=k*this._pInst._pixelDensity,this.elt.style.width="".concat(E,"px"),this.elt.style.height="".concat(k,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(E,k,T,L){var R=this._pixelsState,M=R._pixelDensity,N=this.canvas;if(E===void 0&&k===void 0)E=k=0,T=R.width,L=R.height;else if(E*=M,k*=M,T===void 0&&L===void 0)return E<0||k<0||E>=N.width||k>=N.height?[0,0,0,0]:this._getPixel(E,k);return R=new f.default.Image(T*M,L*M),R.pixelDensity(M),R.canvas.getContext("2d").drawImage(N,E,k,T*M,L*M,0,0,T*M,L*M),R}},{key:"textLeading",value:function(E){return typeof E=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",E),this._pInst):this._textLeading}},{key:"textStyle",value:function(E){return E?(E!==s.NORMAL&&E!==s.ITALIC&&E!==s.BOLD&&E!==s.BOLDITALIC||this._setProperty("_textStyle",E),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(E,k){return E!==void 0?(this._setProperty("_textAlign",E),k!==void 0&&this._setProperty("_textBaseline",k),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(E){return this._setProperty("_textWrap",E),this._textWrap}},{key:"text",value:function(E,k,T,L,R){var M,N,D,G,V=this._pInst,z=this._textWrap,$=Number.MAX_VALUE,q=T;if((this._doFill||this._doStroke)&&E!==void 0){if(M=(E=(E=typeof E!="string"?E.toString():E).replace(/(\t)/g,"  ")).split(`
`),L!==void 0){switch(this._rectMode===s.CENTER&&(k-=L/2),this._textAlign){case s.CENTER:k+=L/2;break;case s.RIGHT:k+=L}if(R!==void 0){this._rectMode===s.CENTER&&(T-=R/2,q-=R/2);var E=T,Y=V.textAscent();switch(this._textBaseline){case s.BOTTOM:G=T+R,T=Math.max(G,T),q+=Y;break;case s.CENTER:G=T+R/2,T=Math.max(G,T),q+=Y/2}$=T+R-Y,this._textBaseline===s.CENTER&&($=E+R-Y/2)}else this._textBaseline!==s.BOTTOM&&this._textBaseline!==s.CENTER||(q=T-(E=V.textSize()*this._textLeading)/2,$=T+E/2);if(z===s.WORD){for(var ee=[],Z=0;Z<M.length;Z++){for(var se="",P=M[Z].split(" "),B=0;B<P.length;B++)N="".concat(se+P[B])+" ",se=L<(D=this.textWidth(N))&&0<se.length?(ee.push(se),"".concat(P[B])+" "):N;ee.push(se)}var W=0;this._textBaseline===s.CENTER?W=(ee.length-1)*V.textLeading()/2:this._textBaseline===s.BOTTOM&&(W=(ee.length-1)*V.textLeading());for(var K=0;K<M.length;K++){se="",P=M[K].split(" ");for(var ne=0;ne<P.length;ne++)N="".concat(se+P[ne])+" ",L<(D=this.textWidth(N))&&0<se.length?(this._renderText(V,se.trim(),k,T-W,$,q),se="".concat(P[ne])+" ",T+=V.textLeading()):se=N;this._renderText(V,se.trim(),k,T-W,$,q),T+=V.textLeading()}}else{for(var oe=[],fe=0;fe<M.length;fe++)for(var ge=M[fe].split(se=""),de=0;de<ge.length;de++)N="".concat(se+ge[de]),(D=this.textWidth(N))<=L?se+=ge[de]:L<D&&0<se.length&&(oe.push(se),se="".concat(ge[de]));oe.push(se);var ye=0;this._textBaseline===s.CENTER?ye=(oe.length-1)*V.textLeading()/2:this._textBaseline===s.BOTTOM&&(ye=(oe.length-1)*V.textLeading());for(var be=0;be<M.length;be++){ge=M[be].split(se="");for(var ae=0;ae<ge.length;ae++)N="".concat(se+ge[ae]),(D=this.textWidth(N))<=L?se+=ge[ae]:L<D&&0<se.length&&(this._renderText(V,se.trim(),k,T-ye,$,q),T+=V.textLeading(),se="".concat(ge[ae]))}this._renderText(V,se.trim(),k,T-ye,$,q),T+=V.textLeading()}}else{var ve=0;this._textBaseline===s.CENTER?ve=(M.length-1)*V.textLeading()/2:this._textBaseline===s.BOTTOM&&(ve=(M.length-1)*V.textLeading());for(var _e=0;_e<M.length;_e++)this._renderText(V,M[_e],k,T-ve,$,q-ve),T+=V.textLeading()}return V}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return p(E)==="object"&&E.font&&E.font.supported}},{key:"_updateTextMetrics",value:function(){var E,k,T,L,R,M;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((E=document.createElement("span")).style.fontFamily=this._textFont,E.style.fontSize="".concat(this._textSize,"px"),E.innerHTML="ABCjgq|",(M=document.createElement("div")).style.display="inline-block",M.style.width="1px",M.style.height="0px",L=((k=document.createElement("div")).appendChild(E),k.appendChild(M),k.style.height="0px",k.style.overflow="hidden",document.body.appendChild(k),M.style.verticalAlign="baseline",d(M)),R=d(E),T=L[1]-R[1],L=(M.style.verticalAlign="bottom",d(M)),R=d(E),M=L[1]-R[1]-T,document.body.removeChild(k),this._setProperty("_textAscent",T),this._setProperty("_textDescent",M)),this}}])&&m(b.prototype,h),w}(f.default.Element);function d(h){var b=0,v=0;if(h.offsetParent)for(;b+=h.offsetLeft,v+=h.offsetTop,h=h.offsetParent;);else b+=h.offsetLeft,v+=h.offsetTop;return[b,v]}u.prototype.textSize=function(h){return typeof h=="number"?(this._setProperty("_textSize",h),this._leadingSet||this._setProperty("_textLeading",h*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},f.default.Renderer=u,t=f.default.Renderer,y.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(h,_,y){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function f(b){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(v){return l(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":l(v)})(b)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.get-own-property-descriptor"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.reflect.construct"),h("core-js/modules/es.reflect.get"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.weak-map"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(d=h("./main"))&&d.__esModule?d:{default:d},c=function(b){if(b&&b.__esModule)return b;if(b===null||f(b)!=="object"&&typeof b!="function")return{default:b};var v=p();if(v&&v.has(b))return v.get(b);var w,E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var T;Object.prototype.hasOwnProperty.call(b,w)&&((T=k?Object.getOwnPropertyDescriptor(b,w):null)&&(T.get||T.set)?Object.defineProperty(E,w,T):E[w]=b[w])}return E.default=b,v&&v.set(b,E),E}(h("./constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function m(b,v){for(var w=0;w<v.length;w++){var E=v[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}function n(b,v,w){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(L,k,T){var L=function(R,M){for(;!Object.prototype.hasOwnProperty.call(R,M)&&(R=i(R))!==null;);return R}(L,k);if(L)return(L=Object.getOwnPropertyDescriptor(L,k)).get?L.get.call(T):L.value})(b,v,w||b)}function r(b,v){return(r=Object.setPrototypeOf||function(w,E){return w.__proto__=E,w})(b,v)}function a(b){return function(){var v,w=i(b),w=(v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=i(this).constructor,Reflect.construct(w,arguments,v)):w.apply(this,arguments),this);if(!v||f(v)!=="object"&&typeof v!="function"){if(w!==void 0)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return v}}function i(b){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(b)}h("./p5.Renderer");var u="rgba(0,0,0,0)",d=function(b){var v=E;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),b&&r(v,b);var w=a(E);function E(k,T,L){if(this instanceof E)return(k=w.call(this,k,T,L)).drawingContext=k.canvas.getContext("2d"),k._pInst._setProperty("drawingContext",k.drawingContext),k;throw new TypeError("Cannot call a class as a function")}return v=E,(b=[{key:"getFilterGraphicsLayer",value:function(){var k;return this.filterGraphicsLayer||(k=(this._pInst instanceof s.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new s.default.Graphics(this.width,this.height,c.WEBGL,k)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(k,T){n(i(E.prototype),"resize",this).call(this,k,T),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var k,T;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(k=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(k,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(k=this._getFill(),T=(T=this._pInst).color.apply(T,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(T.levels),T=T.toString(),this._setFill(T),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(k),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var k=(k=this._pInst).color.apply(k,arguments);this._setFill(k.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",k.levels)}},{key:"stroke",value:function(){var k=(k=this._pInst).color.apply(k,arguments);this._setStroke(k.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",k.levels)}},{key:"erase",value:function(k,T){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,k=this._pInst.color(255,k).toString(),this.drawingContext.fillStyle=k,this._cachedStrokeStyle=this.drawingContext.strokeStyle,k=this._pInst.color(255,T).toString(),this.drawingContext.strokeStyle=k,T=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=T,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},k=(n(i(E.prototype),"beginClip",this).call(this,k),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),k=(this.drawingContext.fillStyle=k,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),k=(this.drawingContext.strokeStyle=k,this._cachedBlendMode);this.blendMode(c.BLEND),this._cachedBlendMode=k,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),n(i(E.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(k,T,L,R,M,N,D,G,V){k.gifProperties&&k._animateGif(this._pInst);try{s.default.MediaElement&&k instanceof s.default.MediaElement&&k._ensureCanvas();var z=(z=this._tint&&k.canvas?this._getTintedImageCanvas(k):z)||k.canvas||k.elt,$=1;k.width&&0<k.width&&($=z.width/k.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(z,$*T,$*L,$*R,$*M,N,D,G,V),this._isErasing&&this._pInst.erase()}catch(q){if(q.name!=="NS_ERROR_NOT_AVAILABLE")throw q}}},{key:"_getTintedImageCanvas",value:function(k){if(!k.canvas)return k;k.tintCanvas||(k.tintCanvas=document.createElement("canvas")),k.tintCanvas.width!==k.canvas.width&&(k.tintCanvas.width=k.canvas.width),k.tintCanvas.height!==k.canvas.height&&(k.tintCanvas.height=k.canvas.height);var T=k.tintCanvas.getContext("2d");return T.save(),T.clearRect(0,0,k.canvas.width,k.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(T.drawImage(k.canvas,0,0),T.globalCompositeOperation="luminosity",T.drawImage(k.canvas,0,0),T.globalCompositeOperation="color",T.drawImage(k.canvas,0,0),T.globalCompositeOperation="multiply",T.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),T.fillRect(0,0,k.canvas.width,k.canvas.height),T.globalCompositeOperation="destination-in"),T.globalAlpha=this._tint[3]/255,T.drawImage(k.canvas,0,0),T.restore(),k.tintCanvas}},{key:"blendMode",value:function(k){if(k===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(k!==c.BLEND&&k!==c.REMOVE&&k!==c.DARKEST&&k!==c.LIGHTEST&&k!==c.DIFFERENCE&&k!==c.MULTIPLY&&k!==c.EXCLUSION&&k!==c.SCREEN&&k!==c.REPLACE&&k!==c.OVERLAY&&k!==c.HARD_LIGHT&&k!==c.SOFT_LIGHT&&k!==c.DODGE&&k!==c.BURN&&k!==c.ADD)throw new Error("Mode ".concat(k," not recognized."));this._cachedBlendMode=k,this.drawingContext.globalCompositeOperation=k}}},{key:"blend",value:function(){for(var k=this.drawingContext.globalCompositeOperation,T=arguments.length,L=new Array(T),R=0;R<T;R++)L[R]=arguments[R];var M=L[L.length-1],N=Array.prototype.slice.call(L,0,L.length-1);this.drawingContext.globalCompositeOperation=M,s.default.prototype.copy.apply(this,N),this.drawingContext.globalCompositeOperation=k}},{key:"_getPixel",value:function(k,T){return k=this.drawingContext.getImageData(k,T,1,1).data,[k[0],k[1],k[2],k[3]]}},{key:"loadPixels",value:function(){var k=this._pixelsState,T=k._pixelDensity,L=this.width*T,T=this.height*T,L=this.drawingContext.getImageData(0,0,L,T);k._setProperty("imageData",L),k._setProperty("pixels",L.data)}},{key:"set",value:function(k,T,L){k=Math.floor(k),T=Math.floor(T);var R=this._pixelsState;if(L instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(R._pixelDensity,R._pixelDensity),this.drawingContext.clearRect(k,T,L.width,L.height),this.drawingContext.drawImage(L.canvas,k,T),this.drawingContext.restore();else{var M=0,N=0,D=0,G=0,V=4*(T*R._pixelDensity*(this.width*R._pixelDensity)+k*R._pixelDensity);if(R.imageData||R.loadPixels(),typeof L=="number")V<R.pixels.length&&(D=N=M=L,G=255);else if(Array.isArray(L)){if(L.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<R.pixels.length&&(M=L[0],N=L[1],D=L[2],G=L[3])}else L instanceof s.default.Color&&V<R.pixels.length&&(M=L.levels[0],N=L.levels[1],D=L.levels[2],G=L.levels[3]);for(var z=0;z<R._pixelDensity;z++)for(var $=0;$<R._pixelDensity;$++)V=4*((T*R._pixelDensity+$)*this.width*R._pixelDensity+(k*R._pixelDensity+z)),R.pixels[V]=M,R.pixels[V+1]=N,R.pixels[V+2]=D,R.pixels[V+3]=G}}},{key:"updatePixels",value:function(k,T,L,R){var M=this._pixelsState,N=M._pixelDensity;k===void 0&&T===void 0&&L===void 0&&R===void 0&&(T=k=0,L=this.width,R=this.height),k*=N,T*=N,L*=N,R*=N,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=M.imageData),this.drawingContext.putImageData(M.imageData,0,0,k,T,L,R)}},{key:"arc",value:function(V,z,$,q,M,N,D){var G=this.drawingContext,V=V+$/2,z=z+q/2,$=$/2,q=q/2,Y=!(D===c.CHORD||D===c.OPEN||(N-M)%c.TWO_PI==0);return this._doFill&&(this._clipping||G.beginPath(),G.ellipse(V,z,$,q,0,M,N),Y&&G.lineTo(V,z),G.closePath(),this._clipping||G.fill()),this._doStroke&&(this._clipping||G.beginPath(),G.ellipse(V,z,$,q,0,M,N),D===c.PIE&&Y&&G.lineTo(V,z),D!==c.PIE&&D!==c.CHORD||G.closePath(),this._clipping||G.stroke()),this}},{key:"ellipse",value:function(G){var T=this.drawingContext,L=this._doFill,R=this._doStroke,M=parseFloat(G[0]),N=parseFloat(G[1]),D=parseFloat(G[2]),G=parseFloat(G[3]);if(L&&!R){if(this._getFill()===u)return this}else if(!L&&R&&this._getStroke()===u)return this;M+=D/2,N+=G/2,D/=2,G/=2,this._clipping||T.beginPath(),T.ellipse(M,N,D,G,0,0,2*Math.PI),T.closePath(),!this._clipping&&L&&T.fill(),!this._clipping&&R&&T.stroke()}},{key:"line",value:function(k,T,L,R){var M=this.drawingContext;return this._doStroke&&this._getStroke()!==u&&(this._clipping||M.beginPath(),M.moveTo(k,T),M.lineTo(L,R),M.stroke()),this}},{key:"point",value:function(k,T){var L,R,M=this.drawingContext;return!this._doStroke||this._getStroke()===u?this:(L=this._getStroke(),R=this._getFill(),this._clipping||this._setFill(L),this._clipping||M.beginPath(),M.arc(k,T,M.lineWidth/2,0,c.TWO_PI,!1),void(this._clipping||(M.fill(),this._setFill(R))))}},{key:"quad",value:function(k,T,L,R,M,N,D,G){var V=this.drawingContext,z=this._doFill,$=this._doStroke;if(z&&!$){if(this._getFill()===u)return this}else if(!z&&$&&this._getStroke()===u)return this;return this._clipping||V.beginPath(),V.moveTo(k,T),V.lineTo(L,R),V.lineTo(M,N),V.lineTo(D,G),V.closePath(),!this._clipping&&z&&V.fill(),!this._clipping&&$&&V.stroke(),this}},{key:"rect",value:function($){var T,L,R=$[0],M=$[1],N=$[2],D=$[3],G=$[4],V=$[5],z=$[6],$=$[7],q=this.drawingContext,Y=this._doFill,ee=this._doStroke;if(Y&&!ee){if(this._getFill()===u)return this}else if(!Y&&ee&&this._getStroke()===u)return this;return this._clipping||q.beginPath(),G===void 0?q.rect(R,M,N,D):(V===void 0&&(V=G),z===void 0&&(z=V),$===void 0&&($=z),ee=(Y=Math.abs(N))/2,L=(T=Math.abs(D))/2,q.roundRect(R,M,N,D,[G=T<2*(G=Y<2*G?ee:G)?L:G,V=T<2*(V=Y<2*V?ee:V)?L:V,z=T<2*(z=Y<2*z?ee:z)?L:z,$=T<2*($=Y<2*$?ee:$)?L:$])),!this._clipping&&this._doFill&&q.fill(),!this._clipping&&this._doStroke&&q.stroke(),this}},{key:"triangle",value:function(z){var T=this.drawingContext,L=this._doFill,R=this._doStroke,M=z[0],N=z[1],D=z[2],G=z[3],V=z[4],z=z[5];if(L&&!R){if(this._getFill()===u)return this}else if(!L&&R&&this._getStroke()===u)return this;this._clipping||T.beginPath(),T.moveTo(M,N),T.lineTo(D,G),T.lineTo(V,z),T.closePath(),!this._clipping&&L&&T.fill(),!this._clipping&&R&&T.stroke()}},{key:"endShape",value:function(k,T,L,R,M,N,D){if(T.length!==0&&(this._doStroke||this._doFill)){var G,V,z,$=k===c.CLOSE,q=($&&!N&&T.push(T[0]),T.length);if(L&&D===null){if(3<q){var Y=[],ee=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[1][0],T[1][1]),V=1;V+2<q;V++)G=T[V],Y[0]=[G[0],G[1]],Y[1]=[G[0]+(ee*T[V+1][0]-ee*T[V-1][0])/6,G[1]+(ee*T[V+1][1]-ee*T[V-1][1])/6],Y[2]=[T[V+1][0]+(ee*T[V][0]-ee*T[V+2][0])/6,T[V+1][1]+(ee*T[V][1]-ee*T[V+2][1])/6],Y[3]=[T[V+1][0],T[V+1][1]],this.drawingContext.bezierCurveTo(Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]);$&&this.drawingContext.lineTo(T[V+1][0],T[V+1][1]),this._doFillStrokeClose($)}}else if(R&&D===null){for(this._clipping||this.drawingContext.beginPath(),V=0;V<q;V++)T[V].isVert?T[V].moveTo?this.drawingContext.moveTo(T[V][0],T[V][1]):this.drawingContext.lineTo(T[V][0],T[V][1]):this.drawingContext.bezierCurveTo(T[V][0],T[V][1],T[V][2],T[V][3],T[V][4],T[V][5]);this._doFillStrokeClose($)}else if(M&&D===null){for(this._clipping||this.drawingContext.beginPath(),V=0;V<q;V++)T[V].isVert?T[V].moveTo?this.drawingContext.moveTo(T[V][0],T[V][1]):this.drawingContext.lineTo(T[V][0],T[V][1]):this.drawingContext.quadraticCurveTo(T[V][0],T[V][1],T[V][2],T[V][3]);this._doFillStrokeClose($)}else if(D===c.POINTS)for(V=0;V<q;V++)G=T[V],this._doStroke&&this._pInst.stroke(G[6]),this._pInst.point(G[0],G[1]);else if(D===c.LINES)for(V=0;V+1<q;V+=2)G=T[V],this._doStroke&&this._pInst.stroke(T[V+1][6]),this._pInst.line(G[0],G[1],T[V+1][0],T[V+1][1]);else if(D===c.TRIANGLES)for(V=0;V+2<q;V+=3)G=T[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(G[0],G[1]),this.drawingContext.lineTo(T[V+1][0],T[V+1][1]),this.drawingContext.lineTo(T[V+2][0],T[V+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(T[V+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(T[V+2][6]),this.drawingContext.stroke());else if(D===c.TRIANGLE_STRIP)for(V=0;V+1<q;V++)G=T[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[V+1][0],T[V+1][1]),this.drawingContext.lineTo(G[0],G[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+1][5]),V+2<q&&(this.drawingContext.lineTo(T[V+2][0],T[V+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+2][5])),this._doFillStrokeClose($);else if(D===c.TRIANGLE_FAN){if(2<q){for(this._clipping||this.drawingContext.beginPath(),V=2;V<q;V++)G=T[V],this.drawingContext.moveTo(T[0][0],T[0][1]),this.drawingContext.lineTo(T[V-1][0],T[V-1][1]),this.drawingContext.lineTo(G[0],G[1]),this.drawingContext.lineTo(T[0][0],T[0][1]),V<q-1&&(this._doFill&&G[5]!==T[V+1][5]||this._doStroke&&G[6]!==T[V+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(G[5]),this.drawingContext.fill(),this._pInst.fill(T[V+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(G[6]),this.drawingContext.stroke(),this._pInst.stroke(T[V+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose($)}}else if(D===c.QUADS)for(V=0;V+3<q;V+=4){for(G=T[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(G[0],G[1]),z=1;z<4;z++)this.drawingContext.lineTo(T[V+z][0],T[V+z][1]);this.drawingContext.lineTo(G[0],G[1]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+3][6]),this._doFillStrokeClose($)}else if(D===c.QUAD_STRIP){if(3<q)for(V=0;V+1<q;V+=2)G=T[V],this._clipping||this.drawingContext.beginPath(),V+3<q?(this.drawingContext.moveTo(T[V+2][0],T[V+2][1]),this.drawingContext.lineTo(G[0],G[1]),this.drawingContext.lineTo(T[V+1][0],T[V+1][1]),this.drawingContext.lineTo(T[V+3][0],T[V+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(T[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(T[V+3][6])):(this.drawingContext.moveTo(G[0],G[1]),this.drawingContext.lineTo(T[V+1][0],T[V+1][1])),this._doFillStrokeClose($)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(T[0][0],T[0][1]),V=1;V<q;V++)(G=T[V]).isVert&&(G.moveTo?($&&this.drawingContext.closePath(),this.drawingContext.moveTo(G[0],G[1])):this.drawingContext.lineTo(G[0],G[1]));this._doFillStrokeClose($)}N=M=R=L=!1,$&&T.pop()}return this}},{key:"strokeCap",value:function(k){return k!==c.ROUND&&k!==c.SQUARE&&k!==c.PROJECT||(this.drawingContext.lineCap=k),this}},{key:"strokeJoin",value:function(k){return k!==c.ROUND&&k!==c.BEVEL&&k!==c.MITER||(this.drawingContext.lineJoin=k),this}},{key:"strokeWeight",value:function(k){return this.drawingContext.lineWidth=k===void 0||k===0?1e-4:k,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(k){k!==this._cachedFillStyle&&(this.drawingContext.fillStyle=k,this._cachedFillStyle=k)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(k){k!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=k,this._cachedStrokeStyle=k)}},{key:"bezier",value:function(k,T,L,R,M,N,D,G){return this._pInst.beginShape(),this._pInst.vertex(k,T),this._pInst.bezierVertex(L,R,M,N,D,G),this._pInst.endShape(),this}},{key:"curve",value:function(k,T,L,R,M,N,D,G){return this._pInst.beginShape(),this._pInst.curveVertex(k,T),this._pInst.curveVertex(L,R),this._pInst.curveVertex(M,N),this._pInst.curveVertex(D,G),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(k){k&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(k,T,L,R,M,N){this.drawingContext.transform(k,T,L,R,M,N)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(k){this.drawingContext.rotate(k)}},{key:"scale",value:function(k,T){return this.drawingContext.scale(k,T),this}},{key:"translate",value:function(k,T){return k instanceof s.default.Vector&&(T=k.y,k=k.x),this.drawingContext.translate(k,T),this}},{key:"_renderText",value:function(k,T,L,R,M,N){if(!(R<N||M<=R))return k.push(),this._isOpenType()?this._textFont._renderPath(T,L,R,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(T,L,R),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(T,L,R))),k.pop(),k}},{key:"textWidth",value:function(k){return this._isOpenType()?this._textFont._textWidth(k,this._textSize):this.drawingContext.measureText(k).width}},{key:"_applyTextProperties",value:function(){var k=this._pInst,T=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),T=this._textFont,this._isOpenType()&&(T=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),T||"sans-serif");return/\s/.exec(T)&&(T='"'.concat(T,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(T),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,k}},{key:"push",value:function(){return this.drawingContext.save(),n(i(E.prototype),"push",this).call(this)}},{key:"pop",value:function(k){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n(i(E.prototype),"pop",this).call(this,k)}}])&&m(v.prototype,b),E}(s.default.Renderer),h=(d.prototype.text=function(b,v,w,L,k){L!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(T=!0,this.drawingContext.textBaseline=c.TOP);var T,L=s.default.Renderer.prototype.text.apply(this,arguments);return T&&(this.drawingContext.textBaseline=c.BASELINE),L},s.default.Renderer2D=d,s.default.Renderer2D);y.default=h},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var l=(t=t("./main"))&&t.__esModule?t:{default:t};l.default.prototype._promisePreloads=[];function f(){return{}}var s=!(l.default.prototype.registerPromisePreload=function(c){l.default.prototype._promisePreloads.push(c)});l.default.prototype._setupPromisePreloads=function(){var c=!0,p=!1,m=void 0;try{for(var n,r=this._promisePreloads[Symbol.iterator]();!(c=(n=r.next()).done);c=!0){var a=n.value,i=this,u=a.method,d=a.addCallbacks,h=a.legacyPreloadSetup,b=a.target||this,v=b[u].bind(b);if(b===l.default.prototype){if(s)continue;i=null,v=b[u]}b[u]=this._wrapPromisePreload(i,v,d),h&&(b[h.method]=this._legacyPreloadGenerator(i,h,b[u]))}}catch(w){p=!0,m=w}finally{try{c||r.return==null||r.return()}finally{if(p)throw m}}s=!0},l.default.prototype._wrapPromisePreload=function(c,p,m){var n=function(){for(var r=this,a=(this._incrementPreload(),null),i=null,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];if(m)for(var b=d.length-1;0<=b&&!i&&typeof d[b]=="function";b--)i=a,a=d.pop();var v=Promise.resolve(p.apply(this,d));return a&&v.then(a),i&&v.catch(i),v.then(function(){return r._decrementPreload()}),v};return n=c?n.bind(c):n},l.default.prototype._legacyPreloadGenerator=function(c,r,m){var n=r.createBaseObject||f,r=function(){var a=this;this._incrementPreload();for(var i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];var h=n.apply(this,u);return m.apply(this,u).then(function(b){Object.assign(h,b),a._decrementPreload()}),h};return r=c?r.bind(c):r}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,_,y){function l(r){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=(n=t("./main"))&&n.__esModule?n:{default:n},s=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var a=c();if(a&&a.has(r))return a.get(r);var i,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var h;Object.prototype.hasOwnProperty.call(r,i)&&((h=d?Object.getOwnPropertyDescriptor(r,i):null)&&(h.get||h.set)?Object.defineProperty(u,i,h):u[i]=r[i])}return u.default=r,a&&a.set(r,u),u}(t("./constants"));function c(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,c=function(){return r},r)}function p(r){return(p=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(r)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",n=(f.default.prototype.createCanvas=function(r,a,i,u){var d,h,b;if(f.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(i=s.P2D,u=arguments[2]):d=i||s.P2D,u)(b=document.getElementById(m))&&b.parentNode.removeChild(b),b=u,this._defaultGraphicsCreated=!1;else{if(d===s.WEBGL)(b=document.getElementById(m))&&(b.parentNode.removeChild(b),h=this._renderer,this._elements=this._elements.filter(function(w){return w!==h})),(b=document.createElement("canvas")).id=m,b.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)b=this.canvas;else{b=u||document.createElement("canvas");for(var v=0;document.getElementById("defaultCanvas".concat(v));)v++;m="defaultCanvas".concat(v),b.id=m,b.classList.add("p5Canvas")}this._setupDone||(b.dataset.hidden=!0,b.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(i=document.createElement("main"),document.body.appendChild(i)),document.getElementsByTagName("main")[0])).appendChild(b)}return d===s.WEBGL?(this._setProperty("_renderer",new f.default.RendererGL(b,this,!0)),this._elements.push(this._renderer),r=(u=this._renderer._adjustDimensions(r,a)).adjustedWidth,a=u.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new f.default.Renderer2D(b,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(r,a),this._renderer._applyDefaults(),this._renderer},f.default.prototype.resizeCanvas=function(r,a,i){if(f.default._validateParameters("resizeCanvas",arguments),this._renderer){var u,d,h,b={};for(u in this.drawingContext){var v=this.drawingContext[u];p(v)!=="object"&&typeof v!="function"&&(b[u]=v)}for(h in this._renderer instanceof f.default.RendererGL&&(r=(d=this._renderer._adjustDimensions(r,a)).adjustedWidth,a=d.adjustedHeight),this.width=r,this.height=a,this._renderer.resize(r,a),b)try{this.drawingContext[h]=b[h]}catch{}i||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},f.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},f.default.prototype.createGraphics=function(r,a){for(var i=arguments.length,u=new Array(2<i?i-2:0),d=2;d<i;d++)u[d-2]=arguments[d];return u[0]instanceof HTMLCanvasElement&&(u[1]=u[0],u[0]=s.P2D),f.default._validateParameters("createGraphics",arguments),new f.default.Graphics(r,a,u[0],this,u[1])},f.default.prototype.createFramebuffer=function(r){return new f.default.Framebuffer(this,r)},f.default.prototype.clearDepth=function(r){this._assert3d("clearDepth"),this._renderer.clearDepth(r)},f.default.prototype.blendMode=function(r){f.default._validateParameters("blendMode",arguments),r===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=s.BLEND),this._renderer.blendMode(r)},f.default);y.default=n},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,_,y){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=n(t("../main")),c=function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=m();if(i&&i.has(a))return i.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var b;Object.prototype.hasOwnProperty.call(a,u)&&((b=h?Object.getOwnPropertyDescriptor(a,u):null)&&(b.get||b.set)?Object.defineProperty(d,u,b):d[u]=a[u])}return d.default=a,i&&i.set(a,d),d}(t("../constants")),p=n(t("../helpers"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function n(a){return a&&a.__esModule?a:{default:a}}function r(a){return function(i){if(Array.isArray(i)){for(var u=0,d=new Array(i.length);u<i.length;u++)d[u]=i[u];return d}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(a,i,u,d,h){var b;return a-=c.TWO_PI*Math.floor(a/c.TWO_PI),i-=c.TWO_PI*Math.floor(i/c.TWO_PI),b=Math.min(Math.abs(a-i),c.TWO_PI-Math.abs(a-i)),h&&(a=a<=c.HALF_PI?Math.atan(u/d*Math.tan(a)):a>c.HALF_PI&&a<=3*c.HALF_PI?Math.atan(u/d*Math.tan(a))+c.PI:Math.atan(u/d*Math.tan(a))+c.TWO_PI,i=i<=c.HALF_PI?Math.atan(u/d*Math.tan(i)):i>c.HALF_PI&&i<=3*c.HALF_PI?Math.atan(u/d*Math.tan(i))+c.PI:Math.atan(u/d*Math.tan(i))+c.TWO_PI),i<a&&(i+=c.TWO_PI),{start:a,stop:i,correspondToSamePoint:b<1e-5}},s.default.prototype.arc=function(a,i,u,d,h,b,v,w){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&h!==b&&(h=this._toRadians(h),b=this._toRadians(b),a=p.default.modeAdjust(a,i,u,d,this._renderer._ellipseMode),(i=this._normalizeArcAngles(h,b,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,w]):(this._renderer.arc(a.x,a.y,a.w,a.h,i.start,i.stop,v,w),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,i.start,i.stop,v]))),this},s.default.prototype.ellipse=function(a,i,u,d,h){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];s.default._validateParameters("circle",i);var d=i.slice(0,2);return d.push(i[2],i[2]),this._renderEllipse.apply(this,r(d))},s.default.prototype._renderEllipse=function(a,i,u,d,h){return(this._renderer._doStroke||this._renderer._doFill)&&(a=p.default.modeAdjust(a,i,u,d=d===void 0?u:d,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,h]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},s.default.prototype.line=function(){for(var a,i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];return s.default._validateParameters("line",u),this._renderer._doStroke&&(a=this._renderer).line.apply(a,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",u),this},s.default.prototype.point=function(){for(var a,i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];return s.default._validateParameters("point",u),this._renderer._doStroke&&(u.length===1&&u[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,u[0].x,u[0].y,u[0].z):((a=this._renderer).point.apply(a,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",u))),this},s.default.prototype.quad=function(){for(var a,i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];return s.default._validateParameters("quad",u),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&u.length<12?this._renderer.quad.call(this._renderer,u[0],u[1],0,u[2],u[3],0,u[4],u[5],0,u[6],u[7],0,u[8],u[9]):((a=this._renderer).quad.apply(a,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",u))),this},s.default.prototype.rect=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return s.default._validateParameters("rect",i),this._renderRect.apply(this,i)},s.default.prototype.square=function(a,i,u,d,h,b,v){return s.default._validateParameters("square",arguments),this._renderRect.call(this,a,i,u,u,d,h,b,v)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var a=p.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=(this._renderer._rectMode===c.CORNER&&(a.w=arguments[2],a.h=arguments[3]),[a.x,a.y,a.w,a.h]),u=4;u<arguments.length;u++)i[u]=arguments[u];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},s.default.prototype.triangle=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return s.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},t=s.default,y.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(m=t("../main"))&&m.__esModule?m:{default:m},c=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}s.default.prototype.ellipseMode=function(n){return s.default._validateParameters("ellipseMode",arguments),n!==c.CORNER&&n!==c.CORNERS&&n!==c.RADIUS&&n!==c.CENTER||(this._renderer._ellipseMode=n),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(n){return s.default._validateParameters("rectMode",arguments),n!==c.CORNER&&n!==c.CORNERS&&n!==c.RADIUS&&n!==c.CENTER||(this._renderer._rectMode=n),this},s.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(n){return s.default._validateParameters("strokeCap",arguments),n!==c.ROUND&&n!==c.SQUARE&&n!==c.PROJECT||this._renderer.strokeCap(n),this},s.default.prototype.strokeJoin=function(n){return s.default._validateParameters("strokeJoin",arguments),n!==c.ROUND&&n!==c.BEVEL&&n!==c.MITER||this._renderer.strokeJoin(n),this},s.default.prototype.strokeWeight=function(n){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var m=s.default;y.default=m},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(f=t("../main"))&&f.__esModule?f:{default:f};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype.bezier=function(){for(var s,c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return l.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,p),this},l.default.prototype.bezierDetail=function(s){return l.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},l.default.prototype.bezierPoint=function(s,c,p,m,n){l.default._validateParameters("bezierPoint",arguments);var r=1-n;return Math.pow(r,3)*s+3*Math.pow(r,2)*n*c+3*r*Math.pow(n,2)*p+Math.pow(n,3)*m},l.default.prototype.bezierTangent=function(s,c,p,m,n){l.default._validateParameters("bezierTangent",arguments);var r=1-n;return 3*m*Math.pow(n,2)-3*p*Math.pow(n,2)+6*p*r*n-6*c*r*n+3*c*Math.pow(r,2)-3*s*Math.pow(r,2)},l.default.prototype.curve=function(){for(var s,c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return l.default._validateParameters("curve",p),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,p),this},l.default.prototype.curveDetail=function(s){return l.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},l.default.prototype.curveTightness=function(s){return l.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},l.default.prototype.curvePoint=function(s,c,p,m,n){l.default._validateParameters("curvePoint",arguments);var r=this._renderer._curveTightness,a=n*n*n,i=n*n;return s*((r-1)/2*a+(1-r)*i+(r-1)/2*n)+c*((r+3)/2*a+(-5-r)/2*i+1)+p*((-3-r)/2*a+(r+2)*i+(1-r)/2*n)+m*((1-r)/2*a+(r-1)/2*i)},l.default.prototype.curveTangent=function(s,c,p,m,i){l.default._validateParameters("curveTangent",arguments);var r=this._renderer._curveTightness,a=i*i*3,i=2*i;return s*((r-1)/2*a+(1-r)*i+(r-1)/2)+c*((r+3)/2*a+(-5-r)/2*i)+p*((-3-r)/2*a+(r+2)*i+(1-r)/2)+m*((1-r)/2*a+(r-1)/2*i)};var f=l.default;y.default=f},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,_,y){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function f(v){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(b=t("../main"))&&b.__esModule?b:{default:b},c=function(v){if(v&&v.__esModule)return v;if(v===null||f(v)!=="object"&&typeof v!="function")return{default:v};var w=p();if(w&&w.has(v))return w.get(v);var E,k={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in v){var L;Object.prototype.hasOwnProperty.call(v,E)&&((L=T?Object.getOwnPropertyDescriptor(v,E):null)&&(L.get||L.set)?Object.defineProperty(k,E,L):k[E]=v[E])}return k.default=v,w&&w.set(v,k),k}(t("../constants"));function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}var m=null,n=[],r=[],a=!1,i=!1,u=!1,d=!1,h=!0,b=(s.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(r=[],d=!0),this},s.default.prototype.beginShape=function(v){var w;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(w=this._renderer).beginShape.apply(w,arguments):(m=v===c.POINTS||v===c.LINES||v===c.TRIANGLES||v===c.TRIANGLE_FAN||v===c.TRIANGLE_STRIP||v===c.QUADS||v===c.QUAD_STRIP?v:null,n=[],r=[]),this},s.default.prototype.bezierVertex=function(){for(var v,w=arguments.length,E=new Array(w),k=0;k<w;k++)E[k]=arguments[k];if(s.default._validateParameters("bezierVertex",E),this._renderer.isP3D)(v=this._renderer).bezierVertex.apply(v,E);else if(n.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var T=[],L=0;L<E.length;L++)T[L]=E[L];T.isVert=!1,(d?r:n).push(T)}return this},s.default.prototype.curveVertex=function(){for(var v,w=arguments.length,E=new Array(w),k=0;k<w;k++)E[k]=arguments[k];return s.default._validateParameters("curveVertex",E),this._renderer.isP3D?(v=this._renderer).curveVertex.apply(v,E):(i=!0,this.vertex(E[0],E[1])),this},s.default.prototype.endContour=function(){if(!this._renderer.isP3D){var v=r[0].slice();v.isVert=r[0].isVert,v.moveTo=!1,r.push(v),h&&(n.push(n[0]),h=!1);for(var w=0;w<r.length;w++)n.push(r[w])}return this},s.default.prototype.endShape=function(v){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(s.default._validateParameters("endShape",arguments),w<1&&(console.log("🌸 p5.js says: You can not have less than one instance"),w=1),this._renderer.isP3D)this._renderer.endShape(v,i,a,u,d,m,w);else{if(w!==1&&console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode"),n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;w=v===c.CLOSE,w&&!d&&n.push(n[0]),this._renderer.endShape(v,n,i,a,u,d,m),h=!(d=u=a=i=!1),w&&n.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var v,w=arguments.length,E=new Array(w),k=0;k<w;k++)E[k]=arguments[k];if(s.default._validateParameters("quadraticVertex",E),this._renderer.isP3D)(v=this._renderer).quadraticVertex.apply(v,E);else{if(this._contourInited)return(v={}).x=E[0],v.y=E[1],v.x3=E[2],v.y3=E[3],v.type=c.QUADRATIC,this._contourVertices.push(v),this;if(0<n.length){u=!0;for(var T=[],L=0;L<E.length;L++)T[L]=E[L];T.isVert=!1,(d?r:n).push(T)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(v,w,E,k,T){var L;return this._renderer.isP3D?(L=this._renderer).vertex.apply(L,arguments):((L=[]).isVert=!0,L[0]=v,L[1]=w,L[2]=0,L[3]=0,L[4]=0,L[5]=this._renderer._getFill(),L[6]=this._renderer._getStroke(),E&&(L.moveTo=E),(d?(r.length===0&&(L.moveTo=!0),r):n).push(L)),this},s.default.prototype.normal=function(v,w,E){var k;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(k=this._renderer).normal.apply(k,arguments),this},s.default);y.default=b},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,_,y){},{}],295:[function(t,_,y){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var l=this._styles.pop();l?(this._renderer.pop(l.renderer),Object.assign(this,l.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(l){if(!this._inUserDraw&&this._setupDone){var f=parseInt(l),s=((isNaN(f)||f<1)&&(f=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var c=0;c<f;c++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,y.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("./main"))&&t.__esModule?t:{default:t};function f(s){return function(c){if(Array.isArray(c)){for(var p=0,m=new Array(c.length);p<c.length;p++)m[p]=c[p];return m}}(s)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.applyMatrix=function(){var s=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,f(arguments.length<=0?void 0:arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},l.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},l.default.prototype.rotate=function(s,c){return l.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),c),this},l.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),l.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},l.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),l.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},l.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),l.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},l.default.prototype.scale=function(s,c,p){var m;return l.default._validateParameters("scale",arguments),s instanceof l.default.Vector?(s=(m=s).x,c=m.y,p=m.z):Array.isArray(s)&&(s=(m=s)[0],c=m[1],p=m[2]||1),isNaN(c)?c=p=s:isNaN(p)&&(p=1),this._renderer.scale(s,c,p),this},l.default.prototype.shearX=function(s){return l.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},l.default.prototype.shearY=function(s){return l.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},l.default.prototype.translate=function(s,c,p){return l.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,c,p):this._renderer.translate(s,c),this},t=l.default,y.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,_,y){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(p){return function(m){if(Array.isArray(m)){for(var n=0,r=new Array(m.length);n<m.length;n++)r[n]=m[n];return r}}(p)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(p){return(c=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(m){return l(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":l(m)})(p)}f.default.prototype.storeItem=function(p,m){typeof p!="string"&&console.log("The argument that you passed to storeItem() - ".concat(p," is not a string.")),p.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(p," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=c(m);switch(n){case"number":case"boolean":m=m.toString();break;case"object":m instanceof f.default.Color?n="p5.Color":m instanceof f.default.Vector&&(n="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(p,m),p="".concat(p,"p5TypeID"),localStorage.setItem(p,n)},f.default.prototype.getItem=function(p){var m=localStorage.getItem(p),n=localStorage.getItem("".concat(p,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(p,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(n){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,s(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,s(m))}return m},f.default.prototype.clearStorage=function(){var p=this;Object.keys(localStorage).forEach(function(m){m.endsWith("p5TypeID")&&p.removeItem(m.replace("p5TypeID",""))})},f.default.prototype.removeItem=function(p){typeof p!="string"&&console.log("The argument that you passed to removeItem() - ".concat(p," is not a string.")),localStorage.removeItem(p),localStorage.removeItem("".concat(p,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,_,y){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}function f(u){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(d){return l(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":l(d)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),d&&p(u,d)}function p(u,d){return(p=Object.setPrototypeOf||function(h,b){return h.__proto__=b,h})(u,d)}function m(u){return function(){var d,h=n(u),h=(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(d=n(this).constructor,Reflect.construct(h,arguments,d)):h.apply(this,arguments),this);if(!d||f(d)!=="object"&&typeof d!="function"){if(h!==void 0)return h;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function n(u){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(u)}function r(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function a(u,d){for(var h=0;h<d.length;h++){var b=d[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}function i(u,d,h){d&&a(u.prototype,d)}s.default.prototype.createStringDict=function(u,d){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(u,d)},s.default.prototype.createNumberDict=function(u,d){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(u,d)},s.default.TypedDict=function(){function u(d,h){return r(this,u),d instanceof Object?this.data=d:(this.data={},this.data[d]=h),this}return i(u,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(d){return this.data.hasOwnProperty(d)}},{key:"get",value:function(d){if(this.data.hasOwnProperty(d))return this.data[d];console.log("".concat(d," does not exist in this Dictionary"))}},{key:"set",value:function(d,h){this._validate(h)?this.data[d]=h:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(d){for(var h in d)this.set(h,d[h])}},{key:"create",value:function(d,h){d instanceof Object&&h===void 0?this._addObj(d):d!==void 0?this.set(d,h):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(d){if(!this.data.hasOwnProperty(d))throw new Error("".concat(d," does not exist in this Dictionary"));delete this.data[d]}},{key:"print",value:function(){for(var d in this.data)console.log("key:".concat(d," value:").concat(this.data[d]))}},{key:"saveTable",value:function(d){var h,b="";for(h in this.data)b+="".concat(h,",").concat(this.data[h],`
`);var v=new Blob([b],{type:"text/csv"});s.default.prototype.downloadFile(v,d||"mycsv","csv")}},{key:"saveJSON",value:function(d,h){s.default.prototype.saveJSON(this.data,d,h)}},{key:"_validate",value:function(d){return!0}}]),u}(),s.default.StringDict=function(){c(d,s.default.TypedDict);var u=m(d);function d(){r(this,d);for(var h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];return u.call.apply(u,[this].concat(b))}return i(d,[{key:"_validate",value:function(h){return typeof h=="string"}}]),d}(),s.default.NumberDict=function(){c(d,s.default.TypedDict);var u=m(d);function d(){r(this,d);for(var h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];return u.call.apply(u,[this].concat(b))}return i(d,[{key:"_validate",value:function(h){return typeof h=="number"}},{key:"add",value:function(h,b){this.data.hasOwnProperty(h)?this.data[h]+=b:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"sub",value:function(h,b){this.add(h,-b)}},{key:"mult",value:function(h,b){this.data.hasOwnProperty(h)?this.data[h]*=b:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"div",value:function(h,b){this.data.hasOwnProperty(h)?this.data[h]/=b:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"_valueTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var b,v=this.data[Object.keys(this.data)[0]];for(b in this.data)this.data[b]*h<v*h&&(v=this.data[b]);return v}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var b=Object.keys(this.data)[0],v=1;v<Object.keys(this.data).length;v++)Object.keys(this.data)[v]*h<b*h&&(b=Object.keys(this.data)[v]);return b}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),d}(),t=s.default.TypedDict,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,_,y){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(v,w){for(var E=0;E<w.length;E++){var k=w[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}function c(v,w,E){w&&s(v.prototype,w),E&&s(v,E)}function p(v,w){return(p=Object.setPrototypeOf||function(E,k){return E.__proto__=k,E})(v,w)}function m(v){return function(){var w,E,k=r(v);return w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=r(this).constructor,Reflect.construct(k,arguments,w)):k.apply(this,arguments),k=this,!(E=w)||i(E)!=="object"&&typeof E!="function"?n(k):E}}function n(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function r(v){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(v)}function a(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function i(v){return(i=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(v)}function u(v,w,E){return(w._userNode||document.body).appendChild(v),E=new(E?f.default.MediaElement:f.default.Element)(v,w),w._elements.push(E),E}f.default.prototype.select=function(v,w){return f.default._validateParameters("select",arguments),w=this._getContainer(w).querySelector(v),w?this._wrapElement(w):null},f.default.prototype.selectAll=function(v,w){f.default._validateParameters("selectAll",arguments);var E=[],k=this._getContainer(w).querySelectorAll(v);if(k)for(var T=0;T<k.length;T++){var L=this._wrapElement(k[T]);E.push(L)}return E},f.default.prototype._getContainer=function(v){var w=document;return typeof v=="string"?w=document.querySelector(v)||document:v instanceof f.default.Element?w=v.elt:v instanceof HTMLElement&&(w=v),w},f.default.prototype._wrapElement=function(v){var w,E=Array.prototype.slice.call(v.children);return v.tagName==="INPUT"&&v.type==="checkbox"?((w=new f.default.Element(v,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},w):v.tagName==="VIDEO"||v.tagName==="AUDIO"?new f.default.MediaElement(v,this):v.tagName==="SELECT"?this.createSelect(new f.default.Element(v,this)):0<E.length&&E.every(function(k){return k.tagName==="INPUT"||k.tagName==="LABEL"})&&(v.tagName==="DIV"||v.tagName==="SPAN")?this.createRadio(new f.default.Element(v,this)):new f.default.Element(v,this)},f.default.prototype.removeElements=function(v){f.default._validateParameters("removeElements",arguments),this._elements.filter(function(w){return!(w.elt instanceof HTMLCanvasElement)}).map(function(w){return w.remove()})},f.default.Element.prototype.changed=function(v){return f.default.Element._adjustListener("change",v,this),this},f.default.Element.prototype.input=function(v){return f.default.Element._adjustListener("input",v,this),this},f.default.prototype.createDiv=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("div");return w.innerHTML=v,u(w,this)},f.default.prototype.createP=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("p");return w.innerHTML=v,u(w,this)},f.default.prototype.createSpan=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("span");return w.innerHTML=v,u(w,this)},f.default.prototype.createImg=function(){f.default._validateParameters("createImg",arguments);var v,w=document.createElement("img"),E=arguments;return 1<E.length&&typeof E[1]=="string"&&(w.alt=E[1]),2<E.length&&typeof E[2]=="string"&&(w.crossOrigin=E[2]),w.src=E[0],v=u(w,this),w.addEventListener("load",function(){v.width=w.offsetWidth||w.width,v.height=w.offsetHeight||w.height;var k=E[E.length-1];typeof k=="function"&&k(v)}),v},f.default.prototype.createA=function(v,w,E){f.default._validateParameters("createA",arguments);var k=document.createElement("a");return k.href=v,k.innerHTML=w,E&&(k.target=E),u(k,this)},f.default.prototype.createSlider=function(v,w,E,k){f.default._validateParameters("createSlider",arguments);var T=document.createElement("input");return T.type="range",T.min=v,T.max=w,k===0?T.step=1e-18:k&&(T.step=k),typeof E=="number"&&(T.value=E),u(T,this)},f.default.prototype.createButton=function(v,w){f.default._validateParameters("createButton",arguments);var E=document.createElement("button");return E.innerHTML=v,w&&(E.value=w),u(E,this)},f.default.prototype.createCheckbox=function(){for(var v=arguments.length,w=new Array(v),E=0;E<v;E++)w[E]=arguments[E];f.default._validateParameters("createCheckbox",w);var k=document.createElement("div"),T=document.createElement("input"),L=(T.type="checkbox",document.createElement("label")),R=(L.appendChild(T),k.appendChild(L),u(k,this));return R.checked=function(){var M=R.elt.firstElementChild.getElementsByTagName("input")[0];if(M){if(arguments.length===0)return M.checked;M.checked=!(arguments.length<=0||!arguments[0])}return R},this.value=function(M){return R.value=M,this},w[0]&&(R.value(w[0]),(k=document.createElement("span")).innerHTML=w[0],L.appendChild(k)),w[1]&&(T.checked=!0),R},f.default.prototype.createSelect=function(){for(var v,w=arguments.length,E=new Array(w),k=0;k<w;k++)E[k]=arguments[k];f.default._validateParameters("createSelect",E);var T,L=E[0];return L instanceof f.default.Element&&L.elt instanceof HTMLSelectElement?this.elt=(v=L).elt:L instanceof HTMLSelectElement?(v=u(L,this),this.elt=L):(T=document.createElement("select"),L&&typeof L=="boolean"&&T.setAttribute("multiple","true"),v=u(T,this),this.elt=T),v.option=function(R,M){var N;if(R!==void 0){for(var D,G=0;G<this.elt.length;G+=1)if(this.elt[G].textContent===R){N=G;break}N!==void 0?M===!1?this.elt.remove(N):this.elt[N].value=M:((D=document.createElement("option")).textContent=R,D.value=M===void 0?R:M,this.elt.appendChild(D),this._pInst._elements.push(D))}},v.selected=function(R){if(R!==void 0){for(var M=0;M<this.elt.length;M+=1)this.elt[M].value.toString()===R.toString()&&(this.elt.selectedIndex=M);return this}if(this.elt.getAttribute("multiple")){var N=[],D=!0,G=!1,V=void 0;try{for(var z,$=this.elt.selectedOptions[Symbol.iterator]();!(D=(z=$.next()).done);D=!0){var q=z.value;N.push(q.value)}}catch(Y){G=!0,V=Y}finally{try{D||$.return==null||$.return()}finally{if(G)throw V}}return N}return this.elt.value},v.disable=function(R){if(typeof R=="string")for(var M=0;M<this.elt.length;M++)this.elt[M].value.toString()===R&&(this.elt[M].disabled=!0,this.elt[M].selected=!1);else this.elt.disabled=!0;return this},v.enable=function(R){if(typeof R=="string")for(var M=0;M<this.elt.length;M++)this.elt[M].value.toString()===R&&(this.elt[M].disabled=!1,this.elt[M].selected=!1);else{this.elt.disabled=!1;for(var N=0;N<this.elt.length;N++)this.elt[N].disabled=!1,this.elt[N].selected=!1}return this},v};var d=0;function h(v,R,E,k){var T=document.createElement(R),L=(typeof(E=E||"")=="string"&&(E=[E]),!0),R=!1,M=void 0;try{for(var N,D=E[Symbol.iterator]();!(L=(N=D.next()).done);L=!0){var G=N.value,V=document.createElement("source");V.setAttribute("src",G),T.appendChild(V)}}catch($){R=!0,M=$}finally{try{L||D.return==null||D.return()}finally{if(R)throw M}}typeof k=="function"&&T.addEventListener("canplaythrough",function $(){k(),T.removeEventListener("canplaythrough",$)});var z=u(T,v,!0);return z.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){z.width=T.videoWidth,z.height=T.videoHeight,z.elt.width===0&&(z.elt.width=T.videoWidth),z.elt.height===0&&(z.elt.height=T.videoHeight),z.presetPlaybackRate&&(z.elt.playbackRate=z.presetPlaybackRate,delete z.presetPlaybackRate),z.loadedmetadata=!0}),z}f.default.prototype.createRadio=function(){function v(R){return R instanceof HTMLInputElement&&R.type==="radio"}function w(R){return R instanceof HTMLLabelElement}var E,k,T,L=arguments.length<=0?void 0:arguments[0];return L instanceof f.default.Element&&(L.elt instanceof HTMLDivElement||L.elt instanceof HTMLSpanElement)?(E=L,this.elt=L.elt):L instanceof HTMLDivElement||L instanceof HTMLSpanElement?(E=u(L,this),k=this.elt=L,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(T=arguments.length<=1?void 0:arguments[1])):(typeof L=="string"&&(T=L),k=document.createElement("div"),E=u(k,this),this.elt=k),E._name=T||"radioOption_".concat(d++),E._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(R){return v(R)||w(R)&&v(R.firstElementChild)}).map(function(R){return v(R)?R:R.firstElementChild})},E.option=function(R,M){var N,D,G,V=!0,z=!1,$=void 0;try{for(var q,Y=E._getOptionsArray()[Symbol.iterator]();!(V=(q=Y.next()).done);V=!0){var ee=q.value;if(ee.value===R){N=ee;break}}}catch(Z){z=!0,$=Z}finally{try{V||Y.return==null||Y.return()}finally{if(z)throw $}}return N===void 0&&((N=document.createElement("input")).setAttribute("type","radio"),N.setAttribute("value",R)),N.setAttribute("name",E._name),w(N.parentElement)?D=N.parentElement:(D=document.createElement("label")).insertAdjacentElement("afterbegin",N),D.lastElementChild instanceof HTMLSpanElement?G=D.lastElementChild:(G=document.createElement("span"),N.insertAdjacentElement("afterend",G)),G.innerHTML=M===void 0?R:M,this.elt.appendChild(D),N},E.remove=function(R){var M=!0,N=!1,D=void 0;try{for(var G,V=E._getOptionsArray()[Symbol.iterator]();!(M=(G=V.next()).done);M=!0){var z=G.value;if(z.value===R)return void(w(z.parentElement)?z.parentElement:z).remove()}}catch($){N=!0,D=$}finally{try{M||V.return==null||V.return()}finally{if(N)throw D}}},E.value=function(){var R="",M=!0,N=!1,D=void 0;try{for(var G,V=E._getOptionsArray()[Symbol.iterator]();!(M=(G=V.next()).done);M=!0){var z=G.value;if(z.checked){R=z.value;break}}}catch($){N=!0,D=$}finally{try{M||V.return==null||V.return()}finally{if(N)throw D}}return R},E.selected=function(R){var M=null;if(R===void 0){var N=!0,D=!1,G=void 0;try{for(var V,z=E._getOptionsArray()[Symbol.iterator]();!(N=(V=z.next()).done);N=!0){var $=V.value;if($.checked){M=$;break}}}catch(se){D=!0,G=se}finally{try{N||z.return==null||z.return()}finally{if(D)throw G}}}else{E._getOptionsArray().forEach(function(B){B.checked=!1,B.removeAttribute("checked")});var q=!0,D=!1,G=void 0;try{for(var Y,ee=E._getOptionsArray()[Symbol.iterator]();!(q=(Y=ee.next()).done);q=!0){var Z=Y.value;Z.value===R&&(Z.setAttribute("checked",!0),Z.checked=!0,M=Z)}}catch(B){D=!0,G=B}finally{try{q||ee.return==null||ee.return()}finally{if(D)throw G}}}return M},E.disable=function(){var R=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],M=!0,N=!1,D=void 0;try{for(var G,V=E._getOptionsArray()[Symbol.iterator]();!(M=(G=V.next()).done);M=!0)G.value.setAttribute("disabled",R)}catch(z){N=!0,D=z}finally{try{M||V.return==null||V.return()}finally{if(N)throw D}}},E},f.default.prototype.createColorPicker=function(v){f.default._validateParameters("createColorPicker",arguments);var w=document.createElement("input");return w.type="color",v?v instanceof f.default.Color?w.value=v.toString("#rrggbb"):(f.default.prototype._colorMode="rgb",f.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},w.value=f.default.prototype.color(v).toString("#rrggbb")):w.value="#000000",(w=u(w,this)).color=function(){return v&&(v.mode&&(f.default.prototype._colorMode=v.mode),v.maxes&&(f.default.prototype._colorMaxes=v.maxes)),f.default.prototype.color(this.elt.value)},w},f.default.prototype.createInput=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",E=(f.default._validateParameters("createInput",arguments),document.createElement("input"));return E.setAttribute("value",v),E.setAttribute("type",w),u(E,this)},f.default.prototype.createFileInput=function(v){var w,E=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(f.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(w=document.createElement("input")).setAttribute("type","file"),E&&w.setAttribute("multiple",!0),w.addEventListener("change",function(k){var T=!0,L=!1,R=void 0;try{for(var M,N=k.target.files[Symbol.iterator]();!(T=(M=N.next()).done);T=!0){var D=M.value;f.default.File._load(D,v)}}catch(G){L=!0,R=G}finally{try{T||N.return==null||N.return()}finally{if(L)throw R}}},!1),u(w,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},f.default.prototype.createVideo=function(v,w){return f.default._validateParameters("createVideo",arguments),h(this,"video",v,w)},f.default.prototype.createAudio=function(v,w){return f.default._validateParameters("createAudio",arguments),h(this,"audio",v,w)},f.default.prototype.VIDEO="video",f.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var w=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return w?new Promise(function(E,k){w.call(navigator,v,E,k)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),f.default.prototype.createCapture=function(){for(var v=arguments.length,w=new Array(v),E=0;E<v;E++)w[E]=arguments[E];if(f.default._validateParameters("createCapture",w),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var k,T=!0,L=!0,R=!1,M=0,N=w;M<N.length;M++){var D=N[M];D===f.default.prototype.VIDEO?L=!1:D===f.default.prototype.AUDIO?T=!1:i(D)==="object"?(D.flipped!==void 0&&(R=D.flipped,delete D.flipped),G=Object.assign({},G,D)):typeof D=="function"&&(k=D)}var G=Object.assign({},{video:T,audio:L},G),V=document.createElement("video"),z=(V.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(G).then(function($){try{"srcObject"in V?V.srcObject=$:V.src=window.URL.createObjectURL($)}catch{V.src=$}}).catch(function($){$.name==="NotFoundError"&&f.default._friendlyError("No webcam found on this device","createCapture"),$.name==="NotAllowedError"&&f.default._friendlyError("Access to the camera was denied","createCapture"),console.error($)}),u(V,this,!0));return z.loadedmetadata=!1,V.addEventListener("loadedmetadata",function(){V.play(),V.width?(z.width=V.width,z.height=V.height,R&&(z.elt.style.transform="scaleX(-1)")):(z.width=z.elt.width=V.videoWidth,z.height=z.elt.height=V.videoHeight),z.loadedmetadata=!0,k&&k(V.srcObject)}),z.flipped=R,z},f.default.prototype.createElement=function(v,w){return f.default._validateParameters("createElement",arguments),v=document.createElement(v),w!==void 0&&(v.innerHTML=w),u(v,this)},f.default.Element.prototype.addClass=function(v){return this.elt.className?this.hasClass(v)||(this.elt.className=this.elt.className+" "+v):this.elt.className=v,this},f.default.Element.prototype.removeClass=function(v){return this.elt.classList.remove(v),this},f.default.Element.prototype.hasClass=function(v){return this.elt.classList.contains(v)},f.default.Element.prototype.toggleClass=function(v){return this.elt.classList.contains(v)?this.elt.classList.remove(v):this.elt.classList.add(v),this},f.default.Element.prototype.child=function(v){return v===void 0?this.elt.childNodes:(typeof v=="string"?(v[0]==="#"&&(v=v.substring(1)),v=document.getElementById(v)):v instanceof f.default.Element&&(v=v.elt),v instanceof HTMLElement&&this.elt.appendChild(v),this)},f.default.Element.prototype.center=function(v){var w=this.elt.style.display,E=this.elt.style.display==="none",k=this.parent().style.display==="none",T={x:this.elt.offsetLeft,y:this.elt.offsetTop},L=(E&&this.show(),k&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),R=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return v==="both"||v===void 0?this.position(L/2+this.parent().offsetLeft,R/2+this.parent().offsetTop):v==="horizontal"?this.position(L/2+this.parent().offsetLeft,T.y):v==="vertical"&&this.position(T.x,R/2+this.parent().offsetTop),this.style("display",w),E&&this.hide(),k&&this.parent().hide(),this},f.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},f.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},f.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=v,this},f.default.Element.prototype._rotate=function(){var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=v,this},f.default.Element.prototype.style=function(v,w){if((w=w instanceof f.default.Color?"rgba("+w.levels[0]+","+w.levels[1]+","+w.levels[2]+","+w.levels[3]/255+")":w)===void 0){if(v.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(v);for(var E=v.split(";"),k=0;k<E.length;k++){var T=E[k].split(":");T[0]&&T[1]&&(this.elt.style[T[0].trim()]=T[1].trim())}}else this.elt.style[v]=w,v!=="width"&&v!=="height"&&v!=="left"&&v!=="top"||(w=window.getComputedStyle(this.elt).getPropertyValue(v).replace(/[^\d.]/g,""),this[v]=Math.round(parseFloat(w,10)));return this},f.default.Element.prototype.attribute=function(v,w){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return w===void 0?this.elt.getAttribute(v):(this.elt.setAttribute(v,w),this);if(w===void 0)return this.elt.firstChild.getAttribute(v);for(var E=0;E<this.elt.childNodes.length;E++)this.elt.childNodes[E].setAttribute(v,w)},f.default.Element.prototype.removeAttribute=function(v){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var w=0;w<this.elt.childNodes.length;w++)this.elt.childNodes[w].removeAttribute(v);return this.elt.removeAttribute(v),this},f.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},f.default.Element.prototype.show=function(){return this.elt.style.display="block",this},f.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},f.default.Element.prototype.size=function(v,w){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var E=v,k=w,T=f.default.prototype.AUTO;if(E!==T||k!==T){if(E===T?E=w*this.width/this.height:k===T&&(k=v*this.height/this.width),this.elt instanceof HTMLCanvasElement){var L,R={},M=this.elt.getContext("2d");for(L in M)R[L]=M[L];for(L in this.elt.setAttribute("width",E*this._pInst._pixelDensity),this.elt.setAttribute("height",k*this._pInst._pixelDensity),this.elt.style.width=E+"px",this.elt.style.height=k+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),R)this.elt.getContext("2d")[L]=R[L]}else this.elt.style.width=E+"px",this.elt.style.height=k+"px",this.elt.width=E,this.elt.height=k;this.width=E,this.height=k,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",E),this._pInst._setProperty("height",k))}return this},f.default.Element.prototype.remove=function(){this instanceof f.default.MediaElement&&(this.stop(),(w=this.elt.srcObject)!==null&&w.getTracks().forEach(function(E){E.stop()}));var v,w=this._pInst._elements.indexOf(this);for(v in w!==-1&&this._pInst._elements.splice(w,1),this._events)this.elt.removeEventListener(v,this._events[v]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},f.default.Element.prototype.drop=function(v,w){var E;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",E=function(k){k.preventDefault()}),this.elt.addEventListener("dragleave",E)),f.default.Element._attachListener("drop",function(T){T.preventDefault(),typeof w=="function"&&w.call(this,T);var T=T.dataTransfer.files,L=!0,R=!1,M=void 0;try{for(var N,D=T[Symbol.iterator]();!(L=(N=D.next()).done);L=!0){var G=N.value;f.default.File._load(G,v)}}catch(V){R=!0,M=V}finally{try{L||D.return==null||D.return()}finally{if(R)throw M}}},this)):console.log("The File APIs are not fully supported in this browser."),this},f.default.Element.prototype.draggable=function(v){var w,E="ontouchstart"in window,k=0,T=0,L=0,R=0,M=E?"touchend":"mouseup",N=E?"touchmove":"mousemove";function D(V){var z;V=V||window.event,R=E?(z=V.changedTouches,k=L-parseInt(z[0].clientX),T=R-parseInt(z[0].clientY),L=parseInt(z[0].clientX),parseInt(z[0].clientY)):(k=L-parseInt(V.clientX),T=R-parseInt(V.clientY),L=parseInt(V.clientX),parseInt(V.clientY)),v.style.left=v.offsetLeft-k+"px",v.style.top=v.offsetTop-T+"px"}function G(){document.removeEventListener(M,G,!1),document.removeEventListener(N,D,!1)}return v===void 0?w=v=this.elt:v!==this.elt&&v.elt!==this.elt&&(v=v.elt,w=this.elt),w.addEventListener(E?"touchstart":"mousedown",function(V){{var z;V=V||window.event,R=E?(z=V.changedTouches,L=parseInt(z[0].clientX),parseInt(z[0].clientY)):(L=parseInt(V.clientX),parseInt(V.clientY))}return document.addEventListener(M,G,!1),document.addEventListener(N,D,!1),!1},!1),w.style.cursor="move",this};function b(v,w,E,k){a(this,b),this.callback=v,this.time=w,this.id=E,this.val=k}t=function(v){var w=k;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),v&&p(w,v);var E=m(k);function k(T,L){a(this,k);var R=n(L=E.call(this,T,L));return L.elt.crossOrigin="anonymous",L._prevTime=0,L._cueIDCounter=0,L._cues=[],L.pixels=[],L._pixelsState=n(L),L._pixelDensity=1,L._modified=!1,L._frameOnCanvas=-1,Object.defineProperty(R,"src",{get:function(){var M=R.elt.children[0].src,N=R.elt.src===window.location.href?"":R.elt.src;return M===window.location.href?N:M},set:function(M){for(var N=0;N<R.elt.children.length;N++)R.elt.removeChild(R.elt.children[N]);var D=document.createElement("source");D.src=M,T.appendChild(D),R.elt.src=M,R.modified=!0}}),R._onended=function(){},R.elt.onended=function(){R._onended(R)},L}return c(k,[{key:"play",value:function(){var T;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(T=this.elt.play())&&T.catch&&T.catch(function(L){L.name==="NotAllowedError"?console.error(L):console.error("Media play method encountered an unexpected error",L)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var T=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(T)},{passive:!0,once:!0})}},{key:"autoplay",value:function(T){var L=this,R=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",T),T&&!R&&(T=function(){return L._setupAutoplayFailDetection()},this.elt.readyState===4?T():this.elt.addEventListener("canplay",T,{passive:!0,once:!0})),this}},{key:"volume",value:function(T){if(T===void 0)return this.elt.volume;this.elt.volume=T}},{key:"speed",value:function(T){if(T===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=T:this.presetPlaybackRate=T}},{key:"time",value:function(T){return T===void 0?this.elt.currentTime:(this.elt.currentTime=T,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var T=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&T&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var T=arguments.length,L=new Array(T),R=0;R<T;R++)L[R]=arguments[R];return f.default.Renderer2D.prototype.loadPixels.apply(this,L)}},{key:"updatePixels",value:function(T,L,R,M){return this.loadedmetadata&&(this._ensureCanvas(),f.default.Renderer2D.prototype.updatePixels.call(this,T,L,R,M)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var T=arguments.length,L=new Array(T),R=0;R<T;R++)L[R]=arguments[R];return f.default.Renderer2D.prototype.get.apply(this,L)}},{key:"_getPixel",value:function(){this.loadPixels();for(var T=arguments.length,L=new Array(T),R=0;R<T;R++)L[R]=arguments[R];return f.default.Renderer2D.prototype._getPixel.apply(this,L)}},{key:"set",value:function(T,L,R){this.loadedmetadata&&(this._ensureCanvas(),f.default.Renderer2D.prototype.set.call(this,T,L,R),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var T=arguments.length,L=new Array(T),R=0;R<T;R++)L[R]=arguments[R];f.default.prototype.copy.apply(this,L)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var T=arguments.length,L=new Array(T),R=0;R<T;R++)L[R]=arguments[R];f.default.Image.prototype.mask.apply(this,L)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(T){this._modified=T}},{key:"onended",value:function(T){return this._onended=T,this}},{key:"connect",value:function(T){var L,R;if(typeof f.default.prototype.getAudioContext=="function")L=f.default.prototype.getAudioContext(),R=f.default.soundOut.input;else try{R=(L=T.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=L.createMediaElementSource(this.elt),this.audioSourceNode.connect(R)),T?T.input?this.audioSourceNode.connect(T.input):this.audioSourceNode.connect(T):this.audioSourceNode.connect(R)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(T,N,R){var M=this._cueIDCounter++,N=new b(N,T,M,R);return this._cues.push(N),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),M}},{key:"removeCue",value:function(T){for(var L=0;L<this._cues.length;L++)this._cues[L].id===T&&(console.log(T),this._cues.splice(L,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var T=this.time(),L=0;L<this._cues.length;L++){var R=this._cues[L].time,M=this._cues[L].val;this._prevTime<R&&R<=T&&this._cues[L].callback(M)}this._prevTime=T}}]),k}(f.default.Element),f.default.MediaElement=t,t=function(){function v(w,E){a(this,v),this.file=w,this._pInst=E,E=w.type.split("/"),this.type=E[0],this.subtype=E[1],this.name=w.name,this.size=w.size,this.data=void 0}return c(v,null,[{key:"_createLoader",value:function(w,E){var k=new FileReader;return k.onload=function(T){var L,R=new f.default.File(w);R.file.type==="application/json"?R.data=JSON.parse(T.target.result):R.file.type==="text/xml"?(L=new DOMParser().parseFromString(T.target.result,"text/xml"),R.data=new f.default.XML(L.documentElement)):R.data=T.target.result,E(R)},k}},{key:"_load",value:function(w,E){var k;/^text\//.test(w.type)||w.type==="application/json"?f.default.File._createLoader(w,E).readAsText(w):/^(video|audio)\//.test(w.type)?((k=new f.default.File(w)).data=URL.createObjectURL(w),E(k)):f.default.File._createLoader(w,E).readAsDataURL(w)}}]),v}(),f.default.File=t,t=f.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(i,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(i=i("../core/main"))&&i.__esModule?i:{default:i};l.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",l.default.prototype.accelerationX=0,l.default.prototype.accelerationY=0,l.default.prototype.accelerationZ=0,l.default.prototype.pAccelerationX=0,l.default.prototype.pAccelerationY=0,l.default.prototype.pAccelerationZ=0,l.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},l.default.prototype.rotationX=0,l.default.prototype.rotationY=0,l.default.prototype.rotationZ=0,l.default.prototype.pRotationX=0,l.default.prototype.pRotationY=0;var f=l.default.prototype.pRotationZ=0,s=0,c=0,p="clockwise",m="clockwise",n="clockwise",r=(l.default.prototype.pRotateDirectionX=void 0,l.default.prototype.pRotateDirectionY=void 0,l.default.prototype.pRotateDirectionZ=void 0,l.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},l.default.prototype.turnAxis=void 0,.5),a=30,i=(l.default.prototype.setMoveThreshold=function(u){l.default._validateParameters("setMoveThreshold",arguments),r=u},l.default.prototype.setShakeThreshold=function(u){l.default._validateParameters("setShakeThreshold",arguments),a=u},l.default.prototype._ondeviceorientation=function(u){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(u.beta)),this._setProperty("rotationY",this._fromDegrees(u.gamma)),this._setProperty("rotationZ",this._fromDegrees(u.alpha)),this._handleMotion()},l.default.prototype._ondevicemotion=function(u){this._updatePAccelerations(),this._setProperty("accelerationX",2*u.acceleration.x),this._setProperty("accelerationY",2*u.acceleration.y),this._setProperty("accelerationZ",2*u.acceleration.z),this._handleMotion()},l.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var u,d,h,b,v,w=this._isGlobal?window:this;typeof w.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>r||Math.abs(this.accelerationY-this.pAccelerationY)>r||Math.abs(this.accelerationZ-this.pAccelerationZ)>r)&&w.deviceMoved(),typeof w.deviceTurned=="function"&&(d=this._toDegrees(this.rotationX)+180,h=this._toDegrees(this.pRotationX)+180,u=f+180,0<d-h&&d-h<270||d-h<-270?p="clockwise":(d-h<0||270<d-h)&&(p="counter-clockwise"),p!==this.pRotateDirectionX&&(u=d),90<Math.abs(d-u)&&Math.abs(d-u)<270&&(u=d,this._setProperty("turnAxis","X"),w.deviceTurned()),this.pRotateDirectionX=p,f=u-180,h=this._toDegrees(this.rotationY)+180,d=this._toDegrees(this.pRotationY)+180,u=s+180,0<h-d&&h-d<270||h-d<-270?m="clockwise":(h-d<0||270<h-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(u=h),90<Math.abs(h-u)&&Math.abs(h-u)<270&&(u=h,this._setProperty("turnAxis","Y"),w.deviceTurned()),this.pRotateDirectionY=m,s=u-180,0<(d=this._toDegrees(this.rotationZ))-(h=this._toDegrees(this.pRotationZ))&&d-h<270||d-h<-270?n="clockwise":(d-h<0||270<d-h)&&(n="counter-clockwise"),n!==this.pRotateDirectionZ&&(c=d),90<Math.abs(d-c)&&Math.abs(d-c)<270&&(c=d,this._setProperty("turnAxis","Z"),w.deviceTurned()),this.pRotateDirectionZ=n,this._setProperty("turnAxis",void 0)),typeof w.deviceShaken=="function"&&(this.pAccelerationX!==null&&(b=Math.abs(this.accelerationX-this.pAccelerationX),v=Math.abs(this.accelerationY-this.pAccelerationY)),a<b+v&&w.deviceShaken())},l.default);y.default=i},{"../core/main":283}],301:[function(t,_,y){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.isKeyPressed=!1,l.default.prototype.keyIsPressed=!1,l.default.prototype.key="",l.default.prototype.keyCode=0,l.default.prototype._onkeydown=function(f){var s;f.repeat||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",f.which),this._downKeys[f.which]=!0,this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),f.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(f.which)),typeof(s=this._isGlobal?window:this).keyPressed!="function"||f.charCode||s.keyPressed(f)===!1&&f.preventDefault())},l.default.prototype._onkeyup=function(f){var s=this,c=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[f.which]=!1,f.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(p){s._downKeys[p]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof c.keyReleased=="function"&&c.keyReleased(f)===!1&&f.preventDefault()},l.default.prototype._onkeypress=function(f){var s;f.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",f.which),this._setProperty("key",f.key||String.fromCharCode(f.which)||f.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(f)===!1&&f.preventDefault())},l.default.prototype._onblur=function(f){this._downKeys={}},l.default.prototype.keyIsDown=function(f){return l.default._validateParameters("keyIsDown",arguments),this._downKeys[f]||!1},l.default.prototype._areDownKeys=function(){for(var f in this._downKeys)if(this._downKeys.hasOwnProperty(f)&&this._downKeys[f]===!0)return!0;return!1},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,_,y){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(m)}function f(m){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(n){return l(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":l(n)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},c=function(m){if(m&&m.__esModule)return m;if(m===null||f(m)!=="object"&&typeof m!="function")return{default:m};var n=p();if(n&&n.has(m))return n.get(m);var r,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in m){var u;Object.prototype.hasOwnProperty.call(m,r)&&((u=i?Object.getOwnPropertyDescriptor(m,r):null)&&(u.get||u.set)?Object.defineProperty(a,r,u):a[r]=m[r])}return a.default=m,n&&n.set(m,a),a}(t("../core/constants"));function p(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,p=function(){return m},m)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(m){var n,r,a,i,u;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(n=this._curElement.elt,r=this.width,a=this.height,(i=m)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),u=n.getBoundingClientRect(),r=n.scrollWidth/r||1,n=n.scrollHeight/a||1,a={x:(i.clientX-u.left)/r,y:(i.clientY-u.top)/n,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",m.movementX),this._setProperty("movedY",m.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",c.CENTER):m.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},s.default.prototype._onmousemove=function(m){var n=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof n.mouseDragged=="function"?n.mouseDragged(m)===!1&&m.preventDefault():typeof n.touchMoved=="function"&&n.touchMoved(m)===!1&&m.preventDefault():typeof n.mouseMoved=="function"&&n.mouseMoved(m)===!1&&m.preventDefault()},s.default.prototype._onmousedown=function(m){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),this.touchstart||(typeof n.mousePressed=="function"?n.mousePressed(m)===!1&&m.preventDefault():typeof n.touchStarted=="function"&&n.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!1)},s.default.prototype._onmouseup=function(m){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof n.mouseReleased=="function"?n.mouseReleased(m)===!1&&m.preventDefault():typeof n.touchEnded=="function"&&n.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!1)},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(m){var n=this._isGlobal?window:this;typeof n.mouseClicked=="function"&&n.mouseClicked(m)===!1&&m.preventDefault()},s.default.prototype._ondblclick=function(m){var n=this._isGlobal?window:this;typeof n.doubleClicked=="function"&&n.doubleClicked(m)===!1&&m.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(m){var n=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof n.mouseWheel=="function"&&(m.delta=m.deltaY,n.mouseWheel(m)===!1&&m.preventDefault())},s.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,y.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(l){if(this._curElement!==null){for(var f=[],s=0;s<l.touches.length;s++)f[s]=function(u,i,d,n){var r=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=u.getBoundingClientRect(),i=u.scrollWidth/i||1,u=u.scrollHeight/d||1,d=n.touches[r]||n.changedTouches[r];return{x:(d.clientX-a.left)/i,y:(d.clientY-a.top)/u,winX:d.clientX,winY:d.clientY,id:d.identifier}}(this._curElement.elt,this.width,this.height,l,s);this._setProperty("touches",f)}},t.default.prototype._ontouchstart=function(l){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(l),this._updateNextMouseCoords(l),this._updateMouseCoords(),typeof f.touchStarted=="function"&&(f.touchStarted(l)===!1&&l.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(l){var f=this._isGlobal?window:this;this._updateTouchCoords(l),this._updateNextMouseCoords(l),typeof f.touchMoved=="function"?f.touchMoved(l)===!1&&l.preventDefault():typeof f.mouseDragged=="function"&&f.mouseDragged(l)===!1&&l.preventDefault()},t.default.prototype._ontouchend=function(l){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(l),this._updateNextMouseCoords(l);var f=this._isGlobal?window:this;typeof f.touchEnded=="function"&&(f.touchEnded(l)===!1&&l.preventDefault(),this.touchend=!0)},t=t.default,y.default=t},{"../core/main":283}],304:[function(t,_,y){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l,f,s,c,p={_toPixels:function(m){var n,r;return m instanceof ImageData?m.data:m.getContext("2d")?m.getContext("2d").getImageData(0,0,m.width,m.height).data:m.getContext("webgl")?(r=(n=m.getContext("webgl")).drawingBufferWidth*n.drawingBufferHeight*4,r=new Uint8Array(r),n.readPixels(0,0,m.width,m.height,n.RGBA,n.UNSIGNED_BYTE,r),r):void 0},_getARGB:function(m,n){return n*=4,m[3+n]<<24&4278190080|m[n]<<16&16711680|m[1+n]<<8&65280|255&m[2+n]},_setPixels:function(m,n){for(var r,a=0,i=m.length;a<i;a++)m[0+(r=4*a)]=(16711680&n[a])>>>16,m[1+r]=(65280&n[a])>>>8,m[2+r]=255&n[a],m[3+r]=(4278190080&n[a])>>>24},_toImageData:function(m){return m instanceof ImageData?m:m.getContext("2d").getImageData(0,0,m.width,m.height)},_createImageData:function(m,n){return p._tmpCanvas=document.createElement("canvas"),p._tmpCtx=p._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(m,n)},apply:function(m,u,r){var a=m.getContext("2d"),i=a.getImageData(0,0,m.width,m.height),u=u(i,r);u instanceof ImageData?a.putImageData(u,0,0,0,0,m.width,m.height):a.putImageData(i,0,0,0,0,m.width,m.height)},threshold:function(m){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,r=p._toPixels(m),a=Math.floor(255*n),i=0;i<r.length;i+=4){var u=void 0,u=a<=.2126*r[i]+.7152*r[i+1]+.0722*r[i+2]?255:0;r[i]=r[i+1]=r[i+2]=u}},gray:function(m){for(var n=p._toPixels(m),r=0;r<n.length;r+=4){var a=n[r],i=n[r+1],u=n[r+2];n[r]=n[r+1]=n[r+2]=.2126*a+.7152*i+.0722*u}},opaque:function(m){for(var n=p._toPixels(m),r=0;r<n.length;r+=4)n[r+3]=255;return n},invert:function(m){for(var n=p._toPixels(m),r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2]},posterize:function(m){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,r=p._toPixels(m);if(n<2||255<n)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=n-1,i=0;i<r.length;i+=4){var u=r[i],d=r[i+1],h=r[i+2];r[i]=255*(u*n>>8)/a,r[i+1]=255*(d*n>>8)/a,r[i+2]=255*(h*n>>8)/a}},dilate:function(m){for(var n,r,a,i,u,d,h,b,v,w=p._toPixels(m),E=0,k=w.length?w.length/4:0,T=new Int32Array(k);E<k;)for(r=(n=E)+m.width;E<r;)i=a=p._getARGB(w,E),(v=E-1)<n&&(v=E),r<=(b=E+1)&&(b=E),(u=E-m.width)<0&&(u=0),k<=(d=E+m.width)&&(d=E),u=p._getARGB(w,u),v=p._getARGB(w,v),d=p._getARGB(w,d),(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(h=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(a=v,i=h),i<(h=77*((v=p._getARGB(w,b))>>16&255)+151*(v>>8&255)+28*(255&v))&&(a=v,i=h),i<(b=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=u,i=b),i<(v=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=d,i=v),T[E++]=a;p._setPixels(w,T)},erode:function(m){for(var n,r,a,i,u,d,h,b,v,w=p._toPixels(m),E=0,k=w.length?w.length/4:0,T=new Int32Array(k);E<k;)for(r=(n=E)+m.width;E<r;)i=a=p._getARGB(w,E),(v=E-1)<n&&(v=E),r<=(b=E+1)&&(b=E),(u=E-m.width)<0&&(u=0),k<=(d=E+m.width)&&(d=E),u=p._getARGB(w,u),v=p._getARGB(w,v),d=p._getARGB(w,d),(h=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(a=v,i=h),(h=77*((v=p._getARGB(w,b))>>16&255)+151*(v>>8&255)+28*(255&v))<i&&(a=v,i=h),(b=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<i&&(a=u,i=b),(v=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<i&&(a=d,i=v),T[E++]=a;p._setPixels(w,T)},blur:function(m,n){for(var r,a,i,u,d,h,b,v,w,E,k=p._toPixels(m),T=m.width,L=m.height,R=T*L,M=new Int32Array(R),N=0;N<R;N++)M[N]=p._getARGB(k,N);var D,G,V,z,$,q,Y,ee,Z=new Int32Array(R),se=new Int32Array(R),P=new Int32Array(R),B=new Int32Array(R),W=0,K=3.5*n|0;if(l!==(K=K<1?1:K<248?K:248)){f=1+(l=K)<<1,s=new Int32Array(f),c=new Array(f);for(var ne=0;ne<f;ne++)c[ne]=new Int32Array(256);for(var oe=1,fe=K-1;oe<K;oe++){s[K+oe]=s[fe]=q=fe*fe,Y=c[K+oe],ee=c[fe--];for(var ge=0;ge<256;ge++)Y[ge]=ee[ge]=q*ge}$=s[K]=K*K,Y=c[K];for(var de=0;de<256;de++)Y[de]=$*de}for(G=0;G<L;G++){for(D=0;D<T;D++){if(u=i=a=d=r=0,(h=D-l)<0)E=-h,h=0;else{if(T<=h)break;E=0}for(V=E;V<f&&!(T<=h);V++){var ye=M[h+W];z=c[V],d+=z[(-16777216&ye)>>>24],a+=z[(16711680&ye)>>16],i+=z[(65280&ye)>>8],u+=z[255&ye],r+=s[V],h++}Z[b=W+D]=d/r,se[b]=a/r,P[b]=i/r,B[b]=u/r}W+=T}for(w=(v=-l)*T,G=W=0;G<L;G++){for(D=0;D<T;D++){if(u=i=a=d=r=0,v<0)E=b=-v,h=D;else{if(L<=v)break;E=0,b=v,h=D+w}for(V=E;V<f&&!(L<=b);V++)z=c[V],d+=z[Z[h]],a+=z[se[h]],i+=z[P[h]],u+=z[B[h]],r+=s[V],b++,h+=T;M[D+W]=d/r<<24|a/r<<16|i/r<<8|u/r}W+=T,w+=T,v++}p._setPixels(k,M)}};y.default=p},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=s(t("../core/main")),f=s(t("omggif"));function s(p){return p&&p.__esModule?p:{default:p}}function c(p){return function(m){if(Array.isArray(m)){for(var n=0,r=new Array(m.length);n<m.length;n++)r[n]=m[n];return r}}(p)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.createImage=function(p,m){return l.default._validateParameters("createImage",arguments),new l.default.Image(p,m)},l.default.prototype.saveCanvas=function(){for(var p,m,n,r,a,i,u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];switch(l.default._validateParameters("saveCanvas",d),d[0]instanceof HTMLCanvasElement?(p=d[0],d.shift()):d[0]instanceof l.default.Element?(p=d[0].elt,d.shift()):d[0]instanceof l.default.Framebuffer?(r=d[0],(a=this.createGraphics(r.width,r.height)).pixelDensity(pixelDensity()),r.loadPixels(),a.loadPixels(),a.pixels.set(r.pixels),a.updatePixels(),p=a.elt,d.shift()):p=this._curElement&&this._curElement.elt,1<=d.length&&(m=d[0]),n=(n=2<=d.length?d[1]:n)||l.default.prototype._checkFileExtension(m,n)[1]||"png"){default:i="image/png";break;case"webp":i="image/webp";break;case"jpeg":case"jpg":i="image/jpeg"}p.toBlob(function(b){l.default.prototype.downloadFile(b,m,n),a&&a.remove()},i)},l.default.prototype.encodeAndDownloadGif=function(p,m){for(var n=p.gifProperties,r=n.loopLimit,a=(r===1?r=null:r===null&&(r=0),new Uint8Array(p.width*p.height*n.numFrames)),i=[],u={},d=0;d<n.numFrames;d++){for(var h=new Set,b=n.frames[d].image.data,v=b.length,w=new Uint32Array(p.width*p.height),E=0,k=0;E<v;E+=4,k++){var T=b[E+0]<<16|b[E+1]<<8|b[E+2]<<0;h.add(T),w[k]=T}var L=c(h).sort().toString();u[L]===void 0?u[L]={freq:1,frames:[d]}:(u[L].freq+=1,u[L].frames.push(d)),i.push(w)}for(var N=[],R=Object.keys(u).sort(function(P,B){return u[B].freq-u[P].freq}),M=R[0].split(",").map(function(P){return parseInt(P)}),N=N.concat(u[M].frames),D=new Set(M),G=1;G<R.length;G++){var V=R[G].split(",").map(function(P){return parseInt(P)}).filter(function(P){return!D.has(P)});if(M.length+V.length<=256){for(var z=0;z<V.length;z++)M.push(V[z]),D.add(V[z]);N=N.concat(u[R[G]].frames)}}N=new Set(N);for(var $={},q=0;q<M.length;q++)$[M[q]]||($[M[q]]=q);for(var Y=1;Y<M.length;)Y<<=1;M.length=Y;for(var r={loop:r,palette:new Uint32Array(M)},ee=new f.default.GifWriter(a,p.width,p.height,r),Z={},se=0;se<n.numFrames;se++)(function(B){var W=!N.has(B),K=W?[]:M,ne=new Uint8Array(p.width*p.height),oe={},fe=new Set,ge=(i[B].forEach(function(ve,_e){W?(oe[ve]===void 0&&(oe[ve]=K.length,K.push(ve)),ne[_e]=oe[ve]):ne[_e]=$[ve],0<B&&i[B-1][_e]!==ve&&fe.add(ve)}),{}),de=K.filter(function(ve){return!fe.has(ve)});if(0<de.length){var de=de[0],ye=(W?oe:$)[de];if(0<B){for(var be=0;be<i[B].length;be++)i[B-1][be]===i[B][be]&&(ne[be]=ye);ge.transparent=ye,Z.frameOpts.disposal=1}}if(ge.delay=n.frames[B].delay/10,W){for(var ae=1;ae<K.length;)ae<<=1;K.length=ae,ge.palette=new Uint32Array(K)}0<B&&ee.addFrame(0,0,p.width,p.height,Z.pixelPaletteIndex,Z.frameOpts),Z={pixelPaletteIndex:ne,frameOpts:ge}})(se);Z.frameOpts.disposal=1,ee.addFrame(0,0,p.width,p.height,Z.pixelPaletteIndex,Z.frameOpts),r=new Blob([a.slice(0,ee.end())],{type:"image/gif"}),l.default.prototype.downloadFile(r,m,"gif")},l.default.prototype.saveFrames=function(p,m,n,i,a){l.default._validateParameters("saveFrames",arguments),n=l.default.prototype.constrain(n=n||3,0,15),n*=1e3;var i=l.default.prototype.constrain(i||15,0,22),u=0,d=l.default.prototype._makeFrame,h=this._curElement.elt,b=[],v=setInterval(function(){b.push(d(p+u,m,h)),u++},1e3/i);setTimeout(function(){if(clearInterval(v),a)a(b);else for(var w=0,E=b;w<E.length;w++){var k=E[w];l.default.prototype.downloadFile(k.imageData,k.filename,k.ext)}b=[]},.01+n)},l.default.prototype._makeFrame=function(p,m,a){var r,a=this?this._curElement.elt:a;if(m)switch(m.toLowerCase()){case"png":r="image/png";break;case"jpeg":case"jpg":r="image/jpeg";break;default:r="image/png"}else m="png",r="image/png";var a=(a=a.toDataURL(r)).replace(r,"image/octet-stream"),i={};return i.imageData=a,i.filename=p,i.ext=m,i},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,_,y){function l(h){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(h)}function f(h){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("regenerator-runtime/runtime");var s=a(t("../core/main")),c=a(t("../core/helpers")),p=function(h){if(h&&h.__esModule)return h;if(h===null||f(h)!=="object"&&typeof h!="function")return{default:h};var b=r();if(b&&b.has(h))return b.get(h);var v,w={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in h){var k;Object.prototype.hasOwnProperty.call(h,v)&&((k=E?Object.getOwnPropertyDescriptor(h,v):null)&&(k.get||k.set)?Object.defineProperty(w,v,k):w[v]=h[v])}return w.default=h,b&&b.set(h,w),w}(t("../core/constants")),m=a(t("omggif")),n=t("gifenc");function r(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,r=function(){return h},h)}function a(h){return h&&h.__esModule?h:{default:h}}function i(h,b,v,w,E,k,T){try{var L=h[k](T),R=L.value}catch(M){return void v(M)}L.done?b(R):Promise.resolve(R).then(w,E)}function u(h,b,v,w,E,k,T,L,R,M,N){var D,G,V,z,$,q,Y,ee,Z;return h===p.COVER&&(D=b,V=v,Y=k,ee=T,q=L,Z=R,G=M,z=N,$=Math.max(Y/G,ee/z),Y/=$,ee/=$,$=q,q=Z,D===p.CENTER?$+=(G-Y)/2:D===p.RIGHT&&($+=G-Y),V===p.CENTER?q+=(z-ee)/2:V===p.BOTTOM&&(q+=z-ee),L=(Z={x:$,y:q,w:Y,h:ee}).x,R=Z.y,M=Z.w,N=Z.h),h===p.CONTAIN&&(D=b,G=v,V=w,z=E,$=k,q=T,Y=M,ee=N,Z=Math.max(Y/$,ee/q),Y/=Z,ee/=Z,Z=V,V=z,D===p.CENTER?Z+=($-Y)/2:D===p.RIGHT&&(Z+=$-Y),G===p.CENTER?V+=(q-ee)/2:G===p.BOTTOM&&(V+=q-ee),w=(h={x:Z,y:V,w:Y,h:ee}).x,E=h.y,k=h.w,T=h.h),{sx:L,sy:R,sw:M,sh:N,dx:w,dy:E,dw:k,dh:T}}function d(h,b){return 0<h&&h<b?h:b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(h,b,v){s.default._validateParameters("loadImage",arguments);var w=new s.default.Image(1,1,this),E=this,k=new Request(h,{method:"GET",mode:"cors"});return fetch(h,k).then(function(T){var L,R=T.headers.get("content-type");R===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),R&&R.includes("image/gif")?T.arrayBuffer().then(function(M){if(M){for(var M=new Uint8Array(M),N=w,D=b,G=v,V=(function(W){E._decrementPreload()}).bind(E),z=new m.default.GifReader(M),$=(N.width=N.canvas.width=z.width,N.height=N.canvas.height=z.height,[]),q=z.numFrames(),Y=new Uint8ClampedArray(N.width*N.height*4),ee=0;ee<q;ee++){var Z=z.frameInfo(ee),se=N.drawingContext.getImageData(0,0,N.width,N.height),P=(Y=se.data.slice(),function(W,K){try{K.decodeAndBlitFrameRGBA(W,Y)}catch(ne){s.default._friendlyFileLoadError(8,N.src),typeof G=="function"?G(ne):console.error(ne)}}(ee,z),new ImageData(Y,N.width,N.height)),P=(N.drawingContext.putImageData(P,0,0),Z.delay);P===0&&(P=10),$.push({image:N.drawingContext.getImageData(0,0,N.width,N.height),delay:10*P}),Z.disposal===2?N.drawingContext.clearRect(Z.x,Z.y,Z.width,Z.height):Z.disposal===3&&N.drawingContext.putImageData(se,0,0,Z.x,Z.y,Z.width,Z.height)}(M=z.loopCount())===null?M=1:M===0&&(M=null),N.drawingContext.putImageData($[0].image,0,0),1<$.length&&(N.gifProperties={displayIndex:0,loopLimit:M,loopCount:0,frames:$,numFrames:q,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof D=="function"&&D(N),V()}},function(M){typeof v=="function"?(v(M),E._decrementPreload()):console.error(M)}):((L=new Image).onload=function(){w.width=w.canvas.width=L.width,w.height=w.canvas.height=L.height,w.drawingContext.drawImage(L,0,0),w.modified=!0,typeof b=="function"&&b(w),E._decrementPreload()},L.onerror=function(M){s.default._friendlyFileLoadError(0,L.src),typeof v=="function"?(v(M),E._decrementPreload()):console.error(M)},h.indexOf("data:image/")!==0&&(L.crossOrigin="Anonymous"),L.src=h),w.modified=!0}).catch(function(T){s.default._friendlyFileLoadError(0,h),typeof v=="function"?(v(T),E._decrementPreload()):console.error(T)}),w},s.default.prototype.saveGif=function(){h=regeneratorRuntime.mark(function v(w,E){var k,T,L,R,M,N,D,G,V,z,$,q,Y,ee,Z,se,P,B,W,K,ne,oe,fe,ge,de,ye,be=arguments;return regeneratorRuntime.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(k=2<be.length&&be[2]!==void 0?be[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof w!="string")throw TypeError("fileName parameter must be a string");ae.next=3;break;case 3:if(typeof E!="number")throw TypeError("Duration parameter must be a number");ae.next=5;break;case 5:if(T=k&&k.delay||0,L=k&&k.units||"seconds",R=k&&k.silent||!1,M=k&&k.notificationDuration||0,N=k&&k.notificationID||"progressBar",typeof T!="number")throw TypeError("Delay parameter must be a number");ae.next=12;break;case 12:if(L!=="seconds"&&L!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ae.next=14;break;case 14:if(typeof R!="boolean")throw TypeError("Silent parameter must be a boolean");ae.next=16;break;case 16:if(typeof M!="number")throw TypeError("Notification duration parameter must be a number");ae.next=18;break;case 18:if(typeof N!="string")throw TypeError("Notification ID parameter must be a string");ae.next=20;break;case 20:return this._recording=!0,z=this._targetFrameRate,D=(D=1/(z=z!==1/0&&z!==void 0&&z!==0?z:60)*1e3)<20?20:D,V=(G=L==="seconds"?E*z:E)+(z=L==="seconds"?T*z:T),z=z,this.frameCount=z,$=this._pixelDensity,this.pixelDensity(1),q=[],document.getElementById(N)!==null&&document.getElementById(N).remove(),R||((Y=this.createP("")).id(N),Y.style("font-size","16px"),Y.style("font-family","Montserrat"),Y.style("background-color","#ffffffa0"),Y.style("padding","8px"),Y.style("border-radius","10px"),Y.position(0,0)),this._renderer instanceof s.default.RendererGL&&(Z=this.drawingContext,ee=new Uint8Array(Z.drawingBufferWidth*Z.drawingBufferHeight*4)),this.noLoop(),ae.next=39,Promise.resolve();case 39:if(z<V)return this.redraw(),ge=void 0,ge=this._renderer instanceof s.default.RendererGL?(ee=new Uint8Array(Z.drawingBufferWidth*Z.drawingBufferHeight*4),Z.readPixels(0,0,Z.drawingBufferWidth,Z.drawingBufferHeight,Z.RGBA,Z.UNSIGNED_BYTE,ee),function(ve,_e,Me){for(var Se=parseInt(Me/2),Te=4*_e,Re=new Uint8Array(4*_e),Ye=0;Ye<Se;++Ye){var Fe=Ye*Te,pt=(Me-Ye-1)*Te;Re.set(ve.subarray(Fe,Fe+Te)),ve.copyWithin(Fe,pt,pt+Te),ve.set(Re,pt)}return ve}(ee,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,q.push(ge),z++,R||Y.html("Saved frame <b>"+q.length.toString()+"</b> out of "+G.toString()),ae.next=48,new Promise(function(ve){return setTimeout(ve,0)});ae.next=50;break;case 48:ae.next=39;break;case 50:R||Y.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity($),se=(0,n.GIFEncoder)(),P=function(ve){for(var _e=new Uint8Array(ve.length*ve[0].length),Me=0;Me<ve.length;Me++)_e.set(ve[Me],Me*ve[0].length);var Se=(0,n.quantize)(_e,256,{format:"rgba4444",oneBitAlpha:!0});return Se.length===256?Se[Se.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Se.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Se}(q),B={},W=function(ve){for(var _e=ve.length/4,Me=new Uint8Array(_e),Se=0;Se<_e;Se++){var Te=ve[4*Se]<<24|ve[4*Se+1]<<16|ve[4*Se+2]<<8|ve[4*Se+3];B[Te]===void 0&&(B[Te]=(0,n.nearestColorIndex)(P,ve.slice(4*Se,4*(Se+1)))),Me[Se]=B[Te]}return Me},K=P.length-1,ne=[],oe=0;case 60:if(!(oe<q.length)){ae.next=71;break}if(fe=W(q[oe]),ge=fe.slice(),oe===0)se.writeFrame(fe,this.width,this.height,{palette:P,delay:D,dispose:1});else{for(de=0;de<fe.length;de++)fe[de]===ne[de]&&(fe[de]=K);se.writeFrame(fe,this.width,this.height,{delay:D,transparent:!0,transparentIndex:K,dispose:1})}return ne=ge,R||Y.html("Rendered frame <b>"+oe.toString()+"</b> out of "+G.toString()),ae.next=68,new Promise(function(ve){return setTimeout(ve,0)});case 68:oe++,ae.next=60;break;case 71:se.finish(),ye=se.bytesView(),ye=new Blob([ye],{type:"image/gif"}),q=[],this._recording=!1,this.loop(),R||(Y.html("Done. Downloading your gif!🌸"),0<M&&setTimeout(function(){return Y.remove()},1e3*M)),s.default.prototype.downloadFile(ye,w,"gif");case 80:case"end":return ae.stop()}},v,this)});var h,b=function(){var v=this,w=arguments;return new Promise(function(E,k){var T=h.apply(v,w);function L(M){i(T,E,k,L,R,"next",M)}function R(M){i(T,E,k,L,R,"throw",M)}L(void 0)})};return function(v,w){return b.apply(this,arguments)}}(),s.default.prototype.image=function(h,b,v,w,z,$,q,Y,Z,M,N,D){s.default._validateParameters("image",arguments);var ee=h.width,G=h.height,V=(D=D||p.CENTER,N=N||p.CENTER,h.elt&&(ee=ee!==void 0?ee:h.elt.width,G=G!==void 0?G:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(ee=ee!==void 0?ee:h.elt.videoWidth,G=G!==void 0?G:h.elt.videoHeight),w||ee),z=z||G,$=$||0,q=q||0,Y=d(Y!==void 0?Y:ee,ee),ee=d(Z!==void 0?Z:G,G),Z=1;h.elt&&!h.canvas&&h.elt.style.width&&(Z=h.elt.videoWidth&&!w?h.elt.videoWidth:h.elt.width,Z/=parseInt(h.elt.style.width,10)),$*=Z,q*=Z,ee*=Z,Y*=Z,G=u(M,N,D,(G=c.default.modeAdjust(b,v,V,z,this._renderer._imageMode)).x,G.y,G.w,G.h,$,q,Y,ee),this._renderer.image(h,G.sx,G.sy,G.sw,G.sh,G.dx,G.dy,G.dw,G.dh)},s.default.prototype.tint=function(){for(var h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];s.default._validateParameters("tint",b);var w=this.color.apply(this,b);this._renderer._tint=w.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(h){s.default._validateParameters("imageMode",arguments),h!==p.CORNER&&h!==p.CORNERS&&h!==p.CENTER||(this._renderer._imageMode=h)},t=s.default,y.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=s(t("../core/main")),f=s(t("./filters"));function s(p){return p&&p.__esModule?p:{default:p}}function c(p,m){for(var n=0;n<m.length;n++){var r=m[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(p,r.key,r)}}l.default.Image=function(){function p(r,a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.width=r,this.height=a,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var m,n;return m=p,(n=[{key:"pixelDensity",value:function(r){return r!==void 0?(r<=0&&(l.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),r=1),this._pixelDensity=r,this.width/=r,this.height/=r,this):this._pixelDensity}},{key:"_animateGif",value:function(u){var a,i=this.gifProperties,u=u._lastRealFrameTime||window.performance.now();i.lastChangeTime===0&&(i.lastChangeTime=u),i.playing&&(i.timeDisplayed=u-i.lastChangeTime,a=i.frames[i.displayIndex].delay,i.timeDisplayed>=a&&(a=Math.floor(i.timeDisplayed/a),i.timeDisplayed=0,i.lastChangeTime=u,i.displayIndex+=a,i.loopCount=Math.floor(i.displayIndex/i.numFrames),i.loopLimit!==null&&i.loopCount>=i.loopLimit?i.playing=!1:(u=i.displayIndex%i.numFrames,this.drawingContext.putImageData(i.frames[u].image,0,0),i.displayIndex=u,this.setModified(!0))))}},{key:"_setProperty",value:function(r,a){this[r]=a,this.setModified(!0)}},{key:"loadPixels",value:function(){l.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(r,a,i,u){l.default.Renderer2D.prototype.updatePixels.call(this,r,a,i,u),this.setModified(!0)}},{key:"get",value:function(r,a,i,u){return l.default._validateParameters("p5.Image.get",arguments),l.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return l.default.Renderer2D.prototype._getPixel.apply(this,a)}},{key:"set",value:function(r,a,i){l.default.Renderer2D.prototype.set.call(this,r,a,i),this.setModified(!0)}},{key:"resize",value:function(r,a){r===0&&a===0?(r=this.canvas.width,a=this.canvas.height):r===0?r=this.canvas.width*a/this.canvas.height:a===0&&(a=this.canvas.height*r/this.canvas.width),r=Math.floor(r),a=Math.floor(a);var i=document.createElement("canvas");if(i.width=r,i.height=a,this.gifProperties)for(var u=this.gifProperties,d=0;d<u.numFrames;d++){for(var h=this.drawingContext.createImageData(r,a),b=(T=T=k=E=w=void 0,u.frames[d].image),v=h,w=0,E=0;E<v.height;E++)for(var k=0;k<v.width;k++){var T=Math.floor(k*b.width/v.width),T=4*(Math.floor(E*b.height/v.height)*b.width+T);v.data[w++]=b.data[T++],v.data[w++]=b.data[T++],v.data[w++]=b.data[T++],v.data[w++]=b.data[+T]}u.frames[d].image=h}i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=r,this.canvas.height=this.height=a,this.drawingContext.drawImage(i,0,0,r,a,0,0,r,a),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];l.default.prototype.copy.apply(this,a)}},{key:"mask",value:function(r){var a=this.drawingContext.globalCompositeOperation,i=this._pixelDensity,u=1,d=[r=r===void 0?this:r,0,0,(u=r instanceof l.default.Renderer?r._pInst._pixelDensity:u)*r.width,u*r.height,0,0,i*this.width,i*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var h=0;h<this.gifProperties.frames.length;h++)this.drawingContext.putImageData(this.gifProperties.frames[h].image,0,0),this.copy.apply(this,d),this.gifProperties.frames[h].image=this.drawingContext.getImageData(0,0,i*this.width,i*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,d);this.drawingContext.globalCompositeOperation=a,this.setModified(!0)}},{key:"filter",value:function(r,a){f.default.apply(this.canvas,f.default[r],a),this.setModified(!0)}},{key:"blend",value:function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];l.default._validateParameters("p5.Image.blend",arguments),l.default.prototype.blend.apply(this,a),this.setModified(!0)}},{key:"setModified",value:function(r){this._modified=r}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(r,a){this.gifProperties?l.default.prototype.encodeAndDownloadGif(this,r):l.default.prototype.saveCanvas(this.canvas,r,a)}},{key:"reset",value:function(){var r;this.gifProperties&&((r=this.gifProperties).playing=!0,r.timeSinceStart=0,r.timeDisplayed=0,r.lastChangeTime=0,r.loopCount=0,r.displayIndex=0,this.drawingContext.putImageData(r.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var r;if(this.gifProperties)return(r=this.gifProperties).displayIndex%r.numFrames}},{key:"setFrame",value:function(r){var a;this.gifProperties&&(r<(a=this.gifProperties).numFrames&&0<=r?(a.timeDisplayed=0,a.lastChangeTime=0,a.displayIndex=r,this.drawingContext.putImageData(a.frames[r].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(r,a){if(this.gifProperties){var i=this.gifProperties;if(a<i.numFrames&&0<=a)i.frames[a].delay=r;else{var u=!0,a=!1,d=void 0;try{for(var h,b=i.frames[Symbol.iterator]();!(u=(h=b.next()).done);u=!0)h.value.delay=r}catch(w){a=!0,d=w}finally{try{u||b.return==null||b.return()}finally{if(a)throw d}}}}}}])&&c(m.prototype,n),p}(),t=l.default.Image,y.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,_,y){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=s(t("../core/main")),f=s(t("./filters"));function s(c){return c&&c.__esModule?c:{default:c}}t("../color/p5.Color"),l.default.prototype.pixels=[],l.default.prototype.blend=function(){for(var c,p=arguments.length,m=new Array(p),n=0;n<p;n++)m[n]=arguments[n];l.default._validateParameters("blend",m),this._renderer?(c=this._renderer).blend.apply(c,m):l.default.Renderer2D.prototype.blend.apply(this,m)},l.default.prototype.copy=function(){for(var c,p,m,n,r,a,i,u,d,h=arguments.length,b=new Array(h),v=0;v<h;v++)b[v]=arguments[v];if(l.default._validateParameters("copy",b),b.length===9)c=b[0],p=b[1],m=b[2],n=b[3],r=b[4],a=b[5],i=b[6],u=b[7],d=b[8];else{if(b.length!==8)throw new Error("Signature not supported");c=this,p=b[0],m=b[1],n=b[2],r=b[3],a=b[4],i=b[5],u=b[6],d=b[7]}l.default.prototype._copyHelper(this,c,p,m,n,r,a,i,u,d)},l.default.prototype._copyHelper=function(c,p,m,n,r,a,i,u,d,h){var b=p.canvas.width/p.width,v=0,w=0;p._renderer&&p._renderer.isP3D&&(v=p.width/2,w=p.height/2),c._renderer&&c._renderer.isP3D?(c.push(),c.resetMatrix(),c.noLights(),c.blendMode(c.BLEND),c.imageMode(c.CORNER),l.default.RendererGL.prototype.image.call(c._renderer,p,m+v,n+w,r,a,i,u,d,h),c.pop()):c.drawingContext.drawImage(p.canvas,b*(m+v),b*(n+w),b*r,b*a,i,u,d,h)},l.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},l.default.prototype.filter=function(){for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];l.default._validateParameters("filter",p);var i=(function(){var u,d={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof l.default.Shader?d.shader=arguments.length<=0?void 0:arguments[0]:(d.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(d.value=arguments.length<=1?void 0:arguments[1]),((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])===!1&&(d.useWebGL=!1)),d}).apply(void 0,p),n=i.shader,r=i.operation,a=i.value,i=i.useWebGL;this._renderer.isP3D&&n?l.default.RendererGL.prototype.filter.call(this._renderer,n):i||this._renderer.isP3D?(!i&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?l.default.RendererGL.prototype.filter.call(this._renderer,r,a):((n=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),n.filter.apply(n,p),this.copy(n._renderer,0,0,this.width,this.height,0,0,this.width,this.height),n.clear())):this.canvas!==void 0?f.default.apply(this.canvas,f.default[r],a):f.default.apply(this.elt,f.default[r],a)},l.default.prototype.get=function(c,p,m,n){var r;return l.default._validateParameters("get",arguments),(r=this._renderer).get.apply(r,arguments)},l.default.prototype.loadPixels=function(){for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];l.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},l.default.prototype.set=function(c,p,m){this._renderer.set(c,p,m)},l.default.prototype.updatePixels=function(c,p,m,n){l.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,p,m,n)},t=l.default,y.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,_,y){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=p(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),p(t("fetch-jsonp"))),c=p(t("file-saver"));function p(a){return a&&a.__esModule?a:{default:a}}function m(a){return(m=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(a)}function n(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function r(a,i){i&&i!==!0&&i!=="true"||(i="");var u="";return(a=a||"untitled")&&a.includes(".")&&(u=a.split(".").pop()),i&&u!==i&&(u=i,a="".concat(a,".").concat(u)),[a,u]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),f.default.prototype.loadJSON=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];f.default._validateParameters("loadJSON",i);for(var d,h,b,v=i[0],w={},E="json",k=1;k<i.length;k++){var T=i[k];typeof T=="string"?T!=="jsonp"&&T!=="json"||(E=T):typeof T=="function"?d?h=T:d=T:m(T)==="object"&&(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))&&(E="jsonp",b=T)}var L=this;return this.httpDo(v,"GET",b,E,function(R){for(var M in R)w[M]=R[M];d!==void 0&&d(R),L._decrementPreload()},function(R){if(f.default._friendlyFileLoadError(5,v),!h)throw R;h(R)}),w},f.default.prototype.loadStrings=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];f.default._validateParameters("loadStrings",i);for(var d,h,b=[],v=1;v<i.length;v++){var w=i[v];typeof w=="function"&&(d===void 0?d=w:h===void 0&&(h=w))}var E=this;return f.default.prototype.httpDo.call(this,i[0],"GET","text",function(k){for(var T=k.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),L=0,R=T.length;L<R;L+=32768)Array.prototype.push.apply(b,T.slice(L,Math.min(L+32768,R)));d!==void 0&&d(b),E._decrementPreload()},function(k){if(f.default._friendlyFileLoadError(3,k),!h)throw k;h(k)}),b},f.default.prototype.loadTable=function(a){var i,u,d,h=!1,b=a.substring(a.lastIndexOf(".")+1,a.length);b==="csv"?d=",":b==="ssv"?d=";":b==="tsv"&&(d="	");for(var v=1;v<arguments.length;v++)typeof arguments[v]=="function"?i===void 0?i=arguments[v]:u===void 0&&(u=arguments[v]):typeof arguments[v]=="string"&&(arguments[v]==="header"&&(h=!0),arguments[v]==="csv"?d=",":arguments[v]==="ssv"?d=";":arguments[v]==="tsv"&&(d="	"));var w=new f.default.Table,E=this;return this.httpDo(a,"GET","table",function(k){for(var T,L,R={},M=0,N=[],D=0,G=null,V=function(){R.currentState=M,R.token=""},z=function(){G.push(R.token),V()},$=function(){R.currentState=4,N.push(G),G=null};;){if((T=k[D++])==null){if(R.escaped)throw new Error("Unclosed quote in file.");if(G){z(),$();break}}if(G===null&&(R.escaped=!1,G=[],V()),R.currentState===M){if(T==='"'){R.escaped=!0,R.currentState=1;continue}R.currentState=1}if(R.currentState===1&&R.escaped)if(T==='"')k[D]==='"'?(R.token+='"',D++):(R.escaped=!1,R.currentState=2);else{if(T==="\r")continue;R.token+=T}else T==="\r"?(k[D]===`
`&&D++,z(),$()):T===`
`?(z(),$()):T===d?z():R.currentState===1&&(R.token+=T)}if(h)w.columns=N.shift();else for(var q=0;q<N[0].length;q++)w.columns[q]="null";for(var Y=0;Y<N.length;Y++)(N[Y].length!==1||N[Y][0]!=="undefined"&&N[Y][0]!=="")&&((L=new f.default.TableRow).arr=N[Y],L.obj=function(ee,Z){if((Z=Z||[])===void 0)for(var se=0;se<ee.length;se++)Z[se.toString()]=se;return Object.fromEntries(Z.map(function(P,B){return[P,ee[B]]}))}(N[Y],w.columns),w.addRow(L));typeof i=="function"&&i(w),E._decrementPreload()},function(k){f.default._friendlyFileLoadError(2,a),u?u(k):console.error(k)}),w},f.default.prototype.loadXML=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];for(var d,h,b=new f.default.XML,v=1;v<i.length;v++){var w=i[v];typeof w=="function"&&(d===void 0?d=w:h===void 0&&(h=w))}var E=this;return this.httpDo(i[0],"GET","xml",function(k){for(var T in k)b[T]=k[T];d!==void 0&&d(b),E._decrementPreload()},function(k){if(f.default._friendlyFileLoadError(1,k),!h)throw k;h(k)}),b},f.default.prototype.loadBytes=function(a,i,u){var d={},h=this;return this.httpDo(a,"GET","arrayBuffer",function(b){d.bytes=new Uint8Array(b),typeof i=="function"&&i(d),h._decrementPreload()},function(b){if(f.default._friendlyFileLoadError(6,a),!u)throw b;u(b)}),d},f.default.prototype.httpGet=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return f.default._validateParameters("httpGet",i),i.splice(1,0,"GET"),f.default.prototype.httpDo.apply(this,i)},f.default.prototype.httpPost=function(){for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return f.default._validateParameters("httpPost",i),i.splice(1,0,"POST"),f.default.prototype.httpDo.apply(this,i)},f.default.prototype.httpDo=function(){for(var a,i,u,d={},h=0,b="text/plain",v=arguments.length-1;0<v&&typeof(v<0||arguments.length<=v?void 0:arguments[v])=="function";v--)h++;var w=arguments.length-h,E=arguments.length<=0?void 0:arguments[0];if(w==2&&typeof E=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")N=new Request(E,arguments.length<=1?void 0:arguments[1]),i=arguments.length<=2?void 0:arguments[2],u=arguments.length<=3?void 0:arguments[3];else{for(var k,T="GET",L=1;L<arguments.length;L++){var R=L<0||arguments.length<=L?void 0:arguments[L];if(typeof R=="string")R==="GET"||R==="POST"||R==="PUT"||R==="DELETE"?T=R:R==="json"||R==="jsonp"||R==="binary"||R==="arrayBuffer"||R==="xml"||R==="text"||R==="table"?a=R:k=R;else if(typeof R=="number")k=R.toString();else if(m(R)==="object")if(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))for(var M in R)d[M]=R[M];else b=R instanceof f.default.XML?(k=R.serialize(),"application/xml"):(k=JSON.stringify(R),"application/json");else typeof R=="function"&&(i?u=R:i=R)}var w=T==="GET"?new Headers:new Headers({"Content-Type":b}),N=new Request(E,{method:T,mode:"cors",body:k,headers:w})}return(w=(w=(a=a||(E.includes("json")?"json":E.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(E,d):fetch(N)).then(function(D){if(!D.ok)throw(G=new Error(D.body)).status=D.status,G.ok=!1,G;var G=0;switch((G=a!=="jsonp"?D.headers.get("content-length"):G)&&64e6<G&&f.default._friendlyFileLoadError(7,E),a){case"json":case"jsonp":return D.json();case"binary":return D.blob();case"arrayBuffer":return D.arrayBuffer();case"xml":return D.text().then(function(V){return V=new DOMParser().parseFromString(V,"text/xml"),new f.default.XML(V.documentElement)});default:return D.text()}})).then(i||function(){}),w.catch(u||console.error),w},window.URL=window.URL||window.webkitURL,f.default.prototype._pWriters=[],f.default.prototype.createWriter=function(a,i){var u,d;for(d in f.default.prototype._pWriters)if(f.default.prototype._pWriters[d].name===a)return u=new f.default.PrintWriter(a+this.millis(),i),f.default.prototype._pWriters.push(u),u;return u=new f.default.PrintWriter(a,i),f.default.prototype._pWriters.push(u),u},f.default.PrintWriter=function(a,i){var u=this;this.name=a,this.content="",this.write=function(d){this.content+=d},this.print=function(d){this.content+="".concat(d,`
`)},this.clear=function(){this.content=""},this.close=function(){var d,h=[];for(d in h.push(this.content),f.default.prototype.writeFile(h,a,i),f.default.prototype._pWriters)f.default.prototype._pWriters[d].name===this.name&&f.default.prototype._pWriters.splice(d,1);u.clear(),u={}}},f.default.prototype.save=function(a,i,u){var d=arguments,h=(this._curElement||this).elt;if(d.length===0)f.default.prototype.saveCanvas(h);else if(d[0]instanceof f.default.Renderer||d[0]instanceof f.default.Graphics)f.default.prototype.saveCanvas(d[0].elt,d[1],d[2]);else if(d.length===1&&typeof d[0]=="string")f.default.prototype.saveCanvas(h,d[0]);else switch(r(d[1],d[2])[1]){case"json":return void f.default.prototype.saveJSON(d[0],d[1],d[2]);case"txt":return void f.default.prototype.saveStrings(d[0],d[1],d[2]);default:d[0]instanceof Array?f.default.prototype.saveStrings(d[0],d[1],d[2]):d[0]instanceof f.default.Table?f.default.prototype.saveTable(d[0],d[1],d[2]):d[0]instanceof f.default.Image?f.default.prototype.saveCanvas(d[0].canvas,d[1]):d[0]instanceof f.default.SoundFile&&f.default.prototype.saveSound(d[0],d[1],d[2],d[3])}},f.default.prototype.saveJSON=function(a,i,u){f.default._validateParameters("saveJSON",arguments),u=u?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(u.split(`
`),i,"json")},f.default.prototype.saveJSONObject=f.default.prototype.saveJSON,f.default.prototype.saveJSONArray=f.default.prototype.saveJSON,f.default.prototype.saveStrings=function(a,i,u,d){f.default._validateParameters("saveStrings",arguments);for(var h=this.createWriter(i,u||"txt"),b=0;b<a.length;b++)d?h.write(a[b]+`\r
`):h.write(a[b]+`
`);h.close(),h.clear()},f.default.prototype.saveTable=function(a,i,u){f.default._validateParameters("saveTable",arguments),d=u===void 0?i.substring(i.lastIndexOf(".")+1,i.length):u;var d,h=this.createWriter(i,d),b=a.columns,v=d==="tsv"?"	":",";if(d!=="html"){if(b[0]!=="0"){for(var w=0;w<b.length;w++)w<b.length-1?h.write(b[w]+v):h.write(b[w]);h.write(`
`)}for(var E=0;E<a.rows.length;E++){for(var k=void 0,k=0;k<a.rows[E].arr.length;k++)k<a.rows[E].arr.length-1?d==="csv"&&String(a.rows[E].arr[k]).includes(",")?h.write('"'+a.rows[E].arr[k]+'"'+v):h.write(a.rows[E].arr[k]+v):d==="csv"&&String(a.rows[E].arr[k]).includes(",")?h.write('"'+a.rows[E].arr[k]+'"'):h.write(a.rows[E].arr[k]);h.write(`
`)}}else{if(h.print("<html>"),h.print("<head>"),h.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),h.print("</head>"),h.print("<body>"),h.print("  <table>"),b[0]!=="0"){h.print("    <tr>");for(var T=0;T<b.length;T++){var L=n(b[T]);h.print("      <td>".concat(L)),h.print("      </td>")}h.print("    </tr>")}for(var R=0;R<a.rows.length;R++){h.print("    <tr>");for(var M=0;M<a.columns.length;M++){var N=n(a.rows[R].getString(M));h.print("      <td>".concat(N)),h.print("      </td>")}h.print("    </tr>")}h.print("  </table>"),h.print("</body>"),h.print("</html>")}h.close(),h.clear()},f.default.prototype.writeFile=function(h,i,u){var d="application/octet-stream",h=(f.default.prototype._isSafari()&&(d="text/plain"),new Blob(h,{type:d}));f.default.prototype.downloadFile(h,i,u)},f.default.prototype.downloadFile=function(a,h,b){var d,h=r(h,b),b=h[0];a instanceof Blob?c.default.saveAs(a,b):((d=document.createElement("a")).href=a,d.download=b,d.onclick=function(v){document.body.removeChild(v.target),v.stopPropagation()},d.style.display="none",document.body.appendChild(d),f.default.prototype._isSafari()&&(a=(a=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(h[1],'"'),alert(a)),d.click())},f.default.prototype._checkFileExtension=r,f.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=f.default,y.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,_,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}l.default.Table=function(){function s(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this,r=s;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=m}var c,p;return c=s,(p=[{key:"addRow",value:function(m){if(m=m||new l.default.TableRow,m.arr===void 0||m.obj===void 0)throw new Error("invalid TableRow: ".concat(m));return(m.table=this).rows.push(m),m}},{key:"removeRow",value:function(m){this.rows[m].table=null,m=this.rows.splice(m+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(m)}},{key:"getRow",value:function(m){return this.rows[m]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(m,n){if(typeof n=="string"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[n]===m)return this.rows[r]}else for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[n]===m)return this.rows[a];return null}},{key:"findRows",value:function(m,n){var r=[];if(typeof n=="string")for(var a=0;a<this.rows.length;a++)this.rows[a].obj[n]===m&&r.push(this.rows[a]);else for(var i=0;i<this.rows.length;i++)this.rows[i].arr[n]===m&&r.push(this.rows[i]);return r}},{key:"matchRow",value:function(m,n){if(typeof n=="number"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[n].match(m))return this.rows[r]}else for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[n].match(m))return this.rows[a];return null}},{key:"matchRows",value:function(m,n){var r=[];if(typeof n=="number")for(var a=0;a<this.rows.length;a++)this.rows[a].arr[n].match(m)&&r.push(this.rows[a]);else for(var i=0;i<this.rows.length;i++)this.rows[i].obj[n].match(m)&&r.push(this.rows[i]);return r}},{key:"getColumn",value:function(m){var n=[];if(typeof m=="string")for(var r=0;r<this.rows.length;r++)n.push(this.rows[r].obj[m]);else for(var a=0;a<this.rows.length;a++)n.push(this.rows[a].arr[m]);return n}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(m){this.columns.push(m||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(m,n){for(var r=[],a=0;a<m.length;a++)r.push(m.charAt(a).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(r.join("|"),"g");if(n===void 0)for(var u=0;u<this.columns.length;u++)for(var d=0;d<this.rows.length;d++){var h=(h=this.rows[d].arr[u]).replace(i,"");this.rows[d].arr[u]=h,this.rows[d].obj[this.columns[u]]=h}else if(typeof n=="string")for(var b=0;b<this.rows.length;b++){var v=(v=this.rows[b].obj[n]).replace(i,""),w=(this.rows[b].obj[n]=v,this.columns.indexOf(n));this.rows[b].arr[w]=v}else for(var E=0;E<this.rows.length;E++){var k=(k=this.rows[E].arr[n]).replace(i,"");this.rows[E].arr[n]=k,this.rows[E].obj[this.columns[n]]=k}}},{key:"trim",value:function(m){var n=new RegExp(" ","g");if(m===void 0)for(var r=0;r<this.columns.length;r++)for(var a=0;a<this.rows.length;a++){var i=(i=this.rows[a].arr[r]).replace(n,"");this.rows[a].arr[r]=i,this.rows[a].obj[this.columns[r]]=i}else if(typeof m=="string")for(var u=0;u<this.rows.length;u++){var d=(d=this.rows[u].obj[m]).replace(n,""),h=(this.rows[u].obj[m]=d,this.columns.indexOf(m));this.rows[u].arr[h]=d}else for(var b=0;b<this.rows.length;b++){var v=(v=this.rows[b].arr[m]).replace(n,"");this.rows[b].arr[m]=v,this.rows[b].obj[this.columns[m]]=v}}},{key:"removeColumn",value:function(a){typeof a=="string"?r=this.columns.indexOf(n=a):n=this.columns[r=a];var n,r,a=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(a);for(var i=0;i<this.rows.length;i++){var u=this.rows[i].arr,d=u.splice(r+1,u.length);u.pop(),this.rows[i].arr=u.concat(d),delete this.rows[i].obj[n]}}},{key:"set",value:function(m,n,r){this.rows[m].set(n,r)}},{key:"setNum",value:function(m,n,r){this.rows[m].setNum(n,r)}},{key:"setString",value:function(m,n,r){this.rows[m].setString(n,r)}},{key:"get",value:function(m,n){return this.rows[m].get(n)}},{key:"getNum",value:function(m,n){return this.rows[m].getNum(n)}},{key:"getString",value:function(m,n){return this.rows[m].getString(n)}},{key:"getObject",value:function(m){for(var n,r={},a=0;a<this.rows.length;a++)if(n=this.rows[a].obj,typeof m=="string"){if(!(0<=this.columns.indexOf(m)))throw new Error('This table has no column named "'.concat(m,'"'));r[n[m]]=n}else r[a]=this.rows[a].obj;return r}},{key:"getArray",value:function(){for(var m=[],n=0;n<this.rows.length;n++)m.push(this.rows[n].arr);return m}}])&&f(c.prototype,p),s}(),t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,_,y){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(f,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}t.default.TableRow=function(){function f(p,m){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var n=[];p&&(n=p.split(m=m||",")),this.arr=n,this.obj=Object.fromEntries(n.entries()),this.table=null}var s,c;return s=f,(c=[{key:"set",value:function(p,m){if(typeof p=="string"){var n=this.table.columns.indexOf(p);if(!(0<=n))throw new Error('This table has no column named "'.concat(p,'"'));this.obj[p]=m,this.arr[n]=m}else{if(!(p<this.table.columns.length))throw new Error("Column #".concat(p," is out of the range of this table"));this.arr[p]=m,n=this.table.columns[p],this.obj[n]=m}}},{key:"setNum",value:function(p,m){m=parseFloat(m),this.set(p,m)}},{key:"setString",value:function(p,m){m=m.toString(),this.set(p,m)}},{key:"get",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p]}},{key:"getNum",value:function(p){var m=parseFloat(typeof p=="string"?this.obj[p]:this.arr[p]);if(m.toString()==="NaN")throw"Error: ".concat(this.obj[p]," is NaN (Not a Number)");return m}},{key:"getString",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p].toString()}}])&&l(s.prototype,c),f}(),t=t.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c,p){for(var m=0;m<p.length;m++){var n=p[m];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function s(c){for(var p=[],m=0;m<c.length;m++)p.push(new l.default.XML(c[m]));return p}l.default.XML=function(){function c(n){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");n?this.DOM=n:(n=document.implementation.createDocument(null,"doc"),this.DOM=n.createElement("root"))}var p,m;return p=c,(m=[{key:"getParent",value:function(){return new l.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(n){var r=this.DOM.innerHTML,a=this.DOM.attributes,i=document.implementation.createDocument(null,"default").createElement(n);i.innerHTML=r;for(var u=0;u<a.length;u++)i.setAttribute(a[u].nodeName,a[u].nodeValue);this.DOM=i}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var n=[],r=0;r<this.DOM.childNodes.length;r++)n.push(this.DOM.childNodes[r].nodeName);return n}},{key:"getChildren",value:function(n){return s(n?this.DOM.getElementsByTagName(n):this.DOM.children)}},{key:"getChild",value:function(n){if(typeof n!="string")return new l.default.XML(this.DOM.children[n]);var r=!0,a=!1,i=void 0;try{for(var u,d=this.DOM.children[Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var h=u.value;if(h.tagName===n)return new l.default.XML(h)}}catch(b){a=!0,i=b}finally{try{r||d.return==null||d.return()}finally{if(a)throw i}}}},{key:"addChild",value:function(n){n instanceof l.default.XML&&this.DOM.appendChild(n.DOM)}},{key:"removeChild",value:function(n){var r=-1;if(typeof n=="string"){for(var a=0;a<this.DOM.children.length;a++)if(this.DOM.children[a].tagName===n){r=a;break}}else r=n;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var n=[],r=!0,a=!1,i=void 0;try{for(var u,d=this.DOM.attributes[Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var h=u.value;n.push(h.nodeName)}}catch(b){a=!0,i=b}finally{try{r||d.return==null||d.return()}finally{if(a)throw i}}return n}},{key:"hasAttribute",value:function(n){var r={},a=!0,i=!1,u=void 0;try{for(var d,h=this.DOM.attributes[Symbol.iterator]();!(a=(d=h.next()).done);a=!0){var b=d.value;r[b.nodeName]=b.nodeValue}}catch(v){i=!0,u=v}finally{try{a||h.return==null||h.return()}finally{if(i)throw u}}return!!r[n]}},{key:"getNum",value:function(n,r){var a={},i=!0,u=!1,d=void 0;try{for(var h,b=this.DOM.attributes[Symbol.iterator]();!(i=(h=b.next()).done);i=!0){var v=h.value;a[v.nodeName]=v.nodeValue}}catch(w){u=!0,d=w}finally{try{i||b.return==null||b.return()}finally{if(u)throw d}}return Number(a[n])||r||0}},{key:"getString",value:function(n,r){var a={},i=!0,u=!1,d=void 0;try{for(var h,b=this.DOM.attributes[Symbol.iterator]();!(i=(h=b.next()).done);i=!0){var v=h.value;a[v.nodeName]=v.nodeValue}}catch(w){u=!0,d=w}finally{try{i||b.return==null||b.return()}finally{if(u)throw d}}return a[n]?String(a[n]):r||null}},{key:"setAttribute",value:function(n,r){this.DOM.setAttribute(n,r)}},{key:"getContent",value:function(n){var r=this.DOM.textContent;return(r=r.replace(/\s\s+/g,","))||n||null}},{key:"setContent",value:function(n){this.DOM.children.length||(this.DOM.textContent=n)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&f(p.prototype,m),c}(),t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s){return function(c){if(Array.isArray(c)){for(var p=0,m=new Array(c.length);p<c.length;p++)m[p]=c[p];return m}}(s)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.abs=Math.abs,l.default.prototype.ceil=Math.ceil,l.default.prototype.constrain=function(s,c,p){return l.default._validateParameters("constrain",arguments),Math.max(Math.min(s,p),c)},l.default.prototype.dist=function(){for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return l.default._validateParameters("dist",c),c.length===4?Math.hypot(c[2]-c[0],c[3]-c[1]):c.length===6?Math.hypot(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},l.default.prototype.exp=Math.exp,l.default.prototype.floor=Math.floor,l.default.prototype.lerp=function(s,c,p){return l.default._validateParameters("lerp",arguments),p*(c-s)+s},l.default.prototype.log=Math.log,l.default.prototype.mag=function(s,c){return l.default._validateParameters("mag",arguments),Math.hypot(s,c)},l.default.prototype.map=function(s,c,p,m,n,r){return l.default._validateParameters("map",arguments),s=(s-c)/(p-c)*(n-m)+m,r?m<n?this.constrain(s,m,n):this.constrain(s,n,m):s},l.default.prototype.max=function(){for(var s=function(n){return Math.max.apply(Math,f(n))},c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return Array.isArray(p[0])?s(p[0]):s(p)},l.default.prototype.min=function(){for(var s=function(n){return Math.min.apply(Math,f(n))},c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return Array.isArray(p[0])?s(p[0]):s(p)},l.default.prototype.norm=function(s,c,p){return l.default._validateParameters("norm",arguments),this.map(s,c,p,0,1)},l.default.prototype.pow=Math.pow,l.default.prototype.round=function(s,c){return c?(c=Math.pow(10,c),Math.round(s*c)/c):Math.round(s)},l.default.prototype.sq=function(s){return s*s},l.default.prototype.sqrt=Math.sqrt,l.default.prototype.fract=function(m){l.default._validateParameters("fract",arguments);var c,p=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,p=1),String(m).includes(".")&&!String(m).includes("e")?(c=String(m),c=+("0"+c.slice(c.indexOf("."))),Math.abs(p-c)):m<1?Math.abs(p-m):0)},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,_,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c,p,m){return(f=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(n,r,a){var i=[null];return i.push.apply(i,r),r=new(Function.bind.apply(n,i)),a&&s(r,a.prototype),r}).apply(null,arguments)}function s(c,p){return(s=Object.setPrototypeOf||function(m,n){return m.__proto__=n,m})(c,p)}l.default.prototype.createVector=function(c,p,m){return this instanceof l.default?f(l.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new l.default.Vector(c,p,m)},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(m,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function l(n){return .5*(1-Math.cos(n*Math.PI))}var f,s=4095,c=4,p=.5,m=(m.default.prototype.noise=function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(f==null){f=new Array(4096);for(var i=0;i<4096;i++)f[i]=Math.random()}n<0&&(n=-n),r<0&&(r=-r),a<0&&(a=-a);for(var u,d,h=Math.floor(n),b=Math.floor(r),v=Math.floor(a),w=n-h,E=r-b,k=a-v,T=0,L=.5,R=0;R<c;R++){var M=h+(b<<4)+(v<<8),N=l(w),D=l(E),G=f[M&s];G+=N*(f[M+1&s]-G),u=f[M+16&s],G+=D*((u+=N*(f[M+16+1&s]-u))-G),u=f[(M+=256)&s],u+=N*(f[M+1&s]-u),d=f[M+16&s],u+=D*((d+=N*(f[M+16+1&s]-d))-u),T+=(G+=l(k)*(u-G))*L,L*=p,h<<=1,b<<=1,v<<=1,1<=(w*=2)&&(h++,w--),1<=(E*=2)&&(b++,E--),1<=(k*=2)&&(v++,k--)}return T},m.default.prototype.noiseDetail=function(n,r){0<n&&(c=n),0<r&&(p=r)},m.default.prototype.noiseSeed=function(n){i=4294967296;var r,a,i,u={setSeed:function(h){a=r=(h??Math.random()*i)>>>0},getSeed:function(){return r},rand:function(){return(a=(1664525*a+1013904223)%i)/i}};u.setSeed(n),f=new Array(4096);for(var d=0;d<4096;d++)f[d]=u.rand()},m.default);y.default=m},{"../core/main":283}],316:[function(t,_,y){function l(r){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function f(r){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},c=function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var a=p();if(a&&a.has(r))return a.get(r);var i,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var h;Object.prototype.hasOwnProperty.call(r,i)&&((h=d?Object.getOwnPropertyDescriptor(r,i):null)&&(h.get||h.set)?Object.defineProperty(u,i,h):u[i]=r[i])}return u.default=r,a&&a.set(r,u),u}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}function m(r,a){for(var i=0;i<a.length;i++){var u=a[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}s.default.Vector=function(){function r(){var v=this,d=r;if(!(v instanceof d))throw new TypeError("Cannot call a class as a function");var h,b,v=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],h=(arguments.length<=2?void 0:arguments[2])||0,b=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(h=(arguments.length<=0?void 0:arguments[0])||0,b=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=h,this.y=b,this.z=v}var a,i,u;return a=r,u=[{key:"fromAngle",value:function(d){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new s.default.Vector(h*Math.cos(d),h*Math.sin(d),0)}},{key:"fromAngles",value:function(k,w){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,v=Math.cos(w),w=Math.sin(w),E=Math.cos(k),k=Math.sin(k);return new s.default.Vector(b*k*w,-b*E,b*k*v)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*c.TWO_PI)}},{key:"random3D",value:function(){var d=Math.random()*c.TWO_PI,h=2*Math.random()-1,v=Math.sqrt(1-h*h),b=v*Math.cos(d),v=v*Math.sin(d);return new s.default.Vector(b,v,h)}},{key:"copy",value:function(d){return d.copy(d)}},{key:"add",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return E?E.set(v):(E=v.copy(),h.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),E.add(w),E}},{key:"rem",value:function(d,h){if(d instanceof s.default.Vector&&h instanceof s.default.Vector)return(d=d.copy()).rem(h),d}},{key:"sub",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return E?E.set(v):(E=v.copy(),h.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),E.sub(w),E}},{key:"mult",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return E?E.set(v):(E=v.copy(),h.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),E.mult(w),E}},{key:"rotate",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return h.length===2?E=v.copy():(E instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),E.set(v)),E.rotate(w),E}},{key:"div",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return E?E.set(v):(E=v.copy(),h.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),E.div(w),E}},{key:"dot",value:function(d,h){return d.dot(h)}},{key:"cross",value:function(d,h){return d.cross(h)}},{key:"dist",value:function(d,h){return d.dist(h)}},{key:"lerp",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2],k=h[3];return k?k.set(v):(k=v.copy(),h.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),k.lerp(w,E),k}},{key:"slerp",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2],k=h[3];return k?k.set(v):(k=v.copy(),h.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),k.slerp(w,E),k}},{key:"mag",value:function(d){return d.mag()}},{key:"magSq",value:function(d){return d.magSq()}},{key:"normalize",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1];return h.length<2?w=v.copy():(w instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),w.set(v)),w.normalize()}},{key:"limit",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return h.length<3?E=v.copy():(E instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),E.set(v)),E.limit(w)}},{key:"setMag",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return h.length<3?E=v.copy():(E instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),E.set(v)),E.setMag(w)}},{key:"heading",value:function(d){return d.heading()}},{key:"angleBetween",value:function(d,h){return d.angleBetween(h)}},{key:"reflect",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];return h.length<3?E=v.copy():(E instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),E.set(v)),E.reflect(w)}},{key:"array",value:function(d){return d.array()}},{key:"equals",value:function(d,h){var b;return d instanceof s.default.Vector?b=d:Array.isArray(d)?b=new s.default.Vector().set(d):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),b.equals(h)}}],(i=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(d,h,b){return d instanceof s.default.Vector?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):Array.isArray(d)?(this.x=d[0]||0,this.y=d[1]||0,this.z=d[2]||0):(this.x=d||0,this.y=h||0,this.z=b||0),this}},{key:"copy",value:function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(d,h,b){return d instanceof s.default.Vector?(this.x+=d.x||0,this.y+=d.y||0,this.z+=d.z||0):Array.isArray(d)?(this.x+=d[0]||0,this.y+=d[1]||0,this.z+=d[2]||0):(this.x+=d||0,this.y+=h||0,this.z+=b||0),this}},{key:"calculateRemainder2D",value:function(d,h){return d!==0&&(this.x=this.x%d),h!==0&&(this.y=this.y%h),this}},{key:"calculateRemainder3D",value:function(d,h,b){return d!==0&&(this.x=this.x%d),h!==0&&(this.y=this.y%h),b!==0&&(this.z=this.z%b),this}},{key:"rem",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v,w,E,k=h[0],T=h[1],L=h[2];if(k instanceof s.default.Vector){if([k.x,k.y,k.z].every(Number.isFinite))return v=parseFloat(k.x),w=parseFloat(k.y),E=parseFloat(k.z),this.calculateRemainder3D(v,w,E)}else if(Array.isArray(k)){if(k.every(Number.isFinite))return k.length===2?this.calculateRemainder2D(k[0],k[1]):k.length===3?this.calculateRemainder3D(k[0],k[1],k[2]):void 0}else if(h.length===1){if(Number.isFinite(k)&&k!==0)return this.x=this.x%k,this.y=this.y%k,this.z=this.z%k,this}else if(h.length===2){if(h.every(Number.isFinite))return this.calculateRemainder2D(k,T)}else if(h.length===3&&h.every(Number.isFinite))return this.calculateRemainder3D(k,T,L)}},{key:"sub",value:function(d,h,b){return d instanceof s.default.Vector?(this.x-=d.x||0,this.y-=d.y||0,this.z-=d.z||0):Array.isArray(d)?(this.x-=d[0]||0,this.y-=d[1]||0,this.z-=d[2]||0):(this.x-=d||0,this.y-=h||0,this.z-=b||0),this}},{key:"mult",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v,w=h[0],E=h[1],k=h[2];return w instanceof s.default.Vector?Number.isFinite(w.x)&&Number.isFinite(w.y)&&Number.isFinite(w.z)&&typeof w.x=="number"&&typeof w.y=="number"&&typeof w.z=="number"?(this.x*=w.x,this.y*=w.y,this.z*=w.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(w)?w.every(function(T){return Number.isFinite(T)})&&w.every(function(T){return typeof T=="number"})?w.length===1?(this.x*=w[0],this.y*=w[0],this.z*=w[0]):w.length===2?(this.x*=w[0],this.y*=w[1]):w.length===3&&(this.x*=w[0],this.y*=w[1],this.z*=w[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(v=h).every(function(T){return Number.isFinite(T)})&&v.every(function(T){return typeof T=="number"})?(h.length===1&&(this.x*=w,this.y*=w,this.z*=w),h.length===2&&(this.x*=w,this.y*=E),h.length===3&&(this.x*=w,this.y*=E,this.z*=k)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var d=arguments.length,h=new Array(d),b=0;b<d;b++)h[b]=arguments[b];var v=h[0],w=h[1],E=h[2];if(v instanceof s.default.Vector)if(Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"){var k=v.z===0&&this.z===0;if(v.x===0||v.y===0||!k&&v.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=v.x,this.y/=v.y,k||(this.z/=v.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(v))if(v.every(Number.isFinite)&&v.every(function(T){return typeof T=="number"})){if(v.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1?(this.x/=v[0],this.y/=v[0],this.z/=v[0]):v.length===2?(this.x/=v[0],this.y/=v[1]):v.length===3&&(this.x/=v[0],this.y/=v[1],this.z/=v[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(h.every(Number.isFinite)&&h.every(function(T){return typeof T=="number"})){if(h.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;h.length===1&&(this.x/=v,this.y/=v,this.z/=v),h.length===2&&(this.x/=v,this.y/=w),h.length===3&&(this.x/=v,this.y/=w,this.z/=E)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var d=this.x,h=this.y,b=this.z;return d*d+h*h+b*b}},{key:"dot",value:function(d,h,b){return d instanceof s.default.Vector?this.dot(d.x,d.y,d.z):this.x*(d||0)+this.y*(h||0)+this.z*(b||0)}},{key:"cross",value:function(v){var h=this.y*v.z-this.z*v.y,b=this.z*v.x-this.x*v.z,v=this.x*v.y-this.y*v.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,h,b,v):new s.default.Vector(h,b,v)}},{key:"dist",value:function(d){return d.copy().sub(this).mag()}},{key:"normalize",value:function(){var d=this.mag();return d!==0&&this.mult(1/d),this}},{key:"limit",value:function(d){var h=this.magSq();return d*d<h&&this.div(Math.sqrt(h)).mult(d),this}},{key:"setMag",value:function(d){return this.normalize().mult(d)}},{key:"heading",value:function(){var d=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(d):d}},{key:"setHeading",value:function(d){this.isPInst&&(d=this._toRadians(d));var h=this.mag();return this.x=h*Math.cos(d),this.y=h*Math.sin(d),this}},{key:"rotate",value:function(h){var h=this.heading()+h,b=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*b,this.y=Math.sin(h)*b,this}},{key:"angleBetween",value:function(d){var h;return this.magSq()*d.magSq()==0?NaN:(h=this.cross(d),d=Math.atan2(h.mag(),this.dot(d))*Math.sign(h.z||1),this.isPInst?this._fromRadians(d):d)}},{key:"lerp",value:function(d,h,b,v){return d instanceof s.default.Vector?this.lerp(d.x,d.y,d.z,h):(this.x+=(d-this.x)*v||0,this.y+=(h-this.y)*v||0,this.z+=(b-this.z)*v||0,this)}},{key:"slerp",value:function(d,h){if(h!==0){if(h===1)return this.set(d);var b=this.mag(),v=d.mag();if(b*v==0)this.mult(1-h).add(d.x*h,d.y*h,d.z*h);else{var w=this.cross(d),E=w.mag(),k=Math.atan2(E,this.dot(d));if(0<E)w.x/=E,w.y/=E,w.z/=E;else{if(k<.5*Math.PI)return this.mult(1-h).add(d.x*h,d.y*h,d.z*h),this;this.z===0&&d.z===0?w.set(0,0,1):this.x!==0?w.set(this.y,-this.x,0).normalize():w.set(1,0,0)}E=w.cross(this),d=1-h+h*v/b,w=d*Math.cos(h*k),v=d*Math.sin(h*k),this.x=this.x*w+E.x*v,this.y=this.y*w+E.y*v,this.z=this.z*w+E.z*v}}return this}},{key:"reflect",value:function(d){return d=s.default.Vector.normalize(d),this.sub(d.mult(2*this.dot(d)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(E,h,b){var v,w,E=E instanceof s.default.Vector?(v=E.x||0,w=E.y||0,E.z||0):Array.isArray(E)?(v=E[0]||0,w=E[1]||0,E[2]||0):(v=E||0,w=h||0,b||0);return this.x===v&&this.y===w&&this.z===E}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(d){return Math.abs(+(d||0))<=Number.EPSILON?0:d}}])&&m(a.prototype,i),u&&m(a,u),r}();var n=s.default.Vector;y.default=n},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(p,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(p=p("../core/main"))&&p.__esModule?p:{default:p},f="_lcg_random_state",s=4294967296,c=0,p=(l.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%s,this[m]/s},l.default.prototype._lcgSetSeed=function(m,n){this[m]=(n??Math.random()*s)>>>0},l.default.prototype.randomSeed=function(m){this._lcgSetSeed(f,m),this._gaussian_previous=!1},l.default.prototype.random=function(m,n){var r,a;return l.default._validateParameters("random",arguments),r=this[f]!=null?this._lcg(f):Math.random(),m===void 0?r:n===void 0?Array.isArray(m)?m[Math.floor(r*m.length)]:r*m:(n<m&&(a=m,m=n,n=a),r*(n-m)+m)},l.default.prototype.randomGaussian=function(m){var n,r,a,i,u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=c,this._gaussian_previous=!1;else{for(;1<=(i=(r=this.random(2)-1)*r+(a=this.random(2)-1)*a););n=r*(i=Math.sqrt(-2*Math.log(i)/i)),c=a*i,this._gaussian_previous=!0}return n*u+(m||0)},l.default);y.default=p},{"../core/main":283}],318:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},c=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../core/constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}s.default.prototype._angleMode=c.RADIANS,s.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},s.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},s.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},s.default.prototype.atan2=function(n,r){return this._fromRadians(Math.atan2(n,r))},s.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},s.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},s.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},s.default.prototype.degrees=function(n){return n*c.RAD_TO_DEG},s.default.prototype.radians=function(n){return n*c.DEG_TO_RAD},s.default.prototype.angleMode=function(n){if(s.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==c.DEGREES&&n!==c.RADIANS||n!==this._angleMode&&(n===c.RADIANS?(this._setProperty("pRotationX",this.pRotationX*c.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*c.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*c.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*c.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*c.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*c.RAD_TO_DEG)),this._angleMode=n)},s.default.prototype._toRadians=function(n){return this._angleMode===c.DEGREES?n*c.DEG_TO_RAD:n},s.default.prototype._toDegrees=function(n){return this._angleMode===c.RADIANS?n*c.RAD_TO_DEG:n},s.default.prototype._fromRadians=function(n){return this._angleMode===c.DEGREES?n*c.RAD_TO_DEG:n},s.default.prototype._fromDegrees=function(n){return this._angleMode===c.RADIANS?n*c.DEG_TO_RAD:n};var m=s.default;y.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,_,y){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.textAlign=function(f,s){var c;return l.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},l.default.prototype.textLeading=function(f){var s;return l.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},l.default.prototype.textSize=function(f){var s;return l.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},l.default.prototype.textStyle=function(f){var s;return l.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},l.default.prototype.textWidth=function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];if(s[0]+="",l.default._validateParameters("textWidth",s),s[0].length===0)return 0;for(var p=s[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),m=[],n=0;n<p.length;n++)m.push(this._renderer.textWidth(p[n]));return Math.max.apply(Math,m)},l.default.prototype.textAscent=function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];return l.default._validateParameters("textAscent",s),this._renderer.textAscent()},l.default.prototype.textDescent=function(){for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];return l.default._validateParameters("textDescent",s),this._renderer.textDescent()},l.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},l.default.prototype.textWrap=function(f){return l.default._validateParameters("textWrap",[f]),this._renderer.textWrap(f)},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,_,y){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},c=n(t("../core/constants")),p=n(t("opentype.js"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function n(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=m();if(i&&i.has(a))return i.get(a);var u,d,h={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&((d=b?Object.getOwnPropertyDescriptor(a,u):null)&&(d.get||d.set)?Object.defineProperty(h,u,d):h[u]=a[u]);return h.default=a,i&&i.set(a,h),h}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(a,i,u){s.default._validateParameters("loadFont",arguments);var d=new s.default.Font(this),h=this;return p.load(a,function(w,E){if(w)return s.default._friendlyFileLoadError(4,a),u!==void 0?u(w):void console.error(w,a);d.font=E,i!==void 0&&i(d),h._decrementPreload();var w=a.split("\\").pop().split("/").pop(),E=w.lastIndexOf("."),k=E<1?null:w.slice(E+1);["ttf","otf","woff","woff2"].includes(k)&&(k=w.slice(0,E!==-1?E:0),(w=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(k,`;
src: url(`).concat(a,`);
}
`))),document.head.appendChild(w))}),d},s.default.prototype.text=function(a,i,u,d,h){var b;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},s.default.prototype.textFont=function(a,i){if(s.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),i&&(this._renderer._setProperty("_textSize",i),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",i*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var r=s.default;y.default=r},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,_,y){function l(T){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(T)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=(f=t("../core/main"))&&f.__esModule?f:{default:f},s=function(T){if(T&&T.__esModule)return T;if(T===null||p(T)!=="object"&&typeof T!="function")return{default:T};var L=c();if(L&&L.has(T))return L.get(T);var R,M={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in T){var D;Object.prototype.hasOwnProperty.call(T,R)&&((D=N?Object.getOwnPropertyDescriptor(T,R):null)&&(D.get||D.set)?Object.defineProperty(M,R,D):M[R]=T[R])}return M.default=T,L&&L.set(T,M),M}(t("../core/constants"));function c(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,c=function(){return T},T)}function p(T){return(p=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(L){return l(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":l(L)})(T)}function m(T,L){for(var R=0;R<L.length;R++){var M=L[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}function n(T,L){var R=T.length;return T[L<0?L%R+R:L%R]}function r(T,L,R,M){var N,D,G;return M?(r.tmpPoint1===void 0&&(r.tmpPoint1=[],r.tmpPoint2=[]),D=r.tmpPoint1,G=r.tmpPoint2,D.x=L.x-T.x,D.y=L.y-T.y,G.x=R.x-L.x,G.y=R.y-L.y,N=D.x*G.x+D.y*G.y,D=Math.sqrt(D.x*D.x+D.y*D.y),G=Math.sqrt(G.x*G.x+G.y*G.y),Math.acos(N/(D*G))<M):(L[0]-T[0])*(R[1]-T[1])-(R[0]-T[0])*(L[1]-T[1])==0}function a(B,K,W,ne,oe,D,G,V,z){var $=1-z,Y=Math.pow($,3),ee=Math.pow($,2),P=z*z,Z=P*z,q=Y*B+3*ee*z*W+3*$*z*z*oe+Z*G,Y=Y*K+3*ee*z*ne+3*$*z*z*D+Z*V,ee=B+2*z*(W-B)+P*(oe-2*W+B),Z=K+2*z*(ne-K)+P*(D-2*ne+K),se=W+2*z*(oe-W)+P*(G-2*oe+W),P=ne+2*z*(D-ne)+P*(V-2*D+ne),B=$*B+z*W,W=$*K+z*ne,K=$*oe+z*G,ne=$*D+z*V,oe=90-180*Math.atan2(ee-se,Z-P)/Math.PI;return(se<ee||Z<P)&&(oe+=180),{x:q,y:Y,m:{x:ee,y:Z},n:{x:se,y:P},start:{x:B,y:W},end:{x:K,y:ne},alpha:oe}}function i(T,L,R,M,N,D,G,V,z){return z==null?E(T,L,R,M,N,D,G,V):a(T,L,R,M,N,D,G,V,function($,q,Y,ee,Z,se,P,B,W){if(!(W<0||E($,q,Y,ee,Z,se,P,B)<W)){var K,ne=.5,oe=1-ne;for(K=E($,q,Y,ee,Z,se,P,B,oe);.01<Math.abs(K-W);)K=E($,q,Y,ee,Z,se,P,B,oe+=(K<W?1:-1)*(ne/=2));return oe}}(T,L,R,M,N,D,G,V,z))}function u(T,L,R){for(var M,N,D,G,V,z=0,$=0,q=(T=function(Y,ee){function Z(Se,Te,Re){var Ye,Fe;if(!Se)return["C",Te.x,Te.y,Te.x,Te.y,Te.x,Te.y];switch(Se[0]in{T:1,Q:1}||(Te.qx=Te.qy=null),Se[0]){case"M":Te.X=Se[1],Te.Y=Se[2];break;case"A":Se=["C"].concat(h.apply(0,[Te.x,Te.y].concat(Se.slice(1))));break;case"S":Fe=Re==="C"||Re==="S"?(Ye=2*Te.x-Te.bx,2*Te.y-Te.by):(Ye=Te.x,Te.y),Se=["C",Ye,Fe].concat(Se.slice(1));break;case"T":Re==="Q"||Re==="T"?(Te.qx=2*Te.x-Te.qx,Te.qy=2*Te.y-Te.qy):(Te.qx=Te.x,Te.qy=Te.y),Se=["C"].concat(w(Te.x,Te.y,Te.qx,Te.qy,Se[1],Se[2]));break;case"Q":Te.qx=Se[1],Te.qy=Se[2],Se=["C"].concat(w(Te.x,Te.y,Se[1],Se[2],Se[3],Se[4]));break;case"L":Se=["C"].concat(v(Te.x,Te.y,Se[1],Se[2]));break;case"H":Se=["C"].concat(v(Te.x,Te.y,Se[1],Te.y));break;case"V":Se=["C"].concat(v(Te.x,Te.y,Te.x,Se[1]));break;case"Z":Se=["C"].concat(v(Te.x,Te.y,Te.X,Te.Y))}return Se}function se(Se,Te){if(7<Se[Te].length){Se[Te].shift();for(var Re=Se[Te];Re.length;)fe[Te]="A",K&&(ge[Te]="A"),Se.splice(Te++,0,["C"].concat(Re.splice(0,6)));Se.splice(Te,1),B=Math.max(W.length,K&&K.length||0)}}function P(Se,Te,Re,Ye,Fe){Se&&Te&&Se[Fe][0]==="M"&&Te[Fe][0]!=="M"&&(Te.splice(Fe,0,["M",Ye.x,Ye.y]),Re.bx=0,Re.by=0,Re.x=Se[Fe][1],Re.y=Se[Fe][2],B=Math.max(W.length,K&&K.length||0))}var B,W=d(Y),K=ee&&d(ee),ne={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},fe=[],ge=[],de="",ye="";B=Math.max(W.length,K&&K.length||0);for(var be=0;be<B;be++){(de=W[be]?W[be][0]:de)!=="C"&&(fe[be]=de,be&&(ye=fe[be-1])),W[be]=Z(W[be],ne,ye),fe[be]!=="A"&&de==="C"&&(fe[be]="C"),se(W,be),K&&((de=K[be]?K[be][0]:de)!=="C"&&(ge[be]=de,be&&(ye=ge[be-1])),K[be]=Z(K[be],oe,ye),ge[be]!=="A"&&de==="C"&&(ge[be]="C"),se(K,be)),P(W,K,ne,oe,be),P(K,W,oe,ne,be);var ae=W[be],ve=K&&K[be],_e=ae.length,Me=K&&ve.length;ne.x=ae[_e-2],ne.y=ae[_e-1],ne.bx=parseFloat(ae[_e-4])||ne.x,ne.by=parseFloat(ae[_e-3])||ne.y,oe.bx=K&&(parseFloat(ve[Me-4])||oe.x),oe.by=K&&(parseFloat(ve[Me-3])||oe.y),oe.x=K&&ve[Me-2],oe.y=K&&ve[Me-1]}return K?[W,K]:W}(T)).length;$<q;$++){if((D=T[$])[0]==="M")M=+D[1],N=+D[2];else{if(L<z+(G=i(M,N,D[1],D[2],D[3],D[4],D[5],D[6]))&&!R)return{x:(V=i(M,N,D[1],D[2],D[3],D[4],D[5],D[6],L-z)).x,y:V.y,alpha:V.alpha};z+=G,M=+D[5],N=+D[6]}D.shift()}return V=(V=R?z:a(M,N,D[0],D[1],D[2],D[3],D[4],D[5],1)).alpha?{x:V.x,y:V.y,alpha:V.alpha}:V}function d(T){var L=[],R=0,M=0,N=0,D=0,G=0;if(T){T[0][0]==="M"&&(N=R=+T[0][1],D=M=+T[0][2],G++,L[0]=["M",R,M]);for(var V,z,$=T.length===3&&T[0][0]==="M"&&T[1][0].toUpperCase()==="R"&&T[2][0].toUpperCase()==="Z",q=G,Y=T.length;q<Y;q++){if(L.push(V=[]),(z=T[q])[0]!==z[0].toUpperCase())switch(V[0]=z[0].toUpperCase(),V[0]){case"A":V[1]=z[1],V[2]=z[2],V[3]=z[3],V[4]=z[4],V[5]=z[5],V[6]=+(z[6]+R),V[7]=+(z[7]+M);break;case"V":V[1]=+z[1]+M;break;case"H":V[1]=+z[1]+R;break;case"R":for(var ee,Z=2,se=(ee=[R,M].concat(z.slice(1))).length;Z<se;Z++)ee[Z]=+ee[Z]+R,ee[++Z]=+ee[Z]+M;L.pop(),L=L.concat(b(ee,$));break;case"M":N=+z[1]+R,D=+z[2]+M;break;default:for(var P=1,B=z.length;P<B;P++)V[P]=+z[P]+(P%2?R:M)}else if(z[0]==="R")ee=[R,M].concat(z.slice(1)),L.pop(),L=L.concat(b(ee,$)),V=["R"].concat(z.slice(-2));else for(var W=0,K=z.length;W<K;W++)V[W]=z[W];switch(V[0]){case"Z":R=N,M=D;break;case"H":R=V[1];break;case"V":M=V[1];break;case"M":N=V[V.length-2],D=V[V.length-1];break;default:R=V[V.length-2],M=V[V.length-1]}}}return L}function h(T,L,R,M,K,fe,ne,V,z,$){function q(Me,Se,Te){return{x:Me*Math.cos(Te)-Se*Math.sin(Te),y:Me*Math.sin(Te)+Se*Math.cos(Te)}}var Y,B=Math.PI,W=120*B/180,ee=B/180*(+K||0),Z=[],se=($?(be=$[0],Y=$[1],de=$[2],ye=$[3]):(T=(oe=q(T,L,-ee)).x,L=oe.y,1<(se=(P=(T-(V=(oe=q(V,z,-ee)).x))/2)*P/(R*R)+(oe=(L-(z=oe.y))/2)*oe/(M*M))&&(R*=se=Math.sqrt(se),M*=se),se=R*R,ge=M*M,de=(fe=(fe===ne?-1:1)*Math.sqrt(Math.abs((se*ge-se*oe*oe-ge*P*P)/(se*oe*oe+ge*P*P))))*R*oe/M+(T+V)/2,ye=fe*-M*P/R+(L+z)/2,be=Math.asin(((L-ye)/M).toFixed(9)),Y=Math.asin(((z-ye)/M).toFixed(9)),(be=T<de?B-be:be)<0&&(be=2*B+be),(Y=V<de?B-Y:Y)<0&&(Y=2*B+Y),ne&&Y<be&&(be-=2*B),!ne&&be<Y&&(Y-=2*B)),Y-be),P=(Math.abs(se)>W&&(ge=Y,oe=V,fe=z,Y=be+W*(ne&&be<Y?1:-1),Z=h(V=de+R*Math.cos(Y),z=ye+M*Math.sin(Y),R,M,K,0,ne,oe,fe,[Y,ge,de,ye])),se=Y-be,Math.cos(be)),B=Math.sin(be),W=Math.cos(Y),K=Math.sin(Y),ne=Math.tan(se/4),oe=4/3*R*ne,fe=4/3*M*ne,ge=[T,L],de=[T+oe*B,L-fe*P],ye=[V+oe*K,z-fe*W],be=[V,z];if(de[0]=2*ge[0]-de[0],de[1]=2*ge[1]-de[1],$)return[de,ye,be].concat(Z);for(var ae=[],ve=0,_e=(Z=[de,ye,be].concat(Z).join().split(",")).length;ve<_e;ve++)ae[ve]=ve%2?q(Z[ve-1],Z[ve],ee).y:q(Z[ve],Z[ve+1],ee).x;return ae}function b(T,L){for(var R=[],M=0,N=T.length;M<N-2*!L;M+=2){var D=[{x:+T[M-2],y:+T[M-1]},{x:+T[M],y:+T[M+1]},{x:+T[M+2],y:+T[M+3]},{x:+T[M+4],y:+T[M+5]}];L?M?N-4===M?D[3]={x:+T[0],y:+T[1]}:N-2===M&&(D[2]={x:+T[0],y:+T[1]},D[3]={x:+T[2],y:+T[3]}):D[0]={x:+T[N-2],y:+T[N-1]}:N-4===M?D[3]=D[2]:M||(D[0]={x:+T[M],y:+T[M+1]}),R.push(["C",(-D[0].x+6*D[1].x+D[2].x)/6,(-D[0].y+6*D[1].y+D[2].y)/6,(D[1].x+6*D[2].x-D[3].x)/6,(D[1].y+6*D[2].y-D[3].y)/6,D[2].x,D[2].y])}return R}function v(T,L,R,M){return[T,L,R,M,R,M]}function w(T,L,R,M,N,D){return[1/3*T+2/3*R,1/3*L+2/3*M,1/3*N+2/3*R,1/3*D+2/3*M,N,D]}function E(T,L,R,M,N,D,G,V,z){for(var $=(z=1<(z=z??1)?1:z<0?0:z)/2,q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=0,ee=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0;Z<12;Z++){var P=$*q[Z]+$,se=k(P,T,R,N,G),P=k(P,L,M,D,V);Y+=ee[Z]*Math.sqrt(se*se+P*P)}return $*Y}function k(T,L,R,M,N){return T*(T*(-3*L+9*R-9*M+3*N)+6*L-12*R+6*M)-3*L+3*R}f.default.Font=function(){function T(M){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");this.parent=M,this.cache={},this.font=void 0}var L,R;return L=T,(R=[{key:"textBounds",value:function(M){var N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,$=3<arguments.length?arguments[3]:void 0,G=4<arguments.length?arguments[4]:void 0,V=G&&G.renderer&&G.renderer._pInst||this.parent,z=V._renderer.drawingContext,$=(z.textAlign||s.LEFT,z.textBaseline||s.BASELINE,$||V._renderer._textSize);if(!oe){for(var q=[],Y=[],ee=[],Z=(ee[0]=[],[]),se=this._scale($),P=V._renderer.textLeading(),B=0,W=(this.font.forEachGlyph(M,N,D,$,G,function(de,ye,be,ae){var ve=de.getMetrics();de.index===0?ee[B+=1]=[]:(ee[B].push(ye+ve.xMin*se),ee[B].push(ye+ve.xMax*se),Z.push(be+B*P+-ve.yMin*se),Z.push(be+B*P+-ve.yMax*se))}),0<ee[B].length&&(q[B]=Math.min.apply(null,ee[B]),Y[B]=Math.max.apply(null,ee[B])),0),K=0;K<=B;K++){q[K]=Math.min.apply(null,ee[K]),Y[K]=Math.max.apply(null,ee[K]);var ne=Y[K]-q[K];W<ne&&(W=ne)}var z=Math.min.apply(null,q),oe={x:z,y:D=Math.min.apply(null,Z),h:Math.max.apply(null,Z)-D,w:W,advance:z-N},$=this._handleAlignment(V._renderer,M,oe.x,oe.y,oe.w+oe.advance);oe.x=$.x,oe.y=$.y}return oe}},{key:"textToPoints",value:function(M,N,D,G,V){var z,$=N,q=[],Y=this.parent,ee=M.split(/\r?\n|\r|\n/g);G=G||this.parent._renderer._textSize;for(var Z,se,P,B=0;B<ee.length;B++){var W=0;N=$;for(var K=(K=ee[B]).replace("	","  "),ne=this._getGlyphs(K),oe=0;oe<ne.length;oe++){if(se=K,!((P=ne)[Z=oe].name&&P[Z].name==="space"||se.length===P.length&&se[Z]===" "))for(var fe=function(be){for(var ae,ve=[],_e=0;_e<be.length;_e++)be[_e].type==="M"&&(ae&&ve.push(ae),ae=[]),ae.push(function(Me){var Se=[Me.type];return Me.type==="M"||Me.type==="L"?Se.push(Me.x,Me.y):Me.type==="C"?Se.push(Me.x1,Me.y1,Me.x2,Me.y2,Me.x,Me.y):Me.type==="Q"&&Se.push(Me.x1,Me.y1,Me.x,Me.y),Se}(be[_e]));return ve.push(ae),ve}(ne[oe].getPath(N,D,G).commands),ge=0;ge<fe.length;ge++)for(var de=function(be,ae){for(var ae=function(Re,Ye){if(p(Re)!=="object")Re=Ye;else for(var Fe in Ye)Re[Fe]===void 0&&(Re[Fe]=Ye[Fe]);return Re}(ae,{sampleFactor:.1,simplifyThreshold:0}),ve=u(be,0,1),_e=ve/(ve*ae.sampleFactor),Me=[],Se=0;Se<ve;Se+=_e)Me.push(u(be,Se));return ae.simplifyThreshold&&function(Te){for(var Re=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Ye=0,Fe=Te.length-1;3<Te.length&&0<=Fe;--Fe)r(n(Te,Fe-1),n(Te,Fe),n(Te,Fe+1),Re)&&(Te.splice(Fe%Te.length,1),Ye++)}(Me,ae.simplifyThreshold),Me}(fe[ge],V),ye=0;ye<de.length;ye++)de[ye].x+=W,z=this._handleAlignment(Y._renderer,K,de[ye].x,de[ye].y),de[ye].x=z.x,de[ye].y=z.y,q.push(de[ye]);W+=ne[oe].advanceWidth*this._scale(G)}D+=this.parent._renderer._textLeading}return q}},{key:"_getGlyphs",value:function(M){return this.font.stringToGlyphs(M)}},{key:"_getPath",value:function(M,z,D,G){var V=(G&&G.renderer&&G.renderer._pInst||this.parent)._renderer,z=this._handleAlignment(V,M,z,D);return this.font.getPath(M,z.x,z.y,V._textSize,G)}},{key:"_getPathData",value:function(M,N,D,G){var V=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,N,D,G):p(N)==="object"&&(G=N),G&&typeof G.decimals=="number"&&(V=G.decimals),M.toPathData(V)}},{key:"_getSVG",value:function(M,N,D,G){var V=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,N,D,G):p(N)==="object"&&(G=N),G&&(typeof G.decimals=="number"&&(V=G.decimals),typeof G.strokeWidth=="number"&&(M.strokeWidth=G.strokeWidth),G.fill!==void 0&&(M.fill=G.fill),G.stroke!==void 0&&(M.stroke=G.stroke)),M.toSVG(V)}},{key:"_renderPath",value:function($,Y,ee,G){var V=G&&G.renderer||this.parent._renderer,z=V.drawingContext,$=(p($)==="object"&&$.commands?$:this._getPath($,Y,ee,G)).commands,q=(V._clipping||z.beginPath(),!0),Y=!1,ee=void 0;try{for(var Z,se=$[Symbol.iterator]();!(q=(Z=se.next()).done);q=!0){var P=Z.value;P.type==="M"?z.moveTo(P.x,P.y):P.type==="L"?z.lineTo(P.x,P.y):P.type==="C"?z.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y):P.type==="Q"?z.quadraticCurveTo(P.x1,P.y1,P.x,P.y):P.type==="Z"&&z.closePath()}}catch(B){Y=!0,ee=B}finally{try{q||se.return==null||se.return()}finally{if(Y)throw ee}}return V._doStroke&&V._strokeSet&&!V._clipping&&z.stroke(),V._doFill&&!V._clipping&&(V._fillSet||V._setFill(s._DEFAULT_TEXT_FILL),z.fill()),this}},{key:"_textWidth",value:function(M,N){return this.font.getAdvanceWidth(M,N)}},{key:"_textAscent",value:function(M){return this.font.ascender*this._scale(M)}},{key:"_textDescent",value:function(M){return-this.font.descender*this._scale(M)}},{key:"_scale",value:function(M){return 1/this.font.unitsPerEm*(M||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(M,N,D,G,V){var z=M._textSize;switch(V===void 0&&(V=this._textWidth(N,z)),M._textAlign){case s.CENTER:D-=V/2;break;case s.RIGHT:D-=V}switch(M._textBaseline){case s.TOP:G+=this._textAscent(z);break;case s.CENTER:G+=this._textAscent(z)/2;break;case s.BOTTOM:G-=this._textDescent(z)}return{x:D,y:G}}}])&&m(L.prototype,R),T}(),t=f.default,y.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,_,y){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(l,f){return l.push(f),l},t.default.prototype.arrayCopy=function(l,f,s,c,p){var m,n;l=p!==void 0?(n=Math.min(p,l.length),m=c,l.slice(f,n+f)):(n=s!==void 0?(n=s,Math.min(n,l.length)):l.length,s=f,l.slice(m=0,n)),Array.prototype.splice.apply(s,[m,n].concat(l))},t.default.prototype.concat=function(l,f){return l.concat(f)},t.default.prototype.reverse=function(l){return l.reverse()},t.default.prototype.shorten=function(l){return l.pop(),l},t.default.prototype.shuffle=function(l,f){for(var s,c,p=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l),m=(l=f||p?l:l.slice()).length;1<m;)s=this.random(0,1)*m|0,c=l[--m],l[m]=l[s],l[s]=c;return l},t.default.prototype.sort=function(l,c){var s=c?l.slice(0,Math.min(c,l.length)):l,c=c?l.slice(Math.min(c,l.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(p,m){return p-m})).concat(c)},t.default.prototype.splice=function(l,f,s){return Array.prototype.splice.apply(l,[s,0].concat(f)),l},t.default.prototype.subset=function(l,f,s){return s!==void 0?l.slice(f,f+s):l.slice(f,l.length)},t=t.default,y.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,_,y){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.float=function(f){return f instanceof Array?f.map(parseFloat):parseFloat(f)},l.default.prototype.int=function(f){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return f===1/0||f==="Infinity"?1/0:f===-1/0||f==="-Infinity"?-1/0:typeof f=="string"?parseInt(f,s):typeof f=="number"?0|f:typeof f=="boolean"?f?1:0:f instanceof Array?f.map(function(c){return l.default.prototype.int(c,s)}):void 0},l.default.prototype.str=function(f){return f instanceof Array?f.map(l.default.prototype.str):String(f)},l.default.prototype.boolean=function(f){return typeof f=="number"?f!==0:typeof f=="string"?f.toLowerCase()==="true":typeof f=="boolean"?f:f instanceof Array?f.map(l.default.prototype.boolean):void 0},l.default.prototype.byte=function(f){return f=l.default.prototype.int(f,10),typeof f=="number"?(f+128)%256-128:f instanceof Array?f.map(l.default.prototype.byte):void 0},l.default.prototype.char=function(f){return typeof f!="number"||isNaN(f)?f instanceof Array?f.map(l.default.prototype.char):typeof f=="string"?l.default.prototype.char(parseInt(f,10)):void 0:String.fromCharCode(f)},l.default.prototype.unchar=function(f){return typeof f=="string"&&f.length===1?f.charCodeAt(0):f instanceof Array?f.map(l.default.prototype.unchar):void 0},l.default.prototype.hex=function(f,s){if(s=s??8,f instanceof Array)return f.map(function(p){return l.default.prototype.hex(p,s)});if(f===1/0||f===-1/0)return(f===1/0?"F":"0").repeat(s);if(typeof f=="number"){f<0&&(f=4294967295+f+1);for(var c=Number(f).toString(16).toUpperCase();c.length<s;)c="0".concat(c);return c=c.length>=s?c.substring(c.length-s,c.length):c}},l.default.prototype.unhex=function(f){return f instanceof Array?f.map(l.default.prototype.unhex):parseInt("0x".concat(f),16)},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(n=t("../core/main"))&&n.__esModule?n:{default:n};function f(r,a){return function(i){if(Array.isArray(i))return i}(r)||function(i,u){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]"){var d=[],h=!0,b=!1,v=void 0;try{for(var w,E=i[Symbol.iterator]();!(h=(w=E.next()).done)&&(d.push(w.value),!u||d.length!==u);h=!0);}catch(k){b=!0,v=k}finally{try{h||E.return==null||E.return()}finally{if(b)throw v}}return d}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(r,a,i){var u,d=r<0,b=f((r=Math.abs(r)).toString().split("."),2),h=b[0],b=b[1];return i===void 0?(h=h.padStart(a,"0"),u=b?h+"."+b:h,d?"-"+u:u):(h=(u=f(r.toFixed(i).toString().split("."),2))[0],b=u[1],h=h.padStart(a,"0"),r=b===void 0?h:h+"."+b,d?"-"+r:r)}function c(d,a){var i=(d=d.toString()).indexOf("."),u=i!==-1?d.substring(i):"",d=(d=i!==-1?d.substring(0,i):d).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(a===0)u="";else if(a!==void 0)if(a>u.length)for(var h=a-(u+=i===-1?".":"").length+1,b=0;b<h;b++)u+="0";else u=u.substring(0,a+1);return d+u}function p(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function m(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.join=function(r,a){return l.default._validateParameters("join",arguments),r.join(a)},l.default.prototype.match=function(r,a){return l.default._validateParameters("match",arguments),r.match(a)},l.default.prototype.matchAll=function(r,a){l.default._validateParameters("matchAll",arguments);for(var i=new RegExp(a,"g"),u=i.exec(r),d=[];u!==null;)d.push(u),u=i.exec(r);return d},l.default.prototype.nf=function(r,a,i){return l.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(u){return s(u,a,i)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):s(r,a,i)},l.default.prototype.nfc=function(r,a){return l.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(i){return c(i,a)}):c(r,a)},l.default.prototype.nfp=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];l.default._validateParameters("nfp",a);var u=l.default.prototype.nf.apply(this,a);return u instanceof Array?u.map(p):p(u)},l.default.prototype.nfs=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];l.default._validateParameters("nfs",a);var u=l.default.prototype.nf.apply(this,a);return u instanceof Array?u.map(m):m(u)},l.default.prototype.split=function(r,a){return l.default._validateParameters("split",arguments),r.split(a)},l.default.prototype.splitTokens=function(r,a){var i,u;return l.default._validateParameters("splitTokens",arguments),u=a!==void 0?(u=/\]/g.exec(a=a),(i=/\[/g.exec(a))&&u?(a=a.slice(0,u.index)+a.slice(u.index+1),i=/\[/g.exec(a),a=a.slice(0,i.index)+a.slice(i.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):u?(a=a.slice(0,u.index)+a.slice(u.index+1),new RegExp("[".concat(a,"\\]]"),"g")):i?(a=a.slice(0,i.index)+a.slice(i.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,r.split(u).filter(function(d){return d})},l.default.prototype.trim=function(r){return l.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var n=l.default;y.default=n},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,y.default=t},{"../core/main":283}],326:[function(t,_,y){function l(r){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(r)}function f(r){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},c=(t("./p5.Geometry"),function(r){if(r&&r.__esModule)return r;if(r===null||f(r)!=="object"&&typeof r!="function")return{default:r};var a=p();if(a&&a.has(r))return a.get(r);var i,u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in r){var h;Object.prototype.hasOwnProperty.call(r,i)&&((h=d?Object.getOwnPropertyDescriptor(r,i):null)&&(h.get||h.set)?Object.defineProperty(u,i,h):u[i]=r[i])}return u.default=r,a&&a.set(r,u),u}(t("../core/constants")));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},s.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},s.default.prototype.buildGeometry=function(r){return this._renderer.buildGeometry(r)},s.default.prototype.freeGeometry=function(r){this._renderer._freeBuffers(r.gid)},s.default.prototype.plane=function(){var r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=(this._assert3d("plane"),s.default._validateParameters("plane",arguments),"plane|".concat(u,"|").concat(d));return this._renderer.geometryInHash(h)||((r=new s.default.Geometry(u,d,function(){for(var b,v,w=0;w<=this.detailY;w++)for(var E=w/this.detailY,k=0;k<=this.detailX;k++)b=k/this.detailX,v=new s.default.Vector(b-.5,E-.5,0),this.vertices.push(v),this.uvs.push(b,E)})).computeFaces().computeNormals(),u<=1&&d<=1?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(h,r)),this._renderer.drawBuffersScaled(h,a,i,1),this},s.default.prototype.box=function(r,a,i,u,d){this._assert3d("box"),s.default._validateParameters("box",arguments),r===void 0&&(r=50),a===void 0&&(a=r),i===void 0&&(i=a);var h,b=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,b=(d===void 0&&(d=b?1:4),"box|".concat(u=u===void 0?b?1:4:u,"|").concat(d));return this._renderer.geometryInHash(b)||((h=new s.default.Geometry(u,d,function(){var v=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(w,E){for(var E=4*E,k=0;k<4;k++){var T=w[k],T=new s.default.Vector((2*(1&T)-1)/2,((2&T)-1)/2,((4&T)/2-1)/2);v.vertices.push(T),v.uvs.push(1&k,(2&k)/2)}v.faces.push([E,1+E,2+E]),v.faces.push([2+E,1+E,3+E])})})).computeNormals(),u<=4&&d<=4?h._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(b,h)),this._renderer.drawBuffersScaled(b,r,a,i),this},s.default.prototype.sphere=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(r,r,r,a,i),this};function m(r,a,i,u,d,h,b){r=r<=0?1:r,a=a<0?0:a,i=i<=0?r:i,u=u<3?3:u;for(var v,w,E=(h=h===void 0||h)?-2:0,k=(d=d<1?1:d)+((b=b===void 0?a!==0:b)?2:0),T=Math.atan2(r-a,i),L=Math.sin(T),R=Math.cos(T),M=E;M<=k;++M){var N=M/d,D=i*N,G=void 0,G=M<0?(N=D=0,r):d<M?(D=i,N=1,a):r+(a-r)*N;for(M!==-2&&M!==d+2||(G=0),D-=i/2,v=0;v<u;++v){var V=v/(u-1),$=2*Math.PI*V,z=Math.sin($),$=Math.cos($),q=(this.vertices.push(new s.default.Vector(z*G,D,$*G)),void 0),q=M<0?new s.default.Vector(0,-1,0):d<M&&a?new s.default.Vector(0,1,0):new s.default.Vector(z*R,L,$*R);this.vertexNormals.push(q),this.uvs.push(V,N)}}var Y=0;if(h){for(w=0;w<u;++w)this.faces.push([Y+w,Y+u+(w+1)%u,Y+u+w]);Y+=2*u}for(M=0;M<d;++M){for(v=0;v<u;++v){var ee=(v+1)%u;this.faces.push([Y+v,Y+ee,Y+u+ee]),this.faces.push([Y+v,Y+u+ee,Y+u+v])}Y+=u}if(b)for(Y+=u,v=0;v<u;++v)this.faces.push([Y+v,Y+(v+1)%u,Y+u])}s.default.prototype.cylinder=function(){var r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],v=(this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),"cylinder|".concat(u,"|").concat(d,"|").concat(h,"|").concat(b));return this._renderer.geometryInHash(v)||(r=new s.default.Geometry(u,d),m.call(r,1,1,1,u,d,h,b),u<=24&&d<=16?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,r)),this._renderer.drawBuffersScaled(v,a,i,a),this},s.default.prototype.cone=function(){var r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],b=(this._assert3d("cone"),s.default._validateParameters("cone",arguments),"cone|".concat(u,"|").concat(d,"|").concat(h));return this._renderer.geometryInHash(b)||(r=new s.default.Geometry(u,d),m.call(r,1,0,1,u,d,h,!1),u<=24&&d<=16?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,r)),this._renderer.drawBuffersScaled(b,a,i,a),this},s.default.prototype.ellipsoid=function(){var r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:a,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,b=(this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(d,"|").concat(h));return this._renderer.geometryInHash(b)||((r=new s.default.Geometry(d,h,function(){for(var v=0;v<=this.detailY;v++)for(var w=v/this.detailY,E=Math.PI*w-Math.PI/2,k=Math.cos(E),T=Math.sin(E),L=0;L<=this.detailX;L++){var R=L/this.detailX,N=2*Math.PI*R,M=Math.cos(N),N=Math.sin(N),N=new s.default.Vector(k*N,T,k*M);this.vertices.push(N),this.vertexNormals.push(N),this.uvs.push(R,w)}})).computeFaces(),d<=24&&h<=24?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(b,r)),this._renderer.drawBuffersScaled(b,a,i,u),this},s.default.prototype.torus=function(r,b,i,u){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),r===void 0)r=50;else if(!r)return;if(b===void 0)b=10;else if(!b)return;i===void 0&&(i=24),u===void 0&&(u=16);var d,h=(b/r).toPrecision(4),b="torus|".concat(h,"|").concat(i,"|").concat(u);return this._renderer.geometryInHash(b)||((d=new s.default.Geometry(i,u,function(){for(var v=0;v<=this.detailY;v++)for(var w=v/this.detailY,E=2*Math.PI*w,k=Math.cos(E),T=Math.sin(E),L=1+h*k,R=0;R<=this.detailX;R++){var M=R/this.detailX,N=2*Math.PI*M,G=Math.cos(N),N=Math.sin(N),D=new s.default.Vector(L*G,L*N,h*T),G=new s.default.Vector(k*G,k*N,T);this.vertices.push(D),this.vertexNormals.push(G),this.uvs.push(M,w)}})).computeFaces(),i<=24&&u<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,d)),this._renderer.drawBuffersScaled(b,r,r,r),this},s.default.RendererGL.prototype.point=function(r,a){var i=[];return i.push(new s.default.Vector(r,a,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(i,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(b){var a=b[0],i=b[1],u=b[2],d=b[3],h=b[4],b=b[5],v=(this.geometryInHash("tri")||((v=new s.default.Geometry(1,1,function(){var k=[];k.push(new s.default.Vector(0,0,0)),k.push(new s.default.Vector(1,0,0)),k.push(new s.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=k,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),v.computeNormals(),this.createBuffers("tri",v)),this.uModelMatrix.copy());try{var w=Math.sign(a*d-u*i+u*b-h*d+h*i-a*b),E=new s.default.Matrix([u-a,d-i,0,0,h-a,b-i,0,0,0,0,w,0,a,i,0,1]).mult(this.uModelMatrix);this.uModelMatrix=E,this.drawBuffers("tri")}finally{this.uModelMatrix=v}return this},s.default.RendererGL.prototype.ellipse=function(r){this.arc(r[0],r[1],r[2],r[3],0,c.TWO_PI,c.OPEN,r[4])},s.default.RendererGL.prototype.arc=function(){var r,a=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],u=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3],h=arguments.length<=4?void 0:arguments[4],b=arguments.length<=5?void 0:arguments[5],v=arguments.length<=6?void 0:arguments[6],w=(arguments.length<=7?void 0:arguments[7])||25,E=(Math.abs(b-h)>=c.TWO_PI?"".concat(k="ellipse","|"):"".concat(k="arc","|").concat(h,"|").concat(b,"|").concat(v,"|")).concat(w,"|"),k=(this.geometryInHash(E)||((r=new s.default.Geometry(w,1,function(){if(h.toFixed(10)!==b.toFixed(10)){v!==c.PIE&&v!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var T=0;T<=w;T++){var R=(b-h)*(T/w)+h,L=.5+Math.cos(R)/2,R=.5+Math.sin(R)/2;this.vertices.push(new s.default.Vector(L,R,0)),this.uvs.push([L,R]),T<w-1&&(this.faces.push([0,T+1,T+2]),this.edges.push([T+1,T+2]))}switch(v){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case c.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case c.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),w<=50?r._edgesToVertices(r):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(k," with more than 50 detail")),this.createBuffers(E,r)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,i,0]),this.uModelMatrix.scale(u,d,1),this.drawBuffers(E)}finally{this.uModelMatrix=k}return this},s.default.RendererGL.prototype.rect=function(r){var a=r[0],i=r[1],u=r[2],d=r[3];if(r[4]===void 0){var v=this._pInst._glAttributes.perPixelLighting,h=r[4]||(v?1:24),b=r[5]||(v?1:16),v="rect|".concat(h,"|").concat(b),w=(this.geometryInHash(v)||((w=new s.default.Geometry(h,b,function(){for(var q=0;q<=this.detailY;q++)for(var Y=q/this.detailY,ee=0;ee<=this.detailX;ee++){var Z=ee/this.detailX,se=new s.default.Vector(Z,Y,0);this.vertices.push(se),this.uvs.push(Z,Y)}0<h&&0<b&&(this.edges=[[0,h],[h,(h+1)*(b+1)-1],[(h+1)*(b+1)-1,(h+1)*b],[(h+1)*b,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(v,w)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([a,i,0]),this.uModelMatrix.scale(u,d,1),this.drawBuffers(v)}finally{this.uModelMatrix=w}}else{var v=r[4],w=r[5]===void 0?v:r[5],E=r[6]===void 0?w:r[6],r=r[7]===void 0?E:r[7],N=u,k=d,R=((N+=a)<a&&(R=a,a=N,N=R),(k+=i)<i&&(R=i,i=k,k=R),Math.min((N-a)/2,(k-i)/2)),T=(R<v&&(v=R),R<w&&(w=R),R<E&&(E=R),R<r&&(r=R),a),L=i,R=N,a=k,M=(this.beginShape(),w!==0?(this.vertex(R-w,L),this.quadraticVertex(R,L,R,L+w)):this.vertex(R,L),E!==0?(this.vertex(R,a-E),this.quadraticVertex(R,a,R-E,a)):this.vertex(R,a),r!==0?(this.vertex(T+r,a),this.quadraticVertex(T,a,T,a-r)):this.vertex(T,a),v!==0?(this.vertex(T,L+v),this.quadraticVertex(T,L,T+v,L)):this.vertex(T,L),!(this.immediateMode.geometry.uvs.length=0)),i=!1,N=void 0;try{for(var D,G=this.immediateMode.geometry.vertices[Symbol.iterator]();!(M=(D=G.next()).done);M=!0){var V=D.value,z=(V.x-T)/u,$=(V.y-L)/d;this.immediateMode.geometry.uvs.push(z,$)}}catch(P){i=!0,N=P}finally{try{M||G.return==null||G.return()}finally{if(i)throw N}}this.endShape(c.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(r,a,i,u,d,h,b,v,w,E,k,T){var L=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,R=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,M="quad|".concat(r,"|").concat(a,"|").concat(i,"|").concat(u,"|").concat(d,"|").concat(h,"|").concat(b,"|").concat(v,"|").concat(w,"|").concat(E,"|").concat(k,"|").concat(T,"|").concat(L,"|").concat(R);if(!this.geometryInHash(M)){var N=new s.default.Geometry(L,R,function(){for(var ee=1/(this.detailX-1),Z=1/(this.detailY-1),se=0;se<this.detailY;se++)for(var P=0;P<this.detailX;P++){var B=P*ee,W=se*Z;this.vertices.push(new s.default.Vector((1-B)*((1-W)*r+W*E)+B*((1-W)*u+W*b),(1-B)*((1-W)*a+W*k)+B*((1-W)*d+W*v),(1-B)*((1-W)*i+W*T)+B*((1-W)*h+W*w))),this.uvs.push([B,W])}});N.faces=[];for(var D=0;D<R-1;D++)for(var G=0;G<L-1;G++){var V=G+D*L,z=G+1+(D+1)*L,$=G+(D+1)*L;N.faces.push([V,G+1+D*L,z]),N.faces.push([V,z,$])}N.computeNormals();for(var q=[N.edges.length=0,2,3,1],Y=0;Y<q.length;Y++)N.edges.push([q[Y],q[(Y+1)%q.length]]);N._edgesToVertices(),this.createBuffers(M,N)}return this.drawBuffers(M),this},s.default.RendererGL.prototype.bezier=function(r,a,i,u,d,h,b,v,w,E,k,T){arguments.length===8&&(k=v,E=b,v=h,b=d,d=u,u=i,i=h=w=T=0);var L=this._pInst._bezierDetail||20;this.beginShape();for(var R=0;R<=L;R++){var M=Math.pow(1-R/L,3),N=R/L*3*Math.pow(1-R/L,2),D=3*Math.pow(R/L,2)*(1-R/L),G=Math.pow(R/L,3);this.vertex(r*M+u*N+b*D+E*G,a*M+d*N+v*D+k*G,i*M+h*N+w*D+T*G)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(r,a,i,u,d,h,b,v,w,E,k,T){arguments.length===8&&(E=b,k=v,b=d,v=u,d=u=i,i=h=w=T=0);var L=this._pInst._curveDetail;this.beginShape();for(var R=0;R<=L;R++){var M=.5*Math.pow(R/L,3),N=.5*Math.pow(R/L,2),D=R/L*.5;this.vertex(M*(3*u-r-3*b+E)+N*(2*r-5*u+4*b-E)+D*(-r+b)+2*u*.5,M*(3*d-a-3*v+k)+N*(2*a-5*d+4*v-k)+D*(-a+v)+2*d*.5,M*(3*h-i-3*w+T)+N*(2*i-5*h+4*w-T)+D*(-i+w)+2*h*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var r,a,i,u,d,h,b=[],v=[],w=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,k=E,T=1,L=0;k<1;){if(h=parseFloat(k.toFixed(6)),this._lookUpTableBezier[L]=this._bezierCoefficients(h),T.toFixed(6)===E.toFixed(6)){h=parseFloat(T.toFixed(6))+parseFloat(k.toFixed(6)),++L,this._lookUpTableBezier[L]=this._bezierCoefficients(h);break}k+=E,T-=E,++L}}for(var R=this._lookUpTableBezier.length,M=[],N=0;N<4;N++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[3]=this.curFillColor.slice();var D=[];for(N=0;N<4;N++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[3]=this.curStrokeColor.slice(),w===6){this.isBezier=!0;var b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],v=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],G=Math.hypot(b[0]-b[1],v[0]-v[1]),z=Math.hypot(b[1]-b[2],v[1]-v[2]),V=Math.hypot(b[2]-b[3],v[2]-v[3]),z=G+z+V;for(G/=z,V/=z,d=0;d<4;d++)M[1].push(M[0][d]*(1-G)+M[3][d]*G),M[2].push(M[0][d]*V+M[3][d]*(1-V)),D[1].push(D[0][d]*(1-G)+D[3][d]*G),D[2].push(D[0][d]*V+D[3][d]*(1-V));for(u=0;u<R;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=r=a=0;N<4;N++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[u][N]*M[N][d],this.curStrokeColor[d]+=this._lookUpTableBezier[u][N]*D[N][d];r+=b[N]*this._lookUpTableBezier[u][N],a+=v[N]*this._lookUpTableBezier[u][N]}this.vertex(r,a)}this.curFillColor=M[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(w===9){this.isBezier=!0,b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],v=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var $=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],q=Math.hypot(b[0]-b[1],v[0]-v[1],$[0]-$[1]),z=Math.hypot(b[1]-b[2],v[1]-v[2],$[1]-$[2]),Y=Math.hypot(b[2]-b[3],v[2]-v[3],$[2]-$[3]),w=q+z+Y;for(q/=w,Y/=w,d=0;d<4;d++)M[1].push(M[0][d]*(1-q)+M[3][d]*q),M[2].push(M[0][d]*Y+M[3][d]*(1-Y)),D[1].push(D[0][d]*(1-q)+D[3][d]*q),D[2].push(D[0][d]*Y+D[3][d]*(1-Y));for(u=0;u<R;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=r=a=i=0;N<4;N++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[u][N]*M[N][d],this.curStrokeColor[d]+=this._lookUpTableBezier[u][N]*D[N][d];r+=b[N]*this._lookUpTableBezier[u][N],a+=v[N]*this._lookUpTableBezier[u][N],i+=$[N]*this._lookUpTableBezier[u][N]}this.vertex(r,a,i)}this.curFillColor=M[3],this.curStrokeColor=D[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var r,a,i,u,d,h,b=[],v=[],w=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var E=1/this._lutQuadraticDetail,k=E,T=1,L=0;k<1;){if(h=parseFloat(k.toFixed(6)),this._lookUpTableQuadratic[L]=this._quadraticCoefficients(h),T.toFixed(6)===E.toFixed(6)){h=parseFloat(T.toFixed(6))+parseFloat(k.toFixed(6)),++L,this._lookUpTableQuadratic[L]=this._quadraticCoefficients(h);break}k+=E,T-=E,++L}}for(var R=this._lookUpTableQuadratic.length,M=[],N=0;N<3;N++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[2]=this.curFillColor.slice();var D=[];for(N=0;N<3;N++)D.push([]);if(D[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),D[2]=this.curStrokeColor.slice(),w===4){this.isQuadratic=!0;var b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],v=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],G=Math.hypot(b[0]-b[1],v[0]-v[1]);for(G/=G+Math.hypot(b[1]-b[2],v[1]-v[2]),d=0;d<4;d++)M[1].push(M[0][d]*(1-G)+M[2][d]*G),D[1].push(D[0][d]*(1-G)+D[2][d]*G);for(u=0;u<R;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=r=a=0;N<3;N++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[u][N]*M[N][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[u][N]*D[N][d];r+=b[N]*this._lookUpTableQuadratic[u][N],a+=v[N]*this._lookUpTableQuadratic[u][N]}this.vertex(r,a)}this.curFillColor=M[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(w===6){this.isQuadratic=!0,b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],v=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var V=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(b[0]-b[1],v[0]-v[1],V[0]-V[1]);for(z/=z+Math.hypot(b[1]-b[2],v[1]-v[2],V[1]-V[2]),d=0;d<4;d++)M[1].push(M[0][d]*(1-z)+M[2][d]*z),D[1].push(D[0][d]*(1-z)+D[2][d]*z);for(u=0;u<R;u++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],N=r=a=i=0;N<3;N++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[u][N]*M[N][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[u][N]*D[N][d];r+=b[N]*this._lookUpTableQuadratic[u][N],a+=v[N]*this._lookUpTableQuadratic[u][N],i+=V[N]*this._lookUpTableQuadratic[u][N]}this.vertex(r,a,i)}this.curFillColor=M[2],this.curStrokeColor=D[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var r,a,i,u,d,h,b=[],v=[],w=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var E=1/this._lutBezierDetail,k=E,T=1,L=0;k<1;){if(h=parseFloat(k.toFixed(6)),this._lookUpTableBezier[L]=this._bezierCoefficients(h),T.toFixed(6)===E.toFixed(6)){h=parseFloat(T.toFixed(6))+parseFloat(k.toFixed(6)),++L,this._lookUpTableBezier[L]=this._bezierCoefficients(h);break}k+=E,T-=E,++L}}var R=this._lookUpTableBezier.length;if(w===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),v=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),d=0;d<R;d++)a=b[0]*this._lookUpTableBezier[d][0]+b[1]*this._lookUpTableBezier[d][1]+b[2]*this._lookUpTableBezier[d][2]+b[3]*this._lookUpTableBezier[d][3],i=v[0]*this._lookUpTableBezier[d][0]+v[1]*this._lookUpTableBezier[d][1]+v[2]*this._lookUpTableBezier[d][2]+v[3]*this._lookUpTableBezier[d][3],this.vertex(a,i);for(d=0;d<w;d++)this.immediateMode._curveVertex.shift()}}else if(w===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),v=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),r=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),d=0;d<R;d++)a=b[0]*this._lookUpTableBezier[d][0]+b[1]*this._lookUpTableBezier[d][1]+b[2]*this._lookUpTableBezier[d][2]+b[3]*this._lookUpTableBezier[d][3],i=v[0]*this._lookUpTableBezier[d][0]+v[1]*this._lookUpTableBezier[d][1]+v[2]*this._lookUpTableBezier[d][2]+v[3]*this._lookUpTableBezier[d][3],u=r[0]*this._lookUpTableBezier[d][0]+r[1]*this._lookUpTableBezier[d][1]+r[2]*this._lookUpTableBezier[d][2]+r[3]*this._lookUpTableBezier[d][3],this.vertex(a,i,u);for(d=0;d<w;d++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(r,T,i,L,d,h,b,v,w){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(r),this._pInst.textureMode(c.NORMAL);var E=0,k=(T<=r.width&&(E=T/r.width),1),T=(T+L<=r.width&&(k=(T+L)/r.width),0),L=(i<=r.height&&(T=i/r.height),1);i+d<=r.height&&(L=(i+d)/r.height),this.beginShape(),this.vertex(h,b,0,E,T),this.vertex(h+v,b,0,k,T),this.vertex(h+v,b+w,0,k,L),this.vertex(h,b+w,0,E,L),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var n=s.default;y.default=n},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,_,y){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},c=function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=p();if(i&&i.has(a))return i.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var b;Object.prototype.hasOwnProperty.call(a,u)&&((b=h?Object.getOwnPropertyDescriptor(a,u):null)&&(b.get||b.set)?Object.defineProperty(d,u,b):d[u]=a[u])}return d.default=a,i&&i.set(a,d),d}(t("../core/constants"));function p(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,p=function(){return a},a)}function m(a){return function(i){if(Array.isArray(i)){for(var u=0,d=new Array(i.length);u<i.length;u++)d[u]=i[u];return d}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(a,i){for(var u=0;u<i.length;u++){var d=i[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var r=function(){function a(d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=d)._pInst.push(),this.identityMatrix=new s.default.Matrix,d.uModelMatrix=new s.default.Matrix,this.geometry=new s.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var i,u;return i=a,(u=[{key:"transformVertices",value:function(d){var h=this;return this.hasTransform?d.map(function(b){return h.renderer.uModelMatrix.multiplyPoint(b)}):d}},{key:"transformNormals",value:function(d){var h=this;return this.hasTransform?d.map(function(b){return h.renderer.uNMatrix.multiplyVec3(b)}):d}},{key:"addGeometry",value:function(d){for(var h,b=this,v=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(E,k){return E===b.identityMatrix.mat4[k]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),w=((h=this.geometry.vertices).push.apply(h,m(this.transformVertices(d.vertices))),(h=this.geometry.vertexNormals).push.apply(h,m(this.transformNormals(d.vertexNormals))),(h=this.geometry.uvs).push.apply(h,m(d.uvs)),this.renderer._doFill&&(h=this.geometry.faces).push.apply(h,m(d.faces.map(function(E){return E.map(function(k){return k+v})}))),this.renderer._doStroke&&(h=this.geometry.edges).push.apply(h,m(d.edges.map(function(E){return E.map(function(k){return k+v})}))),m(d.vertexColors));w.length<4*d.vertices.length;)w.push.apply(w,m(this.renderer.curFillColor));(h=this.geometry.vertexColors).push.apply(h,m(w))}},{key:"addImmediate",value:function(){var d=this.renderer.immediateMode.geometry,h=this.renderer.immediateMode.shapeMode,b=[];if(this.renderer._doFill)if(h===c.TRIANGLE_STRIP||h===c.QUAD_STRIP)for(var v=2;v<d.vertices.length;v++)v%2==0?b.push([v,v-1,v-2]):b.push([v,v-2,v-1]);else if(h===c.TRIANGLE_FAN)for(var w=2;w<d.vertices.length;w++)b.push([0,w-1,w]);else for(var E=0;E<d.vertices.length;E+=3)b.push([E,E+1,E+2]);this.addGeometry(Object.assign({},d,{faces:b}))}},{key:"addRetained",value:function(d){this.addGeometry(d.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&n(i.prototype,u),a}();r.nextGeometryId=0,y.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var f=(m=t("../core/main"))&&m.__esModule?m:{default:m},s=function(n){if(n&&n.__esModule)return n;if(n===null||p(n)!=="object"&&typeof n!="function")return{default:n};var r=c();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../core/constants"));function c(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,c=function(){return n},n)}function p(n){return(p=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}f.default.prototype.orbitControl=function(n,r,a,w){var u=this,d=(this._assert3d("orbitControl"),f.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);n===void 0&&(n=1),r===void 0&&(r=n),a===void 0&&(a=1),p(w)!=="object"&&(w={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var k=w.disableTouchActions;this.touchActionsDisabled===!0||k!==void 0&&!k||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var h,b,v,k=w.freeRotation,w=k!==void 0&&k,E=[],k=(this.touches.forEach(function(G){u._renderer.prevTouches.forEach(function(V){G.id===V.id&&(V={x:G.x,y:G.y,px:V.x,py:V.y},E.push(V))})}),this._renderer.prevTouches=this.touches,0),T=0,L=0,R=0,M=0,N=this.height<this.width?this.height:this.width,D=!1;return 0<E.length?(D=0<E[0].x&&E[0].x<this.width&&0<E[0].y&&E[0].y<this.height,E.length===1?(T=-n*((h=E[0]).x-h.px)/N,L=r*(h.y-h.py)/N):(h=E[0],b=E[1],k=-(Math.hypot(h.x-b.x,h.y-b.y)-Math.hypot(h.px-b.px,h.py-b.py))*a*4e-4,R=.5*(h.x+b.x)-.5*(h.px+b.px),M=.5*(h.y+b.y)-.5*(h.py+b.py)),0<this.touches.length?D&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(D=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(k=Math.sign(this._mouseWheelDeltaY)*a,k*=.01,this._mouseWheelDeltaY=0,D&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(T=-n*this.movedX/N,L=r*this.movedY/N):this.mouseButton===this.RIGHT&&(R=this.movedX,M=this.movedY*d.yScale),D&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),k!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=k),.001<Math.abs(this._renderer.zoomVelocity)?(w?d._orbitFree(0,0,this._renderer.zoomVelocity):d._orbit(0,0,this._renderer.zoomVelocity),d.projMatrix.mat4[15]!==0&&(d.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),d.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=d.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=d.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,T===0&&L===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*T,.6*L),1e-6<this._renderer.rotateVelocity.magSq()?(w?d._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):d._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),R===0&&M===0||!this._renderer.executeRotateAndMove||(h=2*R/this.width,b=2*-M/this.height,this._renderer.moveVelocity.add(.15*h,.15*b)),1e-6<this._renderer.moveVelocity.magSq()?(a=d._getLocalAxes(),n=d.eyeX-d.centerX,r=d.eyeY-d.centerY,N=d.eyeZ-d.centerZ,D=Math.sqrt(n*n+r*r+N*N),k=new f.default.Vector(d.centerX,d.centerY,d.centerZ),k=d.cameraMatrix.multiplyPoint(k),(k=this._renderer.uPMatrix.multiplyAndNormalizePoint(k)).x-=this._renderer.moveVelocity.x,k.y-=this._renderer.moveVelocity.y,L=(T=this._renderer.uPMatrix.mat4)[15]===0?(v=(T[8]+k.x)/T[0]*D,(T[9]+k.y)/T[5]*D):(v=(k.x-T[12])/T[0],(k.y-T[13])/T[5]),d.setPosition(d.eyeX+v*a.x[0]+L*a.y[0],d.eyeY+v*a.x[1]+L*a.y[1],d.eyeZ+v*a.x[2]+L*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},f.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];f.default._validateParameters("debugMode",r);for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1);r[0]===s.GRID?this.registerMethod("post",this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===s.AXES?this.registerMethod("post",this._axesIcon(r[1],r[2],r[3],r[4])):(this.registerMethod("post",this._grid(r[0],r[1],r[2],r[3],r[4])),this.registerMethod("post",this._axesIcon(r[5],r[6],r[7],r[8])))},f.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},f.default.prototype._grid=function(n,r,a,i,u){n===void 0&&(n=this.width/2),r===void 0&&(r=Math.round(n/30)<4?4:Math.round(n/30)),a===void 0&&(a=0),i===void 0&&(i=0),u===void 0&&(u=0);var d=n/r,h=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var b=0;b<=r;b++)this.beginShape(this.LINES),this.vertex(-h+a,i,b*d-h+u),this.vertex(h+a,i,b*d-h+u),this.endShape();for(var v=0;v<=r;v++)this.beginShape(this.LINES),this.vertex(v*d-h+a,i,-h+u),this.vertex(v*d-h+a,i,h+u),this.endShape();this.pop()}},f.default.prototype._axesIcon=function(n,r,a,i){return n===void 0&&(n=40<this.width/20?this.width/20:40),r===void 0&&(r=-this.width/4),a===void 0&&(a=r),i===void 0&&(i=r),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,a,i),this.vertex(r+n,a,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,a,i),this.vertex(r,a+n,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,a,i),this.vertex(r,a,i+n),this.endShape(),this.pop()}};var m=f.default;y.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,_,y){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};l.default.prototype.ambientLight=function(f,s,c,p){this._assert3d("ambientLight"),l.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},l.default.prototype.specularColor=function(f,s,c){this._assert3d("specularColor"),l.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},l.default.prototype.directionalLight=function(f,u,i,p,m,n){this._assert3d("directionalLight"),l.default._validateParameters("directionalLight",arguments),f=f instanceof l.default.Color?f:this.color(f,u,i);var r,a,u=arguments[arguments.length-1],i=typeof u=="number"?(r=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(r=u.x,a=u.y,u.z),u=Math.sqrt(r*r+a*a+i*i);return this._renderer.directionalLightDirections.push(r/u,a/u,i/u),this._renderer.directionalLightDiffuseColors.push(f._array[0],f._array[1],f._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},l.default.prototype.pointLight=function(f,i,u,p,m,n){this._assert3d("pointLight"),l.default._validateParameters("pointLight",arguments),f=f instanceof l.default.Color?f:this.color(f,i,u);var r,a,i=arguments[arguments.length-1],u=typeof i=="number"?(r=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(r=i.x,a=i.y,i.z);return this._renderer.pointLightPositions.push(r,a,u),this._renderer.pointLightDiffuseColors.push(f._array[0],f._array[1],f._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},l.default.prototype.imageLight=function(f){this._renderer.activeImageLight=f,this._renderer._enableLighting=!0},l.default.prototype.panorama=function(f){this.filter(this._renderer._getSphereMapping(f))},l.default.prototype.lights=function(){this._assert3d("lights");var f=this.color("rgb(128,128,128)");return this.ambientLight(f),this.directionalLight(f,0,0,-1),this},l.default.prototype.lightFalloff=function(f,s,c){return this._assert3d("lightFalloff"),l.default._validateParameters("lightFalloff",arguments),f<0&&(f=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),f===0&&s===0&&c===0&&(f=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=f,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=c,this},l.default.prototype.spotLight=function(f,s,c,p,m,n,r,a,i,u,d){this._assert3d("spotLight"),l.default._validateParameters("spotLight",arguments);var h,b,v,w=arguments.length;switch(w){case 11:case 10:h=this.color(f,s,c),b=new l.default.Vector(p,m,n),v=new l.default.Vector(r,a,i);break;case 9:f instanceof l.default.Color?(h=f,b=new l.default.Vector(s,c,p),v=new l.default.Vector(m,n,r),u=a,d=i):p instanceof l.default.Vector?(h=this.color(f,s,c),b=p,v=new l.default.Vector(m,n,r),u=a,d=i):r instanceof l.default.Vector?(h=this.color(f,s,c),b=new l.default.Vector(p,m,n),v=r,u=a,d=i):(h=this.color(f,s,c),b=new l.default.Vector(p,m,n),v=new l.default.Vector(r,a,i));break;case 8:u=(v=f instanceof l.default.Color?(h=f,b=new l.default.Vector(s,c,p),new l.default.Vector(m,n,r)):p instanceof l.default.Vector?(h=this.color(f,s,c),b=p,new l.default.Vector(m,n,r)):(h=this.color(f,s,c),b=new l.default.Vector(p,m,n),r),a);break;case 7:f instanceof l.default.Color&&s instanceof l.default.Vector?(h=f,b=s,v=new l.default.Vector(c,p,m),u=n,d=r):f instanceof l.default.Color&&m instanceof l.default.Vector?(h=f,b=new l.default.Vector(s,c,p),v=m,u=n,d=r):p instanceof l.default.Vector&&m instanceof l.default.Vector?(h=this.color(f,s,c),b=p,v=m,u=n,d=r):v=f instanceof l.default.Color?(h=f,b=new l.default.Vector(s,c,p),new l.default.Vector(m,n,r)):p instanceof l.default.Vector?(h=this.color(f,s,c),b=p,new l.default.Vector(m,n,r)):(h=this.color(f,s,c),b=new l.default.Vector(p,m,n),r);break;case 6:p instanceof l.default.Vector&&m instanceof l.default.Vector?(h=this.color(f,s,c),b=p,v=m,u=n):f instanceof l.default.Color&&m instanceof l.default.Vector?(h=f,b=new l.default.Vector(s,c,p),v=m,u=n):f instanceof l.default.Color&&s instanceof l.default.Vector&&(h=f,b=s,v=new l.default.Vector(c,p,m),u=n);break;case 5:f instanceof l.default.Color&&s instanceof l.default.Vector&&c instanceof l.default.Vector?(h=f,b=s,v=c,u=p,d=m):p instanceof l.default.Vector&&m instanceof l.default.Vector?(h=this.color(f,s,c),b=p,v=m):f instanceof l.default.Color&&m instanceof l.default.Vector?(h=f,b=new l.default.Vector(s,c,p),v=m):f instanceof l.default.Color&&s instanceof l.default.Vector&&(h=f,b=s,v=new l.default.Vector(c,p,m));break;case 4:h=f,b=s,v=c,u=p;break;case 3:h=f,b=s,v=c;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(w<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(b.x,b.y,b.z),v.normalize(),this._renderer.spotLightDirections.push(v.x,v.y,v.z),u===void 0&&(u=Math.PI/3),d!==void 0&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):d===void 0&&(d=100),u=this._renderer._pInst._toRadians(u),this._renderer.spotLightAngle.push(Math.cos(u)),this._renderer.spotLightConc.push(d),this._renderer._enableLighting=!0,this},l.default.prototype.noLights=function(){this._assert3d("noLights");for(var f=arguments.length,s=new Array(f),c=0;c<f;c++)s[c]=arguments[c];return l.default._validateParameters("noLights",s),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=l.default,y.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,_,y){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("regenerator-runtime/runtime");var f=(i=t("../core/main"))&&i.__esModule?i:{default:i};function s(u){return function(d){if(Array.isArray(d)){for(var h=0,b=new Array(d.length);h<d.length;h++)b[h]=d[h];return b}}(u)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(u,d,h,b,v,w,E){try{var k=u[w](E),T=k.value}catch(L){return void h(L)}k.done?d(T):Promise.resolve(T).then(b,v)}function p(u){return function(){var d=this,h=arguments;return new Promise(function(b,v){var w=u.apply(d,h);function E(T){c(w,b,v,E,k,"next",T)}function k(T){c(w,b,v,E,k,"throw",T)}E(void 0)})}}function m(u){return(m=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(d){return l(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":l(d)})(u)}function n(u,d,h){for(var b=2<arguments.length&&h!==void 0?h:{},v={v:[],vt:[],vn:[]},w={},E=null,k=new Set,T=!1,L=!1,R=0;R<d.length;++R){var M=d[R].trim().split(/\b\s+/);if(0<M.length){if(M[0]==="usemtl")E=M[1];else if(M[0]==="v"||M[0]==="vn"){var N=new f.default.Vector(parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3]));v[M[0]].push(N)}else if(M[0]==="vt")N=[parseFloat(M[1]),1-parseFloat(M[2])],v[M[0]].push(N);else if(M[0]==="f")for(var D=3;D<M.length;++D){for(var G=[],V=[1,D-1,D],z=0;z<V.length;++z){for(var $,q=M[V[z]],Y=q.split("/"),ee=0;ee<Y.length;ee++)Y[ee]=parseInt(Y[ee])-1;w[q]||(w[q]={}),w[q][E]===void 0?($=u.vertices.length,u.vertices.push(v.v[Y[0]].copy()),u.uvs.push(v.vt[Y[1]]?v.vt[Y[1]].slice():[0,0]),u.vertexNormals.push(v.vn[Y[2]]?v.vn[Y[2]].copy():new f.default.Vector),w[q][E]=$,G.push($),E&&b[E]&&b[E].diffuseColor&&k.add(v.v[Y[0]])):G.push(w[q][E])}if(G[0]!==G[1]&&G[0]!==G[2]&&G[1]!==G[2])if(u.faces.push(G),E&&b[E]&&b[E].diffuseColor)for(var T=T=!0,Z=b[E].diffuseColor,se=0;se<G.length;se++)u.vertexColors.push(Z[0]),u.vertexColors.push(Z[1]),u.vertexColors.push(Z[2]);else L=!0}}}if(u.vertexNormals.length===0&&u.computeNormals(),T===L)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function r(u,d){if(function(be){for(var ae=new DataView(be),ve=[115,111,108,105,100],_e=0;_e<5;_e++)if(function(Me,Se,Te){for(var Re=0,Ye=Me.length;Re<Ye;Re++)if(Me[Re]!==Se.getUint8(Te+Re,!1))return;return 1}(ve,ae,_e))return;return 1}(d)){for(var h,b,v,w,E,k,T,L=u,R=new DataView(d),M=R.getUint32(80,!0),N=!1,D=0;D<70;D++)R.getUint32(D,!1)===1129270351&&R.getUint8(D+4)===82&&R.getUint8(D+5)===61&&(N=!0,w=[],E=R.getUint8(D+6)/255,k=R.getUint8(D+7)/255,T=R.getUint8(D+8)/255);for(var G=0;G<M;G++){for(var V,z=84+50*G,$=R.getFloat32(z,!0),q=R.getFloat32(4+z,!0),Y=R.getFloat32(8+z,!0),ee=(N&&(V=R.getUint16(48+z,!0),v=32768&V?(h=E,b=k,T):(h=(31&V)/31,b=(V>>5&31)/31,(V>>10&31)/31)),new f.default.Vector($,q,Y)),Z=1;Z<=3;Z++){var se=z+12*Z,se=new f.default.Vector(R.getFloat32(se,!0),R.getFloat32(4+se,!0),R.getFloat32(8+se,!0));L.vertices.push(se),L.vertexNormals.push(ee),N&&w.push(h,b,v)}L.faces.push([3*G,3*G+1,3*G+2]),L.uvs.push([0,0],[0,0],[0,0])}}else if(d=new DataView(d),"TextDecoder"in window)for(var P,B,W=u,K=new TextDecoder("utf-8").decode(d).split(`
`),ne="",oe=[],fe=0;fe<K.length;++fe){for(var ge=K[fe].trim(),de=ge.split(" "),ye=0;ye<de.length;++ye)de[ye]===""&&de.splice(ye,1);if(de.length!==0)switch(ne){case"":if(de[0]!=="solid")return console.error(ge),void console.error('Invalid state "'.concat(de[0],'", should be "solid"'));ne="solid";break;case"solid":if(de[0]!=="facet"||de[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(de[0],'", should be "facet normal"'));P=new f.default.Vector(parseFloat(de[2]),parseFloat(de[3]),parseFloat(de[4])),W.vertexNormals.push(P,P,P),ne="facet normal";break;case"facet normal":if(de[0]!=="outer"||de[1]!=="loop")return console.error(ge),void console.error('Invalid state "'.concat(de[0],'", should be "outer loop"'));ne="vertex";break;case"vertex":if(de[0]==="vertex")B=new f.default.Vector(parseFloat(de[1]),parseFloat(de[2]),parseFloat(de[3])),W.vertices.push(B),W.uvs.push([0,0]),oe.push(W.vertices.indexOf(B));else{if(de[0]!=="endloop")return console.error(ge),void console.error('Invalid state "'.concat(de[0],'", should be "vertex" or "endloop"'));W.faces.push(oe),oe=[],ne="endloop"}break;case"endloop":if(de[0]!=="endfacet")return console.error(ge),void console.error('Invalid state "'.concat(de[0],'", should be "endfacet"'));ne="endfacet";break;case"endfacet":if(de[0]!=="endsolid"){if(de[0]!=="facet"||de[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(de[0],'", should be "endsolid" or "facet normal"'));P=new f.default.Vector(parseFloat(de[2]),parseFloat(de[3]),parseFloat(de[4])),W.vertexNormals.push(P,P,P),ne="facet normal"}break;default:console.error('Invalid state "'.concat(ne,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),f.default.prototype.loadModel=function(u,d){f.default._validateParameters("loadModel",arguments);var h,b,v=!1,w=!1,E=!1,k=u.slice(-4),T=(d&&m(d)==="object"?(v=d.normalize||!1,h=d.successCallback,b=d.failureCallback,k=d.fileType||k,w=d.flipU||!1,E=d.flipV||!1):typeof d=="boolean"?(v=d,h=arguments[2],b=arguments[3],arguments[4]!==void 0&&(k=arguments[4])):(h=typeof d=="function"?d:void 0,b=arguments[2],arguments[3]!==void 0&&(k=arguments[3])),new f.default.Geometry),L=(T.gid="".concat(u,"|").concat(v),this);function R(){return(R=p(regeneratorRuntime.mark(function N(D){var G,V,z,$;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:for(G=[],V=0;V<D.length;V++)(z=D[V].match(/^mtllib (.+)/))&&function(){var Y="",ee=z[1],Z=u.split("/");Y=1<Z.length?(Z.pop(),Z.join("/")+"/"+ee):ee,G.push(function(){return M.apply(this,arguments)}(Y).then(function(se){return se?(P=L,B=Y,new Promise(function(W,K){var ne=null,oe={};P.loadStrings(B,function(fe){for(var ge=0;ge<fe.length;++ge){var de,ye=fe[ge].trim().split(/\s+/);ye[0]==="newmtl"?(de=ye[1],oe[ne=de]={}):ye[0]==="Kd"?oe[ne].diffuseColor=[parseFloat(ye[1]),parseFloat(ye[2]),parseFloat(ye[3])]:ye[0]==="Ka"?oe[ne].ambientColor=[parseFloat(ye[1]),parseFloat(ye[2]),parseFloat(ye[3])]:ye[0]==="Ks"?oe[ne].specularColor=[parseFloat(ye[1]),parseFloat(ye[2]),parseFloat(ye[3])]:ye[0]==="map_Kd"&&(oe[ne].texturePath=ye[1])}W(oe)},K)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(Y)),{});var P,B}).catch(function(se){return console.warn("Error loading MTL file: ".concat(Y),se),{}}))}();return q.prev=2,q.next=5,Promise.all(G);case 5:return $=q.sent,$=Object.assign.apply(Object,[{}].concat(s($))),q.abrupt("return",$);case 10:return q.prev=10,q.t0=q.catch(2),q.abrupt("return",{});case 13:case"end":return q.stop()}},N,null,[[2,10]])}))).apply(this,arguments)}function M(){return(M=p(regeneratorRuntime.mark(function N(D){var G;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,fetch(D,{method:"HEAD"});case 3:return G=V.sent,V.abrupt("return",G.ok);case 7:return V.prev=7,V.t0=V.catch(0),V.abrupt("return",!1);case 10:case"end":return V.stop()}},N,null,[[0,7]])}))).apply(this,arguments)}return k.match(/\.stl$/i)?this.httpDo(u,"GET","arrayBuffer",function(N){r(T,N),v&&T.normalize(),w&&T.flipU(),E&&T.flipV(),L._decrementPreload(),typeof h=="function"&&h(T)},b):k.match(/\.obj$/i)?this.loadStrings(u,function(){var N=p(regeneratorRuntime.mark(function D(G){var V;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,z.next=3,function(){return R.apply(this,arguments)}(G);case 3:V=z.sent,n(T,G,V),z.next=11;break;case 7:return z.prev=7,z.t0=z.catch(0),b?b(z.t0):f.default._friendlyError("Error during parsing: "+z.t0.message),z.abrupt("return");case 11:return z.prev=11,v&&T.normalize(),w&&T.flipU(),E&&T.flipV(),T._makeTriangleEdges(),L._decrementPreload(),typeof h=="function"&&h(T),z.finish(11);case 19:case"end":return z.stop()}},D,null,[[0,7,11,19]])}));return function(D){return N.apply(this,arguments)}}(),b):(f.default._friendlyFileLoadError(3,u),b?b():f.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},f.default.prototype.model=function(u){this._assert3d("model"),f.default._validateParameters("model",arguments),0<u.vertices.length&&(this._renderer.geometryInHash(u.gid)||(u._edgesToVertices(),this._renderer.createBuffers(u.gid,u)),this._renderer.drawBuffers(u.gid))};var a=0,i=(f.default.prototype.createModel=function(u){var d,h,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",k=2<arguments.length?arguments[2]:void 0,v=(f.default._validateParameters("createModel",arguments),!1),w=!1,E=!1,k=(k&&m(k)==="object"?(v=k.normalize||!1,d=k.successCallback,h=k.failureCallback,w=k.flipU||!1,E=k.flipV||!1):h=typeof k=="boolean"?(v=k,d=arguments[3],arguments[4]):(d=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new f.default.Geometry);if(k.gid="".concat(b,"|").concat(v,"|").concat(a++),b.match(/\.stl$/i))try{r(k,new TextEncoder().encode(u).buffer)}catch(T){return void(h?h(T):f.default._friendlyError("Error during parsing: "+T.message))}else if(b.match(/\.obj$/i))try{n(k,u.split(`
`))}catch(T){return void(h?h(T):f.default._friendlyError("Error during parsing: "+T.message))}else f.default._friendlyFileLoadError(3,u),h?h():f.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return v&&k.normalize(),w&&k.flipU(),E&&k.flipV(),k._makeTriangleEdges(),typeof d=="function"&&d(k),k},f.default);y.default=i},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},c=function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../core/constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}t("./p5.Texture"),s.default.prototype.loadShader=function(n,r,a,i){s.default._validateParameters("loadShader",arguments),i=i||console.error;function u(){h._decrementPreload(),a&&a(d)}var d=new s.default.Shader,h=this,b=!1,v=!1;return this.loadStrings(n,function(w){d._vertSrc=w.join(`
`),v=!0,b&&u()},i),this.loadStrings(r,function(w){d._fragSrc=w.join(`
`),b=!0,v&&u()},i),d},s.default.prototype.createShader=function(n,r,a){return s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,n,r,a)},s.default.prototype.createFilterShader=function(n){s.default._validateParameters("createFilterShader",arguments);var r=n.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,r=new s.default.Shader(this._renderer,r,n);return this._renderer.GL?r.ensureCompiledOnContext(this):r.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),r},s.default.prototype.shader=function(n){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),n.ensureCompiledOnContext(this),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),n.setDefaultUniforms(),this},s.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},s.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},s.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},s.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(n){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(n){n!==c.IMAGE&&n!==c.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},s.default.prototype.textureWrap=function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,a=(this._renderer.textureWrapX=n,this._renderer.textureWrapY=r,!0),i=!1,u=void 0;try{for(var d,h=this._renderer.textures.values()[Symbol.iterator]();!(a=(d=h.next()).done);a=!0)d.value.setWrapMode(n,r)}catch(b){i=!0,u=b}finally{try{a||h.return==null||h.return()}finally{if(i)throw u}}},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return s.default._validateParameters("normalMaterial",r),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(n,r,a){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var i=s.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=i._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(n,r,a,i){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var u=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=u._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.specularMaterial=function(n,r,a,i){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var u=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=u._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.shininess=function(n){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=n=n<1?1:n,this},s.default.prototype.metalness=function(n){return this._assert3d("metalness"),n=1-Math.exp(-n/100),this._renderer._useMetalness=n,this},s.default.RendererGL.prototype._applyColorBlend=function(n,u){var a=this.GL,i=this.drawMode===c.TEXTURE,u=u||this.userFillShader||this.userStrokeShader||this.userPointShader||i||this.curBlendMode!==c.BLEND||n[n.length-1]<1||this._isErasing;return u!==this._isBlending&&(u||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=u),this._applyBlendMode(),n},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case c.BLEND:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case c.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE);break;case c.REMOVE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_ALPHA);break;case c.MULTIPLY:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA);break;case c.SCREEN:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_COLOR);break;case c.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case c.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case c.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case c.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=s.default;y.default=m},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,_,y){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}l.default.prototype.camera=function(){var s;this._assert3d("camera");for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return l.default._validateParameters("camera",p),(s=this._renderer._curCamera).camera.apply(s,p),this},l.default.prototype.perspective=function(){var s;this._assert3d("perspective");for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return l.default._validateParameters("perspective",p),(s=this._renderer._curCamera).perspective.apply(s,p),this},l.default.prototype.linePerspective=function(s){if(l.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof l.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(s===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=s},l.default.prototype.ortho=function(){var s;this._assert3d("ortho");for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return l.default._validateParameters("ortho",p),(s=this._renderer._curCamera).ortho.apply(s,p),this},l.default.prototype.frustum=function(){var s;this._assert3d("frustum");for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];return l.default._validateParameters("frustum",p),(s=this._renderer._curCamera).frustum.apply(s,p),this},l.default.prototype.createCamera=function(){this._assert3d("createCamera");var s=new l.default.Camera(this._renderer);return s._computeCameraDefaultSettings(),s._setDefaultCamera(),this._renderer._curCamera=s},l.default.Camera=function(){function s(m){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=m,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new l.default.Matrix,this.projMatrix=new l.default.Matrix,this.yScale=1}var c,p;return c=s,(p=[{key:"perspective",value:function(i,n,r,a){this.cameraType=0<arguments.length?"custom":"default",i===void 0?(i=this.defaultCameraFOV,this.cameraFOV=i):this.cameraFOV=this._renderer._pInst._toRadians(i),n===void 0&&(n=this.defaultAspectRatio),r===void 0&&(r=this.defaultCameraNear),a===void 0&&(a=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),a<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=n,this.cameraNear=r,this.cameraFar=a,this.projMatrix=l.default.Matrix.identity();var i=1/Math.tan(this.cameraFOV/2),u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(i/n,0,0,0,0,-i*this.yScale,0,0,0,0,(a+r)*u,-1,0,0,2*a*r*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(k,E,r,a,i,u){var T=this.fbo||this._renderer,T=(k===void 0&&(k=-T.width/2),E===void 0&&(E=+T.width/2),r===void 0&&(r=-T.height/2),a===void 0&&(a=+T.height/2),i===void 0&&(i=0),u===void 0&&(u=Math.max(T.width,T.height)+800),this.cameraNear=i,E-k),d=a-r,h=(this.cameraFar=u)-i,b=2/T,v=2/d*this.yScale,w=-2/h,E=-(E+k)/T,k=-(a+r)/d,T=-(u+i)/h;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-v,0,0,0,0,w,0,E,k,T,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(k,E,r,a,i,u){k===void 0&&(k=.05*-this._renderer.width),E===void 0&&(E=.05*+this._renderer.width),r===void 0&&(r=.05*+this._renderer.height),a===void 0&&(a=.05*-this._renderer.height),i===void 0&&(i=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),this.cameraNear=i;var T=E-k,d=a-r,h=(this.cameraFar=u)-i,b=2*i/T,v=2*i/d*this.yScale,w=-2*u*i/h,E=(E+k)/T,k=(a+r)/d,T=-(u+i)/h;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-v,0,0,E,k,T,-1,0,0,w,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(b,n,r,a){var i=this.centerX,u=this.centerY,d=this.centerZ,h=(i-=this.eyeX,u-=this.eyeY,d-=this.eyeZ,l.default.Matrix.identity(this._renderer._pInst)),b=(h.rotate(this._renderer._pInst._toRadians(b),n,r,a),[i*h.mat4[0]+u*h.mat4[4]+d*h.mat4[8],i*h.mat4[1]+u*h.mat4[5]+d*h.mat4[9],i*h.mat4[2]+u*h.mat4[6]+d*h.mat4[10]]);b[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(r){var n=this._getLocalAxes(),r=l.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(r),n.z[0],n.z[1],n.z[2]).rotateVector(new l.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,r.x,r.y,r.z)}},{key:"pan",value:function(m){var n=this._getLocalAxes();this._rotateView(m,n.y[0],n.y[1],n.y[2])}},{key:"tilt",value:function(m){var n=this._getLocalAxes();this._rotateView(m,n.x[0],n.x[1],n.x[2])}},{key:"lookAt",value:function(m,n,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,m,n,r,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(m,n,r,a,i,u,d,h,b){return m===void 0&&(m=this.defaultEyeX,n=this.defaultEyeY,r=this.defaultEyeZ,a=m,i=n,h=1,b=d=u=0),this.eyeX=m,this.eyeY=n,this.eyeZ=r,a!==void 0&&(this.centerX=a,this.centerY=i,this.centerZ=u),d!==void 0&&(this.upX=d,this.upY=h,this.upZ=b),a=this._getLocalAxes(),this.cameraMatrix.set(a.x[0],a.y[0],a.z[0],0,a.x[1],a.y[1],a.z[1],0,a.x[2],a.y[2],a.z[2],0,0,0,0,1),i=-m,this.cameraMatrix.translate([i,-n,-r]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(a,i,r){var u=this._getLocalAxes(),a=[u.x[0]*a,u.x[1]*a,u.x[2]*a],i=[u.y[0]*i,u.y[1]*i,u.y[2]*i],u=[u.z[0]*r,u.z[1]*r,u.z[2]*r];this.camera(this.eyeX+a[0]+i[0]+u[0],this.eyeY+a[1]+i[1]+u[1],this.eyeZ+a[2]+i[2]+u[2],this.centerX+a[0]+i[0]+u[0],this.centerY+a[1]+i[1]+u[1],this.centerZ+a[2]+i[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(m,n,r){var a=m-this.eyeX,i=n-this.eyeY,u=r-this.eyeZ;this.camera(m,n,r,this.centerX+a,this.centerY+i,this.centerZ+u,this.upX,this.upY,this.upZ)}},{key:"set",value:function(m){for(var n=0,r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];n<r.length;n++){var a=r[n];this[a]=m[a]}this.cameraMatrix=m.cameraMatrix.copy(),this.projMatrix=m.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(m,n,r){var a,i,u,d,h,b,v,w,E,k,T,L,R,M,N,D,G,V;r===0?this.set(m):r===1?this.set(n):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=m.projMatrix.mat4[0]*Math.pow(n.projMatrix.mat4[0]/m.projMatrix.mat4[0],r),this.projMatrix.mat4[5]=m.projMatrix.mat4[5]*Math.pow(n.projMatrix.mat4[5]/m.projMatrix.mat4[5],r),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),d=new l.default.Vector(m.eyeX,m.eyeY,m.eyeZ),h=new l.default.Vector(n.eyeX,n.eyeY,n.eyeZ),D=new l.default.Vector(m.centerX,m.centerY,m.centerZ),V=new l.default.Vector(n.centerX,n.centerY,n.centerZ),u=l.default.Vector.dist(d,D),a=l.default.Vector.dist(h,V),a=u*Math.pow(a/u,r),u=l.default.Vector.sub(d,h),i=1,1e-6<(G=(M=d.copy().sub(h).sub(D).add(V)).magSq())&&(i=l.default.Vector.dot(u,M)/G,i=Math.max(0,Math.min(i,1))),u=l.default.Vector.lerp(l.default.Vector.lerp(d,D,i),l.default.Vector.lerp(h,V,i),r),M=m.cameraMatrix.createSubMatrix3x3(),G=n.cameraMatrix.createSubMatrix3x3(),d=M.row(2),D=G.row(2),h=M.row(1),V=G.row(1),m=new l.default.Vector,n=new l.default.Vector,b=new l.default.Vector,v=new l.default.Vector,1-(w=.5*((M=(G=G.mult3x3(M.copy().transpose3x3())).diagonal())[0]+M[1]+M[2]-1))<1e-7?(m.set(l.default.Vector.lerp(d,D,r)).normalize(),b.set(m).mult(i*a).add(u),v.set(m).mult((i-1)*a).add(u),n.set(l.default.Vector.lerp(h,V,r)).normalize()):(D=1/(1-w),V=Math.max(M[0],M[1],M[2]),L=G.mat3[1]+G.mat3[3],R=G.mat3[2]+G.mat3[6],N=G.mat3[5]+G.mat3[7],V=V===M[0]?(k=.5*L*(D/=E=Math.sqrt((M[0]-w)*D)),T=.5*R*D,.5*(G.mat3[7]-G.mat3[5])/E):V===M[1]?(T=.5*N*(D/=k=Math.sqrt((M[1]-w)*D)),E=.5*L*D,.5*(G.mat3[2]-G.mat3[6])/k):(E=.5*R*(D/=T=Math.sqrt((M[2]-w)*D)),k=.5*N*D,.5*(G.mat3[3]-G.mat3[1])/T),L=r*Math.atan2(V,w),R=Math.cos(L),M=Math.sin(L),(V=new l.default.Matrix("mat3",[R+(N=1-R)*E*E,N*(D=E*k)+M*T,N*(G=T*E)-M*k,N*D-M*T,R+N*k*k,N*(r=k*T)+M*E,N*G+M*k,N*r-M*E,R+N*T*T])).multiplyVec3(d,m),b.set(m).mult(i*a).add(u),v.set(m).mult((i-1)*a).add(u),V.multiplyVec3(h,n)),this.camera(b.x,b.y,b.z,v.x,v.y,v.z,n.x,n.y,n.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var m=new l.default.Camera(this._renderer);return m.cameraFOV=this.cameraFOV,m.aspectRatio=this.aspectRatio,m.eyeX=this.eyeX,m.eyeY=this.eyeY,m.eyeZ=this.eyeZ,m.centerX=this.centerX,m.centerY=this.centerY,m.centerZ=this.centerZ,m.upX=this.upX,m.upY=this.upY,m.upZ=this.upZ,m.cameraNear=this.cameraNear,m.cameraFar=this.cameraFar,m.cameraType=this.cameraType,m.useLinePerspective=this.useLinePerspective,m.cameraMatrix=this.cameraMatrix.copy(),m.projMatrix=this.projMatrix.copy(),m.yScale=this.yScale,m}},{key:"_getLocalAxes",value:function(){var m=this.eyeX-this.centerX,n=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,d=Math.sqrt(m*m+n*n+r*r),d=(d!==0&&(m/=d,n/=d,r/=d),this.upX),a=(h=this.upY)*r-(b=this.upZ)*n,i=-d*r+b*m,u=d*n-h*m,d=n*u-r*i,h=-m*u+r*a,b=m*i-n*a,v=Math.sqrt(a*a+i*i+u*u),v=(v!==0&&(a/=v,i/=v,u/=v),Math.sqrt(d*d+h*h+b*b));return v!==0&&(d/=v,h/=v,b/=v),{x:[a,i,u],y:[d,h,b],z:[m,n,r]}}},{key:"_orbit",value:function(m,v,b){var i=this.eyeX-this.centerX,u=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,a=Math.hypot(i,u,d),i=new l.default.Vector(i,u,d).normalize(),u=new l.default.Vector(this.upX,this.upY,this.upZ).normalize(),d=l.default.Vector.cross(u,i).normalize(),h=l.default.Vector.cross(d,u),b=((a=(a*=Math.pow(10,b))<this.cameraNear?this.cameraNear:a)>this.cameraFar&&(a=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,l.default.Vector.dot(i,u))))+v),v=m;(b<=0||b>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(b)),h.mult(Math.cos(v)*Math.sin(b)),d.mult(Math.sin(v)*Math.sin(b)),i.set(u).add(h).add(d),this.eyeX=a*i.x+this.centerX,this.eyeY=a*i.y+this.centerY,this.eyeZ=a*i.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(b,v,E){var i=this.eyeX-this.centerX,u=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,a=Math.hypot(i,u,d),i=new l.default.Vector(i,u,d).normalize(),u=new l.default.Vector(this.upX,this.upY,this.upZ),d=l.default.Vector.cross(u,i).normalize(),h=l.default.Vector.cross(i,d),k=Math.atan2(v,b),k=(h.mult(Math.sin(k)),d.mult(Math.cos(k)).add(h),Math.sqrt(b*b+v*v)),h=l.default.Vector.cross(i,d),b=((a=(a*=Math.pow(10,E))<this.cameraNear?this.cameraNear:a)>this.cameraFar&&(a=this.cameraFar),Math.cos(k)),v=Math.sin(k),E=u.dot(i),k=u.dot(d),w=E*b+k*v,E=-E*v+k*b,k=u.dot(h);u.x=w*i.x+E*d.x+k*h.x,u.y=w*i.y+E*d.y+k*h.y,u.z=w*i.z+E*d.z+k*h.z,d.mult(-v),i.mult(b).add(d).mult(a),this.camera(i.x+this.centerX,i.y+this.centerY,i.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&f(c.prototype,p),s}(),l.default.prototype.setCamera=function(s){this._renderer._curCamera=s,this._renderer.uPMatrix.set(s.projMatrix),this._renderer.uViewMatrix.set(s.cameraMatrix)},t=l.default.Camera,y.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,_,y){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(f,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}t.default.DataArray=function(){function f(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,m=this,n=f;if(!(m instanceof n))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(p),this.initialLength=p}var s,c;return s=f,(c=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var p;this.length<this.data.length/2&&(p=1<<Math.ceil(Math.log2(this.length)),(p=new Float32Array(p)).set(this.data.subarray(0,this.length),0),this.data=p)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var p=arguments.length,m=new Array(p),n=0;n<p;n++)m[n]=arguments[n];this.ensureLength(this.length+m.length),this.data.set(m,this.length),this.length+=m.length}},{key:"slice",value:function(p,m){return this.data.slice(p,Math.min(m,this.length))}},{key:"subArray",value:function(p,m){return this.data.subarray(p,Math.min(m,this.length))}},{key:"ensureLength",value:function(p){for(;this.data.length<p;){var m=new Float32Array(2*this.data.length);m.set(this.data,0),this.data=m}}}])&&l(s.prototype,c),f}(),t=t.default.DataArray,y.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(L,_,y){function l(R){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(R)}function f(R){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(M){return l(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":l(M)})(R)}L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/es.weak-map"),L("core-js/modules/web.dom-collections.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(T=L("../core/main"))&&T.__esModule?T:{default:T},c=function(R){if(R&&R.__esModule)return R;if(R===null||f(R)!=="object"&&typeof R!="function")return{default:R};var M=n();if(M&&M.has(R))return M.get(R);var N,D={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in R){var V;Object.prototype.hasOwnProperty.call(R,N)&&((V=G?Object.getOwnPropertyDescriptor(R,N):null)&&(V.get||V.set)?Object.defineProperty(D,N,V):D[N]=R[N])}return D.default=R,M&&M.set(R,D),D}(L("../core/constants")),p=L("./p5.Texture"),m=L("./p5.RendererGL");function n(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,n=function(){return R},R)}function r(R,M){return function(N){if(Array.isArray(N))return N}(R)||function(N,D){if(Symbol.iterator in Object(N)||Object.prototype.toString.call(N)==="[object Arguments]"){var G=[],V=!0,z=!1,$=void 0;try{for(var q,Y=N[Symbol.iterator]();!(V=(q=Y.next()).done)&&(G.push(q.value),!D||G.length!==D);V=!0);}catch(ee){z=!0,$=ee}finally{try{V||Y.return==null||Y.return()}finally{if(z)throw $}}return G}}(R,M)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(R,M,N){return M in R?Object.defineProperty(R,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):R[M]=N,R}function i(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function u(R,M){for(var N=0;N<M.length;N++){var D=M[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(R,D.key,D)}}function d(R,M,N){M&&u(R.prototype,M)}function h(R,M,N){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,G,V){var z=function($,q){for(;!Object.prototype.hasOwnProperty.call($,q)&&($=w($))!==null;);return $}(z,G);if(z)return(z=Object.getOwnPropertyDescriptor(z,G)).get?z.get.call(V):z.value})(R,M,N||R)}function b(R,M){return(b=Object.setPrototypeOf||function(N,D){return N.__proto__=D,N})(R,M)}function v(R){return function(){var M,N=w(R),N=(M=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(M=w(this).constructor,Reflect.construct(N,arguments,M)):N.apply(this,arguments),this);if(!M||f(M)!=="object"&&typeof M!="function"){if(N!==void 0)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return M}}function w(R){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(R)}var E=function(R){var M=D;if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&b(M,R);var N=v(D);function D(G){var V;return i(this,D),(V=N.call(this,G.target._renderer)).fbo=G,V.yScale=-1,V}return d(D,[{key:"_computeCameraDefaultSettings",value:function(){h(w(D.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),D}(s.default.Camera),k=(s.default.FramebufferCamera=E,function(){function R(M,N){i(this,R),this.framebuffer=M,this.property=N}return d(R,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),R}()),T=(s.default.FramebufferTexture=k,function(){function R(M){var N=this,D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},G=(i(this,R),this.target=M,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=D.format||c.UNSIGNED_BYTE,this.channels=D.channels||(M._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=D.depth===void 0||D.depth,this.depthFormat=D.depthFormat||c.FLOAT,this.textureFiltering=D.textureFiltering||c.LINEAR,D.antialias===void 0?this.antialiasSamples=M._renderer._pInst._glAttributes.antialias?2:0:typeof D.antialias=="number"?this.antialiasSamples=D.antialias:this.antialiasSamples=D.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&M.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=D.density||M.pixelDensity(),M._renderer.GL);if(this.gl=G,D.width&&D.height?(V=M._renderer._adjustDimensions(D.width,D.height),this.width=V.adjustedWidth,this.height=V.adjustedHeight,this._autoSized=!1):(D.width===void 0!=(D.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=M.width,this.height=M.height,this._autoSized=!0),this._checkIfFormatsAvailable(),D.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(D.stencil===void 0||D.stencil),this.framebuffer=G.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=G.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var V=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=V,this.draw(function(){return N.target.clear()})}return d(R,[{key:"resize",value:function(M,N){this._autoSized=!1;var D=this.target._renderer._adjustDimensions(M,N);M=D.adjustedWidth,N=D.adjustedHeight,this.width=M,this.height=N,this._handleResize()}},{key:"pixelDensity",value:function(M){if(!M)return this.density;this._autoSized=!1,this.density=M,this._handleResize()}},{key:"autoSized",value:function(M){if(M===void 0)return this._autoSized;this._autoSized=M,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var M=this.gl,M=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!M.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,p.checkWebGLCapabilities)(this.target._renderer));M.float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!M.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),M.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var M=this.gl,N=(this._updateSize(),M.getParameter(M.TEXTURE_BINDING_2D)),D=M.getParameter(M.FRAMEBUFFER_BINDING),G=M.createTexture();if(!G)throw new Error("Unable to create color texture");M.bindTexture(M.TEXTURE_2D,G);var V=this._glColorFormat();if(M.texImage2D(M.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,null),this.colorTexture=G,M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,G,0),this.useDepth){var G=M.createTexture();if(!G)throw new Error("Unable to create depth texture");var z=this._glDepthFormat();M.bindTexture(M.TEXTURE_2D,G),M.texImage2D(M.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),M.framebufferTexture2D(M.FRAMEBUFFER,this.useStencil?M.DEPTH_STENCIL_ATTACHMENT:M.DEPTH_ATTACHMENT,M.TEXTURE_2D,G,0),this.depthTexture=G}this.antialias&&(this.colorRenderbuffer=M.createRenderbuffer(),M.bindRenderbuffer(M.RENDERBUFFER,this.colorRenderbuffer),M.renderbufferStorageMultisample(M.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,M.getParameter(M.MAX_SAMPLES))),V.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=M.createRenderbuffer(),M.bindRenderbuffer(M.RENDERBUFFER,this.depthRenderbuffer),M.renderbufferStorageMultisample(M.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,M.getParameter(M.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),M.bindFramebuffer(M.FRAMEBUFFER,this.aaFramebuffer),M.framebufferRenderbuffer(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&M.framebufferRenderbuffer(M.FRAMEBUFFER,this.useStencil?M.DEPTH_STENCIL_ATTACHMENT:M.DEPTH_ATTACHMENT,M.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new k(this,"depthTexture"),G=M.NEAREST,this.depthP5Texture=new s.default.Texture(this.target._renderer,this.depth,{minFilter:G,magFilter:G}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new k(this,"colorTexture"),V=this.textureFiltering===c.LINEAR?M.LINEAR:M.NEAREST,this.colorP5Texture=new s.default.Texture(this.target._renderer,this.color,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.color,this.colorP5Texture),M.bindTexture(M.TEXTURE_2D,N),M.bindFramebuffer(M.FRAMEBUFFER,D)}},{key:"_glColorFormat",value:function(){var M,N,D=this.gl,G=this.format===c.FLOAT?D.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?D.HALF_FLOAT:D.getExtension("OES_texture_half_float").HALF_FLOAT_OES:D.UNSIGNED_BYTE,V=this.channels===c.RGBA?D.RGBA:D.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(a(N={},D.FLOAT,a({},D.RGBA,D.RGBA32F)),a(N,D.HALF_FLOAT,a({},D.RGBA,D.RGBA16F)),a(N,D.UNSIGNED_BYTE,(a(M={},D.RGBA,D.RGBA8),a(M,D.RGB,D.RGB8),M)),N[G][V]):this.format===c.HALF_FLOAT?D.RGBA:V,format:V,type:G}}},{key:"_glDepthFormat",value:function(){var D=this.gl,M=this.useStencil?this.depthFormat===c.FLOAT?D.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===c.WEBGL2?D.UNSIGNED_INT_24_8:D.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===c.FLOAT?D.FLOAT:D.UNSIGNED_INT,N=this.useStencil?D.DEPTH_STENCIL:D.DEPTH_COMPONENT,D=this.useStencil?this.depthFormat===c.FLOAT?D.DEPTH32F_STENCIL8:this.target.webglVersion===c.WEBGL2?D.DEPTH24_STENCIL8:D.DEPTH_STENCIL:this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?D.DEPTH_COMPONENT32F:D.DEPTH_COMPONENT24:D.DEPTH_COMPONENT;return{internalFormat:D,format:N,type:M}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var G=this.color,M=this.depth,N=this.colorRenderbuffer,D=this.depthRenderbuffer,G=(this._deleteTexture(G),M&&this._deleteTexture(M),this.gl);N&&G.deleteRenderbuffer(N),D&&G.deleteRenderbuffer(D),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var M=new E(this);return M._computeCameraDefaultSettings(),M._setDefaultCamera(),this.target._renderer._curCamera=M}},{key:"_deleteTexture",value:function(M){this.gl.deleteTexture(M.rawTexture()),this.target._renderer.textures.delete(M)}},{key:"remove",value:function(){var M=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),M.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&M.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&M.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&M.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var M=this.gl,N=(M.bindFramebuffer(M.READ_FRAMEBUFFER,this.aaFramebuffer),M.bindFramebuffer(M.DRAW_FRAMEBUFFER,this.framebuffer),[[M.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&N.push([M.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var D=0,G=N;D<G.length;D++){var z=r(G[D],2),V=z[0],z=z[1];M.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,V,z)}}}},{key:"end",value:function(){var M=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(M.bindFramebuffer(M.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(M){this.begin(),M(),this.end()}},{key:"loadPixels",value:function(){var M=this.gl,N=this.target._renderer.activeFramebuffer(),D=(M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,m.readPixelsWebGL)(this.pixels,M,this.framebuffer,0,0,this.width*this.density,this.height*this.density,D.format,D.type),N?M.bindFramebuffer(M.FRAMEBUFFER,N._framebufferToBind()):M.bindFramebuffer(M.FRAMEBUFFER,null)}},{key:"get",value:function(M,N,D,G){s.default._validateParameters("p5.Framebuffer.get",arguments);var V=this._glColorFormat();if(M===void 0&&N===void 0)N=M=0,D=this.width,G=this.height;else if(D===void 0&&G===void 0)return(M<0||N<0||M>=this.width||N>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),M=this.target.constrain(M,0,this.width-1),N=this.target.constrain(N,0,this.height-1)),(0,m.readPixelWebGL)(this.gl,this.framebuffer,M*this.density,N*this.density,V.format,V.type);M=this.target.constrain(M,0,this.width-1),N=this.target.constrain(N,0,this.height-1),D=this.target.constrain(D,1,this.width-M),G=this.target.constrain(G,1,this.height-N);for(var z=(0,m.readPixelsWebGL)(void 0,this.gl,this.framebuffer,M*this.density,N*this.density,D*this.density,G*this.density,V.format,V.type),$=new Uint8ClampedArray(D*G*this.density*this.density*4),q=($.fill(255),V.type===this.gl.RGB?3:4),Y=0;Y<G*this.density;Y++)for(var ee=0;ee<D*this.density;ee++)for(var Z=0;Z<4;Z++){var se,P=4*(Y*D*this.density+ee)+Z;Z<q&&(se=q==4?P:(Y*D*this.density+ee)*q+Z,$[P]=z[se])}return M=new s.default.Image(D*this.density,G*this.density),M.imageData=M.canvas.getContext("2d").createImageData(M.width,M.height),M.imageData.data.set($),M.pixels=M.imageData.data,M.updatePixels(),this.density!==1&&M.resize(D,G),M}},{key:"updatePixels",value:function(){var M=this.gl,N=(this.colorP5Texture.bindTexture(),this._glColorFormat()),D=N.format===M.RGBA?4:3,D=this.width*this.height*this.density*this.density*D,G=N.type===M.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof G)||this.pixels.length!==D)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");M.texImage2D(M.TEXTURE_2D,0,N.internalFormat,this.width*this.density,this.height*this.density,0,N.format,N.type,this.pixels),this.colorP5Texture.unbindTexture(),G=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(M.clearDepth(1),M.clear(M.DEPTH_BUFFER_BIT)),this.end()):(M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer),this.useDepth&&(M.clearDepth(1),M.clear(M.DEPTH_BUFFER_BIT)),G?M.bindFramebuffer(M.FRAMEBUFFER,G._framebufferToBind()):M.bindFramebuffer(M.FRAMEBUFFER,null))}}]),R}()),L=s.default.Framebuffer=T;y.default=L},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,_,y){function l(i){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(i)}function f(i){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(a=t("../core/main"))&&a.__esModule?a:{default:a},c=function(i){if(i&&i.__esModule)return i;if(i===null||f(i)!=="object"&&typeof i!="function")return{default:i};var u=p();if(u&&u.has(i))return u.get(i);var d,h={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in i){var v;Object.prototype.hasOwnProperty.call(i,d)&&((v=b?Object.getOwnPropertyDescriptor(i,d):null)&&(v.get||v.set)?Object.defineProperty(h,d,v):h[d]=i[d])}return h.default=i,u&&u.set(i,h),h}(t("../core/constants"));function p(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,p=function(){return i},i)}function m(i){return function(u){if(Array.isArray(u)){for(var d=0,h=new Array(u.length);d<u.length;d++)h[d]=u[d];return h}}(i)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(i,u){return function(d){if(Array.isArray(d))return d}(i)||function(d,h){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]"){var b=[],v=!0,w=!1,E=void 0;try{for(var k,T=d[Symbol.iterator]();!(v=(k=T.next()).done)&&(b.push(k.value),!h||b.length!==h);v=!0);}catch(L){w=!0,E=L}finally{try{v||T.return==null||T.return()}finally{if(w)throw E}}return b}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(i,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}s.default.Geometry=function(){function i(h,b,v){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new s.default.DataArray,this.lineTangentsIn=new s.default.DataArray,this.lineTangentsOut=new s.default.DataArray,this.lineSides=new s.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new s.default.DataArray,this.detailX=h!==void 0?h:1,this.detailY=b!==void 0?b:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,v instanceof Function&&v.call(this)}var u,d;return u=i,(d=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var h=new s.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),b=new s.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),v=0;v<this.vertices.length;v++){var w=this.vertices[v];h.x=Math.min(h.x,w.x),h.y=Math.min(h.y,w.y),h.z=Math.min(h.z,w.z),b.x=Math.max(b.x,w.x),b.y=Math.max(b.y,w.y),b.z=Math.max(b.z,w.z)}var E=new s.default.Vector(b.x-h.x,b.y-h.y,b.z-h.z),k=new s.default.Vector((h.x+b.x)/2,(h.y+b.y)/2,(h.z+b.z)/2);this.boundingBoxCache={min:h,max:b,size:E,offset:k}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var h=0;h<this.vertexColors.length;h+=4)if(this.vertexColors[h+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var h=0;h<this.lineVertexColors.length;h+=4)if(this.lineVertexColors[h+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var h=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",v="";if(this.vertices.forEach(function(k){v+="v ".concat(k.x," ").concat(k.y," ").concat(k.z,`
`)}),this.uvs&&0<this.uvs.length)for(var w=0;w<this.uvs.length;w+=2)v+="vt ".concat(this.uvs[w]," ").concat(this.uvs[w+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(k){v+="vn ".concat(k.x," ").concat(k.y," ").concat(k.z,`
`)}),this.faces.forEach(function(k){var T="f";k.forEach(function(L){T=T+" "+(L+1),(0<h.vertexNormals.length||0<h.uvs.length)&&(T+="/",0<h.uvs.length&&(T+=L+1),T+="/",0<h.vertexNormals.length&&(T+=L+1))}),v+=T+`
`});var E=new Blob([v],{type:"text/plain"});s.default.prototype.downloadFile(E,b,"obj")}},{key:"saveStl",value:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",b=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,b=b!==void 0&&b,v=h.substring(0,h.lastIndexOf(".")),w=[],E=!0,k=!1,T=void 0;try{for(var L,R=this.faces[Symbol.iterator]();!(E=(L=R.next()).done);E=!0){var M=L.value,N=s.default.Vector.sub(this.vertices[M[1]],this.vertices[M[0]]),D=s.default.Vector.sub(this.vertices[M[2]],this.vertices[M[0]]),G=N.y*D.z-N.z*D.y,V=N.z*D.x-N.x*D.z,z=N.x*D.y-N.y*D.x;w.push(new s.default.Vector(G,V,z).normalize())}}catch(Te){k=!0,T=Te}finally{try{E||R.return==null||R.return()}finally{if(k)throw T}}if(b){var $,q=80,k=2*this.faces.length+3*this.faces.length*4*4+80+4,T=new ArrayBuffer(k);($=new DataView(T)).setUint32(q,this.faces.length,!0),q+=4;for(var Y=0,ee=Object.entries(this.faces);Y<ee.length;Y++){var Z=n(ee[Y],2),P=Z[0],Z=Z[1],P=w[P],se=($.setFloat32(q,P.x,!0),q+=4,$.setFloat32(q,P.y,!0),q+=4,$.setFloat32(q,P.z,!0),q+=4,!0),P=!1,B=void 0;try{for(var W,K=Z[Symbol.iterator]();!(se=(W=K.next()).done);se=!0){var ne=W.value,oe=this.vertices[ne];$.setFloat32(q,oe.x,!0),q+=4,$.setFloat32(q,oe.y,!0),q+=4,$.setFloat32(q,oe.z,!0),q+=4}}catch(Ye){P=!0,B=Ye}finally{try{se||K.return==null||K.return()}finally{if(P)throw B}}$.setUint16(q,0,!0),q+=2}}else{$="solid "+v+`
`;for(var fe=0,ge=Object.entries(this.faces);fe<ge.length;fe++){var de=n(ge[fe],2),be=de[0],de=de[1],be=w[be],ye=($=$+(" facet norm "+be.x+" "+be.y+" "+be.z+`
`)+`  outer loop
`,!0),be=!1,ae=void 0;try{for(var ve,_e=de[Symbol.iterator]();!(ye=(ve=_e.next()).done);ye=!0){var Me=ve.value,Se=this.vertices[Me];$+="   vertex "+Se.x+" "+Se.y+" "+Se.z+`
`}}catch(Te){be=!0,ae=Te}finally{try{ye||_e.return==null||_e.return()}finally{if(be)throw ae}}$=$+`  endloop
 endfacet
`}$+="endsolid "+v+`
`}b=new Blob([$],{type:"text/plain"}),s.default.prototype.downloadFile(b,h,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(h,b){return b%2==0?1-h:h})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(h,b){return b%2==0?h:1-h})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var h,b,v,w=this.detailX+1,E=0;E<this.detailY;E++)for(var k=0;k<this.detailX;k++)b=(E+1)*w+k+1,this.faces.push([E*w+k,h=E*w+k+1,v=(E+1)*w+k]),this.faces.push([v,h,b]);return this}},{key:"_getFaceNormal",value:function(b){var b=this.faces[b],v=this.vertices[b[0]],E=this.vertices[b[1]],b=this.vertices[b[2]],E=s.default.Vector.sub(E,v),b=s.default.Vector.sub(b,v),v=s.default.Vector.cross(E,b),w=s.default.Vector.mag(v),E=w/(s.default.Vector.mag(E)*s.default.Vector.mag(b));return E===0||isNaN(E)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),v):(1<E&&(E=1),v.mult(Math.asin(E)/w))}},{key:"computeNormals",value:function(){var h,b=this,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c.FLAT,w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,E=this.vertexNormals,k=this.vertices,T=this.faces;if(v===c.SMOOTH){for(var L={},R=[],M=Math.pow(10,w===void 0?3:w),N=function($){return Math.round($*M)/M},D=function($){return"".concat(N($.x),",").concat(N($.y),",").concat(N($.z))},G=0;G<k.length;G++){var V=k[G],z=D(V);L[z]===void 0&&(L[z]=R.length,R.push(V))}T.forEach(function($){for(var q=0;q<3;++q){var Y=$[q],Y=k[Y],Y=D(Y);$[q]=L[Y]}}),this.edges.forEach(function($){for(var q=0;q<2;++q){var Y=$[q],Y=k[Y],Y=D(Y);$[q]=L[Y]}}),this.vertices=k=R}for(h=E.length=0;h<k.length;++h)E.push(new s.default.Vector);for(T.forEach(function($,q){for(var Y=b._getFaceNormal(q),ee=0;ee<3;++ee){var Z=$[ee];E[Z].add(Y)}}),h=0;h<k.length;++h)E[h].normalize();return this}},{key:"averageNormals",value:function(){for(var h=0;h<=this.detailY;h++){var b=this.detailX+1,v=s.default.Vector.add(this.vertexNormals[h*b],this.vertexNormals[h*b+this.detailX]),v=s.default.Vector.div(v,2);this.vertexNormals[h*b]=v,this.vertexNormals[h*b+this.detailX]=v}return this}},{key:"averagePoleNormals",value:function(){for(var h=new s.default.Vector(0,0,0),b=0;b<this.detailX;b++)h.add(this.vertexNormals[b]);for(var h=s.default.Vector.div(h,this.detailX),v=0;v<this.detailX;v++)this.vertexNormals[v]=h;h=new s.default.Vector(0,0,0);for(var w=this.vertices.length-1;w>this.vertices.length-1-this.detailX;w--)h.add(this.vertexNormals[w]);h=s.default.Vector.div(h,this.detailX);for(var E=this.vertices.length-1;E>this.vertices.length-1-this.detailX;E--)this.vertexNormals[E]=h;return this}},{key:"_makeTriangleEdges",value:function(){for(var h=this.edges.length=0;h<this.faces.length;h++)this.edges.push([this.faces[h][0],this.faces[h][1]]),this.edges.push([this.faces[h][1],this.faces[h][2]]),this.edges.push([this.faces[h][2],this.faces[h][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var h,b=new Map,v=new Set,w=0;w<this.edges.length;w++){var E,k=this.edges[w-1],T=this.edges[w],L=this.vertices[T[0]],R=this.vertices[T[1]],M=0<this.vertexStrokeColors.length&&k?this.vertexStrokeColors.slice(4*k[1],4*(k[1]+1)):[0,0,0,0],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[0],4*(T[0]+1)):[0,0,0,0],D=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*T[1],4*(T[1]+1)):[0,0,0,0],G=R.copy().sub(L).normalize(),V=0<G.magSq();V&&this._addSegment(L,R,N,D,G),0<w&&k[1]===T[0]?v.has(T[0])||(v.add(T[0]),b.delete(T[0]),h&&V&&G.dot(h)<1-1e-8&&this._addJoin(L,h,G,N)):(V&&!v.has(T[0])&&((E=b.get(T[0]))?(this._addJoin(L,E.dir,G,N),b.delete(T[0]),v.add(T[0])):b.set(T[0],{point:L,dir:G.copy().mult(-1),color:N})),h&&!v.has(k[1])&&((E=b.get(k[1]))?(this._addJoin(this.vertices[k[1]],h,E.dir.copy().mult(-1),M),b.delete(k[1]),v.add(k[1])):b.set(k[1],{point:this.vertices[k[1]],dir:h,color:M}),h=void 0)),w!==this.edges.length-1||v.has(T[1])||((L=b.get(T[1]))?(this._addJoin(R,G,L.dir.copy().mult(-1),D),b.delete(T[1]),v.add(T[1])):b.set(T[1],{point:R,dir:G,color:D})),V&&(h=G)}var z=!0,$=!1,q=void 0;try{for(var Y,ee=b.values()[Symbol.iterator]();!(z=(Y=ee.next()).done);z=!0){var Z=Y.value,se=Z.point,P=Z.dir,B=Z.color;this._addCap(se,P,B)}}catch(W){$=!0,q=W}finally{try{z||ee.return==null||ee.return()}finally{if($)throw q}}return this}},{key:"_addSegment",value:function(k,T,v,w,E){var k=k.array(),T=T.array(),L=E.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var R=0,M=[this.lineTangentsIn,this.lineTangentsOut];R<M.length;R++)for(var N=M[R],D=0;D<6;D++)N.push.apply(N,m(L));return(E=this.lineVertices).push.apply(E,m(k).concat(m(T),m(k),m(T),m(T),m(k))),(E=this.lineVertexColors).push.apply(E,m(v).concat(m(w),m(v),m(w),m(w),m(v))),this}},{key:"_addCap",value:function(h,b,v){for(var w,E=h.array(),k=b.array(),T=[0,0,0],L=0;L<6;L++)(w=this.lineVertices).push.apply(w,m(E)),(w=this.lineTangentsIn).push.apply(w,m(k)),(w=this.lineTangentsOut).push.apply(w,T),(w=this.lineVertexColors).push.apply(w,m(v));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(h,b,v,w){for(var E,k=h.array(),T=b.array(),L=v.array(),R=0;R<12;R++)(E=this.lineVertices).push.apply(E,m(k)),(E=this.lineTangentsIn).push.apply(E,m(T)),(E=this.lineTangentsOut).push.apply(E,m(L)),(E=this.lineVertexColors).push.apply(E,m(w));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var h=this.vertices[0].copy(),b=this.vertices[0].copy(),v=0;v<this.vertices.length;v++)h.x=Math.max(h.x,this.vertices[v].x),b.x=Math.min(b.x,this.vertices[v].x),h.y=Math.max(h.y,this.vertices[v].y),b.y=Math.min(b.y,this.vertices[v].y),h.z=Math.max(h.z,this.vertices[v].z),b.z=Math.min(b.z,this.vertices[v].z);for(var w=s.default.Vector.lerp(h,b,.5),E=s.default.Vector.sub(h,b),k=200/Math.max(Math.max(E.x,E.y),E.z),T=0;T<this.vertices.length;T++)this.vertices[T].sub(w),this.vertices[T].mult(k)}return this}}])&&r(u.prototype,d),i}();var a=s.default.Geometry;y.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(p,_,y){p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(p=p("../core/main"))&&p.__esModule?p:{default:p};function f(m,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(m,a.key,a)}}var s=Array,c=function(m){return Array.isArray(m)},p=(typeof Float32Array<"u"&&(s=Float32Array,c=function(m){return Array.isArray(m)||m instanceof Float32Array}),l.default.Matrix=function(){function m(){var i=this,u=m;if(i instanceof u)return arguments.length&&((i=arguments.length-1)<0||arguments.length<=i?void 0:arguments[i])instanceof l.default&&(this.p5=(u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var n,r,a;return n=m,a=[{key:"identity",value:function(i){return new l.default.Matrix(i)}}],(r=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(i){var u=arguments;if(i instanceof l.default.Matrix?u=i.mat4:c(i)&&(u=i),u.length!==16)l.default._friendlyError("Expected 16 values but received ".concat(u.length,"."),"p5.Matrix.set");else for(var d=0;d<16;d++)this.mat4[d]=u[d];return this}},{key:"get",value:function(){return new l.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var i;return this.mat3!==void 0?((i=new l.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],i.mat3[1]=this.mat3[1],i.mat3[2]=this.mat3[2],i.mat3[3]=this.mat3[3],i.mat3[4]=this.mat3[4],i.mat3[5]=this.mat3[5],i.mat3[6]=this.mat3[6],i.mat3[7]=this.mat3[7],i.mat3[8]=this.mat3[8]):((i=new l.default.Matrix(this.p5)).mat4[0]=this.mat4[0],i.mat4[1]=this.mat4[1],i.mat4[2]=this.mat4[2],i.mat4[3]=this.mat4[3],i.mat4[4]=this.mat4[4],i.mat4[5]=this.mat4[5],i.mat4[6]=this.mat4[6],i.mat4[7]=this.mat4[7],i.mat4[8]=this.mat4[8],i.mat4[9]=this.mat4[9],i.mat4[10]=this.mat4[10],i.mat4[11]=this.mat4[11],i.mat4[12]=this.mat4[12],i.mat4[13]=this.mat4[13],i.mat4[14]=this.mat4[14],i.mat4[15]=this.mat4[15]),i}},{key:"transpose",value:function(i){var u,d,h,b,v,w;return i instanceof l.default.Matrix?(u=i.mat4[1],d=i.mat4[2],h=i.mat4[3],b=i.mat4[6],v=i.mat4[7],w=i.mat4[11],this.mat4[0]=i.mat4[0],this.mat4[1]=i.mat4[4],this.mat4[2]=i.mat4[8],this.mat4[3]=i.mat4[12],this.mat4[4]=u,this.mat4[5]=i.mat4[5],this.mat4[6]=i.mat4[9],this.mat4[7]=i.mat4[13],this.mat4[8]=d,this.mat4[9]=b,this.mat4[10]=i.mat4[10],this.mat4[11]=i.mat4[14],this.mat4[12]=h,this.mat4[13]=v,this.mat4[14]=w,this.mat4[15]=i.mat4[15]):c(i)&&(u=i[1],d=i[2],h=i[3],b=i[6],v=i[7],w=i[11],this.mat4[0]=i[0],this.mat4[1]=i[4],this.mat4[2]=i[8],this.mat4[3]=i[12],this.mat4[4]=u,this.mat4[5]=i[5],this.mat4[6]=i[9],this.mat4[7]=i[13],this.mat4[8]=d,this.mat4[9]=b,this.mat4[10]=i[10],this.mat4[11]=i[14],this.mat4[12]=h,this.mat4[13]=v,this.mat4[14]=w,this.mat4[15]=i[15]),this}},{key:"invert",value:function(z){z instanceof l.default.Matrix?(u=z.mat4[0],d=z.mat4[1],h=z.mat4[2],b=z.mat4[3],v=z.mat4[4],w=z.mat4[5],E=z.mat4[6],k=z.mat4[7],T=z.mat4[8],L=z.mat4[9],R=z.mat4[10],M=z.mat4[11],N=z.mat4[12],D=z.mat4[13],G=z.mat4[14],V=z.mat4[15]):c(z)&&(u=z[0],d=z[1],h=z[2],b=z[3],v=z[4],w=z[5],E=z[6],k=z[7],T=z[8],L=z[9],R=z[10],M=z[11],N=z[12],D=z[13],G=z[14],V=z[15]);var u,d,h,b,v,w,E,k,T,L,R,M,N,D,G,V,z=u*w-d*v,$=u*E-h*v,q=u*k-b*v,Y=d*E-h*w,ee=d*k-b*w,Z=h*k-b*E,se=T*D-L*N,P=T*G-R*N,B=T*V-M*N,W=L*G-R*D,K=L*V-M*D,ne=R*V-M*G,oe=z*ne-$*K+q*W+Y*B-ee*P+Z*se;return oe?(this.mat4[0]=(w*ne-E*K+k*W)*(oe=1/oe),this.mat4[1]=(h*K-d*ne-b*W)*oe,this.mat4[2]=(D*Z-G*ee+V*Y)*oe,this.mat4[3]=(R*ee-L*Z-M*Y)*oe,this.mat4[4]=(E*B-v*ne-k*P)*oe,this.mat4[5]=(u*ne-h*B+b*P)*oe,this.mat4[6]=(G*q-N*Z-V*$)*oe,this.mat4[7]=(T*Z-R*q+M*$)*oe,this.mat4[8]=(v*K-w*B+k*se)*oe,this.mat4[9]=(d*B-u*K-b*se)*oe,this.mat4[10]=(N*ee-D*q+V*z)*oe,this.mat4[11]=(L*q-T*ee-M*z)*oe,this.mat4[12]=(w*P-v*W-E*se)*oe,this.mat4[13]=(u*W-d*P+h*se)*oe,this.mat4[14]=(D*$-N*Y-G*z)*oe,this.mat4[15]=(T*Y-L*$+R*z)*oe,this):null}},{key:"invert3x3",value:function(){var i=this.mat3[0],u=this.mat3[1],d=this.mat3[2],h=this.mat3[3],b=this.mat3[4],v=this.mat3[5],w=this.mat3[6],E=this.mat3[7],k=this.mat3[8],T=k*b-v*E,L=-k*h+v*w,R=E*h-b*w,M=i*T+u*L+d*R;return M?(this.mat3[0]=T*(M=1/M),this.mat3[1]=(-k*u+d*E)*M,this.mat3[2]=(v*u-d*b)*M,this.mat3[3]=L*M,this.mat3[4]=(k*i-d*w)*M,this.mat3[5]=(-v*i+d*h)*M,this.mat3[6]=R*M,this.mat3[7]=(-E*i+u*w)*M,this.mat3[8]=(b*i-u*h)*M,this):null}},{key:"transpose3x3",value:function(i){var u=(i=i===void 0?this.mat3:i)[1],d=i[2],h=i[5];return this.mat3[0]=i[0],this.mat3[1]=i[3],this.mat3[2]=i[6],this.mat3[3]=u,this.mat3[4]=i[4],this.mat3[5]=i[7],this.mat3[6]=d,this.mat3[7]=h,this.mat3[8]=i[8],this}},{key:"inverseTranspose",value:function(i){if(i=i.mat4,this.mat3===void 0?l.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=i[0],this.mat3[1]=i[1],this.mat3[2]=i[2],this.mat3[3]=i[4],this.mat3[4]=i[5],this.mat3[5]=i[6],this.mat3[6]=i[8],this.mat3[7]=i[9],this.mat3[8]=i[10]),i=this.invert3x3(),i)i.transpose3x3(this.mat3);else for(var u=0;u<9;u++)this.mat3[u]=0;return this}},{key:"determinant",value:function(){var i=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],u=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],d=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],h=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],b=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],v=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],w=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],E=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],k=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],T=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],L=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return i*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-u*L+d*T+h*k-b*E+v*w}},{key:"mult",value:function(d){var u;if(d===this||d===this.mat4)u=this.copy().mat4;else if(d instanceof l.default.Matrix)u=d.mat4;else if(c(d))u=d;else{if(arguments.length!==16)return;u=arguments}var d=this.mat4[0],h=this.mat4[1],b=this.mat4[2],v=this.mat4[3];return this.mat4[0]=d*u[0]+h*u[4]+b*u[8]+v*u[12],this.mat4[1]=d*u[1]+h*u[5]+b*u[9]+v*u[13],this.mat4[2]=d*u[2]+h*u[6]+b*u[10]+v*u[14],this.mat4[3]=d*u[3]+h*u[7]+b*u[11]+v*u[15],d=this.mat4[4],h=this.mat4[5],b=this.mat4[6],v=this.mat4[7],this.mat4[4]=d*u[0]+h*u[4]+b*u[8]+v*u[12],this.mat4[5]=d*u[1]+h*u[5]+b*u[9]+v*u[13],this.mat4[6]=d*u[2]+h*u[6]+b*u[10]+v*u[14],this.mat4[7]=d*u[3]+h*u[7]+b*u[11]+v*u[15],d=this.mat4[8],h=this.mat4[9],b=this.mat4[10],v=this.mat4[11],this.mat4[8]=d*u[0]+h*u[4]+b*u[8]+v*u[12],this.mat4[9]=d*u[1]+h*u[5]+b*u[9]+v*u[13],this.mat4[10]=d*u[2]+h*u[6]+b*u[10]+v*u[14],this.mat4[11]=d*u[3]+h*u[7]+b*u[11]+v*u[15],d=this.mat4[12],h=this.mat4[13],b=this.mat4[14],v=this.mat4[15],this.mat4[12]=d*u[0]+h*u[4]+b*u[8]+v*u[12],this.mat4[13]=d*u[1]+h*u[5]+b*u[9]+v*u[13],this.mat4[14]=d*u[2]+h*u[6]+b*u[10]+v*u[14],this.mat4[15]=d*u[3]+h*u[7]+b*u[11]+v*u[15],this}},{key:"apply",value:function(d){var u;if(d===this||d===this.mat4)u=this.copy().mat4;else if(d instanceof l.default.Matrix)u=d.mat4;else if(c(d))u=d;else{if(arguments.length!==16)return;u=arguments}var d=this.mat4,h=d[0],b=d[4],v=d[8],w=d[12],h=(d[0]=u[0]*h+u[1]*b+u[2]*v+u[3]*w,d[4]=u[4]*h+u[5]*b+u[6]*v+u[7]*w,d[8]=u[8]*h+u[9]*b+u[10]*v+u[11]*w,d[12]=u[12]*h+u[13]*b+u[14]*v+u[15]*w,d[1]),b=d[5],v=d[9],w=d[13],h=(d[1]=u[0]*h+u[1]*b+u[2]*v+u[3]*w,d[5]=u[4]*h+u[5]*b+u[6]*v+u[7]*w,d[9]=u[8]*h+u[9]*b+u[10]*v+u[11]*w,d[13]=u[12]*h+u[13]*b+u[14]*v+u[15]*w,d[2]),b=d[6],v=d[10],w=d[14],h=(d[2]=u[0]*h+u[1]*b+u[2]*v+u[3]*w,d[6]=u[4]*h+u[5]*b+u[6]*v+u[7]*w,d[10]=u[8]*h+u[9]*b+u[10]*v+u[11]*w,d[14]=u[12]*h+u[13]*b+u[14]*v+u[15]*w,d[3]),b=d[7],v=d[11],w=d[15];return d[3]=u[0]*h+u[1]*b+u[2]*v+u[3]*w,d[7]=u[4]*h+u[5]*b+u[6]*v+u[7]*w,d[11]=u[8]*h+u[9]*b+u[10]*v+u[11]*w,d[15]=u[12]*h+u[13]*b+u[14]*v+u[15]*w,this}},{key:"scale",value:function(i,u,d){return i instanceof l.default.Vector?(u=i.y,d=i.z,i=i.x):i instanceof Array&&(u=i[1],d=i[2],i=i[0]),this.mat4[0]*=i,this.mat4[1]*=i,this.mat4[2]*=i,this.mat4[3]*=i,this.mat4[4]*=u,this.mat4[5]*=u,this.mat4[6]*=u,this.mat4[7]*=u,this.mat4[8]*=d,this.mat4[9]*=d,this.mat4[10]*=d,this.mat4[11]*=d,this}},{key:"rotate",value:function(z,K,W,h){K instanceof l.default.Vector?(W=K.y,h=K.z,K=K.x):K instanceof Array&&(W=K[1],h=K[2],K=K[0]);var b=Math.sqrt(K*K+W*W+h*h),b=(K*=1/b,W*=1/b,h*=1/b,this.mat4[0]),v=this.mat4[1],w=this.mat4[2],E=this.mat4[3],k=this.mat4[4],T=this.mat4[5],L=this.mat4[6],R=this.mat4[7],M=this.mat4[8],N=this.mat4[9],D=this.mat4[10],G=this.mat4[11],V=Math.sin(z),z=Math.cos(z),$=1-z,q=K*K*$+z,Y=W*K*$+h*V,ee=h*K*$-W*V,Z=K*W*$-h*V,se=W*W*$+z,P=h*W*$+K*V,B=K*h*$+W*V,W=W*h*$-K*V,K=h*h*$+z;return this.mat4[0]=b*q+k*Y+M*ee,this.mat4[1]=v*q+T*Y+N*ee,this.mat4[2]=w*q+L*Y+D*ee,this.mat4[3]=E*q+R*Y+G*ee,this.mat4[4]=b*Z+k*se+M*P,this.mat4[5]=v*Z+T*se+N*P,this.mat4[6]=w*Z+L*se+D*P,this.mat4[7]=E*Z+R*se+G*P,this.mat4[8]=b*B+k*W+M*K,this.mat4[9]=v*B+T*W+N*K,this.mat4[10]=w*B+L*W+D*K,this.mat4[11]=E*B+R*W+G*K,this}},{key:"translate",value:function(h){var u=h[0],d=h[1],h=h[2]||0;this.mat4[12]+=this.mat4[0]*u+this.mat4[4]*d+this.mat4[8]*h,this.mat4[13]+=this.mat4[1]*u+this.mat4[5]*d+this.mat4[9]*h,this.mat4[14]+=this.mat4[2]*u+this.mat4[6]*d+this.mat4[10]*h,this.mat4[15]+=this.mat4[3]*u+this.mat4[7]*d+this.mat4[11]*h}},{key:"rotateX",value:function(i){this.rotate(i,1,0,0)}},{key:"rotateY",value:function(i){this.rotate(i,0,1,0)}},{key:"rotateZ",value:function(i){this.rotate(i,0,0,1)}},{key:"perspective",value:function(b,u,d,h){var b=1/Math.tan(b/2),v=1/(d-h);return this.mat4[0]=b/u,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=b,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+d)*v,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*d*v,this.mat4[15]=0,this}},{key:"ortho",value:function(i,u,d,h,b,v){var w=1/(i-u),E=1/(d-h),k=1/(b-v);return this.mat4[0]=-2*w,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*k,this.mat4[11]=0,this.mat4[12]=(i+u)*w,this.mat4[13]=(h+d)*E,this.mat4[14]=(v+b)*k,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(i,u,d,h){var b=new Array(4),v=this.mat4;return b[0]=v[0]*i+v[4]*u+v[8]*d+v[12]*h,b[1]=v[1]*i+v[5]*u+v[9]*d+v[13]*h,b[2]=v[2]*i+v[6]*u+v[10]*d+v[14]*h,b[3]=v[3]*i+v[7]*u+v[11]*d+v[15]*h,b}},{key:"multiplyPoint",value:function(d){var h=d.x,u=d.y,d=d.z,h=this.multiplyVec4(h,u,d,1);return new l.default.Vector(h[0],h[1],h[2])}},{key:"multiplyAndNormalizePoint",value:function(d){var h=d.x,u=d.y,d=d.z,h=this.multiplyVec4(h,u,d,1);return h[0]/=h[3],h[1]/=h[3],h[2]/=h[3],new l.default.Vector(h[0],h[1],h[2])}},{key:"multiplyDirection",value:function(d){var h=d.x,u=d.y,d=d.z,h=this.multiplyVec4(h,u,d,0);return new l.default.Vector(h[0],h[1],h[2])}},{key:"mult3x3",value:function(d){var u;if(d===this||d===this.mat3)u=this.copy().mat3;else if(d instanceof l.default.Matrix)u=d.mat3;else if(c(d))u=d;else{if(arguments.length!==9)return;u=arguments}var d=this.mat3[0],h=this.mat3[1],b=this.mat3[2];return this.mat3[0]=d*u[0]+h*u[3]+b*u[6],this.mat3[1]=d*u[1]+h*u[4]+b*u[7],this.mat3[2]=d*u[2]+h*u[5]+b*u[8],d=this.mat3[3],h=this.mat3[4],b=this.mat3[5],this.mat3[3]=d*u[0]+h*u[3]+b*u[6],this.mat3[4]=d*u[1]+h*u[4]+b*u[7],this.mat3[5]=d*u[2]+h*u[5]+b*u[8],d=this.mat3[6],h=this.mat3[7],b=this.mat3[8],this.mat3[6]=d*u[0]+h*u[3]+b*u[6],this.mat3[7]=d*u[1]+h*u[4]+b*u[7],this.mat3[8]=d*u[2]+h*u[5]+b*u[8],this}},{key:"column",value:function(i){return new l.default.Vector(this.mat3[3*i],this.mat3[3*i+1],this.mat3[3*i+2])}},{key:"row",value:function(i){return new l.default.Vector(this.mat3[i],this.mat3[i+3],this.mat3[i+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(i,u){return(u=u===void 0?i.copy():u).x=this.row(0).dot(i),u.y=this.row(1).dot(i),u.z=this.row(2).dot(i),u}},{key:"createSubMatrix3x3",value:function(){var i=new l.default.Matrix("mat3");return i.mat3[0]=this.mat4[0],i.mat3[1]=this.mat4[1],i.mat3[2]=this.mat4[2],i.mat3[3]=this.mat4[4],i.mat3[4]=this.mat4[5],i.mat3[5]=this.mat4[6],i.mat3[6]=this.mat4[8],i.mat3[7]=this.mat4[9],i.mat3[8]=this.mat4[10],i}}])&&f(n.prototype,r),a&&f(n,a),m}(),l.default.Matrix);y.default=p},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,_,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(s,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}l.default.Quat=function(){function s(n,r,a,i){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.w=n,this.vec=new l.default.Vector(r,a,i)}var c,p,m;return c=s,m=[{key:"fromAxisAngle",value:function(n,d,a,i){var u=Math.cos(n/2),d=new l.default.Vector(d,a,i).normalize().mult(Math.sin(n/2));return new l.default.Quat(u,d.x,d.y,d.z)}}],(p=[{key:"conjugate",value:function(){return new l.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(n){return new l.default.Quat(this.w*n.w-this.vec.x*n.vec.x-this.vec.y*n.vec.y-this.vec.z-n.vec.z,this.w*n.vec.x+this.vec.x*n.w+this.vec.y*n.vec.z-this.vec.z*n.vec.y,this.w*n.vec.y-this.vec.x*n.vec.z+this.vec.y*n.w+this.vec.z*n.vec.x,this.w*n.vec.z+this.vec.x*n.vec.y-this.vec.y*n.vec.x+this.vec.z*n.w)}},{key:"rotateVector",value:function(n){return new l.default.Vector.mult(n,this.w*this.w-this.vec.dot(this.vec)).add(l.default.Vector.mult(this.vec,2*n.dot(this.vec))).add(l.default.Vector.mult(this.vec,2*this.w).cross(n)).clampToZero()}},{key:"rotateBy",value:function(n){return n.multiply(this).multiply(n.conjugate()).vec.clampToZero()}}])&&f(c.prototype,p),m&&f(c,m),s}(),t=l.default.Quat,y.default=t},{"../core/main":283}],338:[function(t,_,y){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(f,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}t.default.RenderBuffer=function(){function f(p,m,n,r,a,i){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.size=p,this.src=m,this.dst=n,this.attr=r,this._renderer=a,this.map=i}var s,c;return s=f,(c=[{key:"_prepareBuffer",value:function(p,m){var n,r,a,d=m.attributes,i=this._renderer.GL,u=p.model||p,d=d[this.attr];d&&(n=p[this.dst],0<(r=u[this.src]).length?((a=!n)&&(p[this.dst]=n=i.createBuffer()),i.bindBuffer(i.ARRAY_BUFFER,n),!a&&u.dirtyFlags[this.src]===!1||(a=(p=this.map)?p(r):r,this._renderer._bindBuffer(n,i.ARRAY_BUFFER,a),u.dirtyFlags[this.src]=!1),m.enableAttrib(d,this.size)):(p=d.location)!==-1&&this._renderer.registerEnabled.has(p)&&(i.disableVertexAttribArray(p),this._renderer.registerEnabled.delete(p)))}}])&&l(s.prototype,c),f}(),t=t.default.RenderBuffer,y.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,_,y){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(a)}function f(a){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},c=function(a){if(a&&a.__esModule)return a;if(a===null||f(a)!=="object"&&typeof a!="function")return{default:a};var i=p();if(i&&i.has(a))return i.get(a);var u,d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in a){var b;Object.prototype.hasOwnProperty.call(a,u)&&((b=h?Object.getOwnPropertyDescriptor(a,u):null)&&(b.get||b.set)?Object.defineProperty(d,u,b):d[u]=a[u])}return d.default=a,i&&i.set(a,d),d}(t("../core/constants"));function p(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,p=function(){return a},a)}function m(a){return function(i){if(Array.isArray(i)){for(var u=0,d=new Array(i.length);u<i.length;u++)d[u]=i[u];return d}}(a)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=a!==void 0?a:c.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var n={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},r=(s.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==c.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},s.default.RendererGL.prototype.vertex=function(a,i){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var u in n){var d=n[u],u=this.immediateMode.geometry[u];u.push.apply(u,m(u.slice(u.length-3*d,u.length-2*d)).concat(m(u.slice(u.length-d,u.length))))}var h,b,v=h=b=0,w=(arguments.length===3?v=arguments[2]:arguments.length===4?(h=arguments[2],b=arguments[3]):arguments.length===5&&(v=arguments[2],h=arguments[3],b=arguments[4]),new s.default.Vector(a,i,v)),w=(this.immediateMode.geometry.vertices.push(w),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),w=(this.immediateMode.geometry.vertexColors.push(w[0],w[1],w[2],w[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(w[0],w[1],w[2],w[3]),this.textureMode!==c.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(h/=this._tex.width,b/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(h,b),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=i,this.immediateMode._bezierVertex[2]=v,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=i,this.immediateMode._quadraticVertex[2]=v,this},s.default.RendererGL.prototype.normal=function(a,i,u){return a instanceof s.default.Vector?this._currentNormal=a:this._currentNormal=new s.default.Vector(a,i,u),this},s.default.RendererGL.prototype.endShape=function(a,i,u,d,h,b){var v,w=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===c.TESS&&(this.immediateMode.shapeMode=c.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),v=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN,v=!0),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._doFill&&!v&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(w),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(a){var i;this.immediateMode.geometry.vertices.length!==0&&(i=this._doStroke,a=a===c.CLOSE,i&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),i=this.immediateMode.shapeMode===c.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||i||a)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(a,i,u){var d=[],h=0,b=this.immediateMode.contourIndices.slice(),v=0;switch(a){case c.TRIANGLE_STRIP:for(h=0;h<i.length-2;h++)d.push([h,h+1]),d.push([h,h+2]);d.push([h,h+1]);break;case c.TRIANGLE_FAN:for(h=1;h<i.length-1;h++)d.push([0,h]),d.push([h,h+1]);d.push([0,i.length-1]);break;case c.TRIANGLES:for(h=0;h<i.length-2;h+=3)d.push([h,h+1]),d.push([h+1,h+2]),d.push([h+2,h]);break;case c.LINES:for(h=0;h<i.length-1;h+=2)d.push([h,h+1]);break;case c.QUADS:for(h=0;h<i.length-5;h+=6)d.push([h,h+1]),d.push([h+1,h+2]),d.push([h+3,h+5]),d.push([h+4,h+5]);break;case c.QUAD_STRIP:for(h=0;h<i.length-2;h+=2)d.push([h,h+1]),d.push([h,h+2]),d.push([h+1,h+3]);d.push([h,h+1]);break;default:for(h=0;h<i.length;h++)h+1<i.length&&h+1!==b[0]?d.push([h,h+1]):((u||v)&&d.push([h,v]),0<b.length&&(v=b.shift()))}return a!==c.TESS&&u&&d.push([i.length-1,0]),d},s.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,i=(this.immediateMode.shapeMode=c.TRIANGLES,[[]]),u=0;u<this.immediateMode.geometry.vertices.length;u++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===u&&(this.immediateMode.contourIndices.shift(),i.push([])),i[i.length-1].push(this.immediateMode.geometry.vertices[u].x,this.immediateMode.geometry.vertices[u].y,this.immediateMode.geometry.vertices[u].z,this.immediateMode.geometry.uvs[2*u],this.immediateMode.geometry.uvs[2*u+1],this.immediateMode.geometry.vertexColors[4*u],this.immediateMode.geometry.vertexColors[4*u+1],this.immediateMode.geometry.vertexColors[4*u+2],this.immediateMode.geometry.vertexColors[4*u+3],this.immediateMode.geometry.vertexNormals[u].x,this.immediateMode.geometry.vertexNormals[u].y,this.immediateMode.geometry.vertexNormals[u].z);for(var d,h=this._triangulate(i),b=this.immediateMode.geometry.vertices,v=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),w=0,E=h.length;w<E;w+=s.default.RendererGL.prototype.tessyVertexSize)v.push.apply(v,m(h.slice(w+5,w+9))),this.normal.apply(this,m(h.slice(w+9,w+12))),this.vertex.apply(this,m(h.slice(w,w+5)));this.geometryBuilder&&(d=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(k){return k.map(function(T){if(!d.has(T)){var L=b[T],R=a.immediateMode.geometry.vertices.findIndex(function($){return L.x===$.x&&L.y===$.y&&L.z===$.z});if(R===-1){for(var M=1/0,N=0,D=0;D<a.immediateMode.geometry.vertices.length;D++){var V=a.immediateMode.geometry.vertices[D],z=L.x-V.x,G=L.y-V.y,V=L.z-V.z,z=z*z+G*G+V*V;z<M&&(M=z,N=D)}R=N}d.set(T,R)}return d.get(T)})})),this.immediateMode.geometry.vertexColors=v},s.default.RendererGL.prototype._drawImmediateFill=function(){var a,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,u=this.GL,d=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),h=!1,b=void 0;try{for(var v,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(v=w.next()).done);d=!0)v.value._prepareBuffer(this.immediateMode.geometry,a)}catch(E){h=!0,b=E}finally{try{d||w.return==null||w.return()}finally{if(h)throw b}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),i===1)u.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{u.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,i)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,i=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),u=(this._setStrokeUniforms(i),!0),d=!1,h=void 0;try{for(var b,v=this.immediateMode.buffers.stroke[Symbol.iterator]();!(u=(b=v.next()).done);u=!0)b.value._prepareBuffer(this.immediateMode.geometry,i)}catch(w){d=!0,h=w}finally{try{u||v.return==null||v.return()}finally{if(d)throw h}}i.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),i.unbindShader()},s.default.RendererGL);y.default=r},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,_,y){function l(n){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function f(n){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(r){return l(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":l(r)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},c=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(n){if(n&&n.__esModule)return n;if(n===null||f(n)!=="object"&&typeof n!="function")return{default:n};var r=p();if(r&&r.has(n))return r.get(n);var a,i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var d;Object.prototype.hasOwnProperty.call(n,a)&&((d=u?Object.getOwnPropertyDescriptor(n,a):null)&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=n[a])}return i.default=n,r&&r.set(n,i),i}(t("../core/constants")));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}s.default.RendererGL.prototype.freeGeometry=function(n){n.gid?this._freeBuffers(n.gid):console.warn("The model you passed to freeGeometry does not have an id!")},s.default.RendererGL.prototype._initBufferDefaults=function(n){var r;return this._freeBuffers(n),1e3<Object.keys(this.retainedMode.geometry).length&&(r=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(r)),this.retainedMode.geometry[n]={}},s.default.RendererGL.prototype._freeBuffers=function(n){var r,a=this.retainedMode.geometry[n];function i(u){var d=!0,h=!1,b=void 0;try{for(var v,w=u[Symbol.iterator]();!(d=(v=w.next()).done);d=!0){var E=v.value;a[E.dst]&&(r.deleteBuffer(a[E.dst]),a[E.dst]=null)}}catch(k){h=!0,b=k}finally{try{d||w.return==null||w.return()}finally{if(h)throw b}}}a&&(delete this.retainedMode.geometry[n],r=this.GL,a.indexBuffer&&r.deleteBuffer(a.indexBuffer),i(this.retainedMode.buffers.stroke),i(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(h,r){var a,i,u,d=this.GL,h=this._initBufferDefaults(h),b=(h.model=r,h.indexBuffer);return r.faces.length?(b=b||(h.indexBuffer=d.createBuffer()),u=(i=(a=s.default.RendererGL.prototype._flatten(r.faces)).some(function(v){return 65535<v}))?Uint32Array:Uint16Array,this._bindBuffer(b,d.ELEMENT_ARRAY_BUFFER,a,u),h.indexBufferType=i?d.UNSIGNED_INT:d.UNSIGNED_SHORT,h.vertexCount=3*r.faces.length):(b&&(d.deleteBuffer(b),h.indexBuffer=null),h.vertexCount=r.vertices?r.vertices.length:0),h.lineVertexCount=r.lineVertices?r.lineVertices.length/3:0,h},s.default.RendererGL.prototype.drawBuffers=function(n){var r=this.GL,a=this.retainedMode.geometry[n];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[n].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var i=this._getRetainedFillShader(),u=(this._setFillUniforms(i),!0),d=!1,h=void 0;try{for(var b,v=this.retainedMode.buffers.fill[Symbol.iterator]();!(u=(b=v.next()).done);u=!0)b.value._prepareBuffer(a,i)}catch(L){d=!0,h=L}finally{try{u||v.return==null||v.return()}finally{if(d)throw h}}i.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,r.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(r.TRIANGLES,n),i.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var w=this._getRetainedStrokeShader(),E=(this._setStrokeUniforms(w),!0),d=!1,h=void 0;try{for(var k,T=this.retainedMode.buffers.stroke[Symbol.iterator]();!(E=(k=T.next()).done);E=!0)k.value._prepareBuffer(a,w)}catch(M){d=!0,h=M}finally{try{E||T.return==null||T.return()}finally{if(d)throw h}}w.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(r.TRIANGLES,n),w.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},s.default.RendererGL.prototype.drawBuffersScaled=function(n,r,a,i){var u=this.uModelMatrix.copy();try{this.uModelMatrix.scale(r,a,i),this.drawBuffers(n)}finally{this.uModelMatrix=u}},s.default.RendererGL.prototype._drawArrays=function(n,r){return this.GL.drawArrays(n,0,this.retainedMode.geometry[r].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(n,a){var a=this.retainedMode.geometry[a],i=this.GL;if(a.indexBuffer){if(this._pInst.webglVersion!==c.WEBGL2&&a.indexBufferType===i.UNSIGNED_INT&&!i.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");i.drawElements(i.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else i.drawArrays(n||i.TRIANGLES,0,a.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(n,r){var a=this.GL,i=this._getImmediatePointShader();this._setPointUniforms(i),this._bindBuffer(r,a.ARRAY_BUFFER,this._vToNArray(n),Float32Array,a.STATIC_DRAW),i.enableAttrib(i.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,n.length),i.unbindShader()};var m=s.default.RendererGL;y.default=m},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(D,_,y){function l(Y){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(Y)}function f(Y){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(ee){return l(ee)}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":l(ee)})(Y)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.copy-within"),D("core-js/modules/es.array.every"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.flat"),D("core-js/modules/es.array.flat-map"),D("core-js/modules/es.array.from"),D("core-js/modules/es.array.includes"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.map"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.array.some"),D("core-js/modules/es.array.unscopables.flat"),D("core-js/modules/es.array.unscopables.flat-map"),D("core-js/modules/es.map"),D("core-js/modules/es.object.assign"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.set"),D("core-js/modules/es.string.includes"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.typed-array.float32-array"),D("core-js/modules/es.typed-array.float64-array"),D("core-js/modules/es.typed-array.int16-array"),D("core-js/modules/es.typed-array.uint8-array"),D("core-js/modules/es.typed-array.uint16-array"),D("core-js/modules/es.typed-array.uint32-array"),D("core-js/modules/es.typed-array.copy-within"),D("core-js/modules/es.typed-array.every"),D("core-js/modules/es.typed-array.fill"),D("core-js/modules/es.typed-array.filter"),D("core-js/modules/es.typed-array.find"),D("core-js/modules/es.typed-array.find-index"),D("core-js/modules/es.typed-array.for-each"),D("core-js/modules/es.typed-array.includes"),D("core-js/modules/es.typed-array.index-of"),D("core-js/modules/es.typed-array.iterator"),D("core-js/modules/es.typed-array.join"),D("core-js/modules/es.typed-array.last-index-of"),D("core-js/modules/es.typed-array.map"),D("core-js/modules/es.typed-array.reduce"),D("core-js/modules/es.typed-array.reduce-right"),D("core-js/modules/es.typed-array.reverse"),D("core-js/modules/es.typed-array.set"),D("core-js/modules/es.typed-array.slice"),D("core-js/modules/es.typed-array.some"),D("core-js/modules/es.typed-array.sort"),D("core-js/modules/es.typed-array.subarray"),D("core-js/modules/es.typed-array.to-locale-string"),D("core-js/modules/es.typed-array.to-string"),D("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.readPixelsWebGL=$,y.readPixelWebGL=q,y.default=void 0;var s=a(D("../core/main")),c=function(Y){if(Y&&Y.__esModule)return Y;if(Y===null||f(Y)!=="object"&&typeof Y!="function")return{default:Y};var ee=r();if(ee&&ee.has(Y))return ee.get(Y);var Z,se={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Z in Y){var B;Object.prototype.hasOwnProperty.call(Y,Z)&&((B=P?Object.getOwnPropertyDescriptor(Y,Z):null)&&(B.get||B.set)?Object.defineProperty(se,Z,B):se[Z]=Y[Z])}return se.default=Y,ee&&ee.set(Y,se),se}(D("../core/constants")),p=a(D("./GeometryBuilder")),m=a(D("libtess")),n=(D("./p5.Shader"),D("./p5.Camera"),D("../core/p5.Renderer"),D("./p5.Matrix"),D("./p5.Framebuffer"),D("path"),D("./p5.Texture"));function r(){var Y;return typeof WeakMap!="function"?null:(Y=new WeakMap,r=function(){return Y},Y)}function a(Y){return Y&&Y.__esModule?Y:{default:Y}}function i(Y){return function(ee){if(Array.isArray(ee)){for(var Z=0,se=new Array(ee.length);Z<ee.length;Z++)se[Z]=ee[Z];return se}}(Y)||function(ee){if(Symbol.iterator in Object(ee)||Object.prototype.toString.call(ee)==="[object Arguments]")return Array.from(ee)}(Y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(Y,ee){for(var Z=0;Z<ee.length;Z++){var se=ee[Z];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Y,se.key,se)}}function d(Y,ee,Z){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(W,P,B){var W=function(K,ne){for(;!Object.prototype.hasOwnProperty.call(K,ne)&&(K=w(K))!==null;);return K}(W,P);if(W)return(W=Object.getOwnPropertyDescriptor(W,P)).get?W.get.call(B):W.value})(Y,ee,Z||Y)}function h(Y,ee){return(h=Object.setPrototypeOf||function(Z,se){return Z.__proto__=se,Z})(Y,ee)}function b(Y){return function(){var ee,Z,se=w(Y);return ee=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(ee=w(this).constructor,Reflect.construct(se,arguments,ee)):se.apply(this,arguments),se=this,!(Z=ee)||f(Z)!=="object"&&typeof Z!="function"?v(se):Z}}function v(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function w(Y){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)})(Y)}function E(Y,ee,Z){ee in Y?Object.defineProperty(Y,ee,{value:Z,enumerable:!0,configurable:!0,writable:!0}):Y[ee]=Z}function k(Y,ee){N+="#define STROKE_CAP_".concat(Y," ").concat(ee,`
`),R[c[Y]]=ee}function T(Y,ee){N+="#define STROKE_JOIN_".concat(Y," ").concat(ee,`
`),M[c[Y]]=ee}var L,R={},M={},N="",D=(k("ROUND",0),k("PROJECT",1),k("SQUARE",2),T("ROUND",0),T("MITER",1),T("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),G={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:D+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:D+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:N+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:N+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},V=G.sphereMappingFrag;for(L in G)G[L]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+G[L];E(D={},c.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),E(D,c.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),E(D,c.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),E(D,c.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),E(D,c.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),E(D,c.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),E(D,c.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),E(D,c.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var z=D;function $(Y,ee,ge,se,P,B,W,K,ne,oe){var fe=ee.getParameter(ee.FRAMEBUFFER_BINDING),ge=(ee.bindFramebuffer(ee.FRAMEBUFFER,ge),K===ee.RGBA?4:3),de=B*W*ge,ye=ne===ee.UNSIGNED_BYTE?Uint8Array:Float32Array;if(Y instanceof ye&&Y.length===de||(Y=new ye(de)),ee.readPixels(se,oe?oe-P-W:P,B,W,K,ne,Y),ee.bindFramebuffer(ee.FRAMEBUFFER,fe),oe)for(var be=Math.floor(W/2),ae=new ye(B*ge),ve=0;ve<be;ve++){var _e=ve*B*4,Me=(W-ve-1)*B*4;ae.set(Y.subarray(_e,_e+4*B)),Y.copyWithin(_e,Me,Me+4*B),Y.set(ae,Me)}return Y}function q(Y,ne,Z,se,P,B,W){var K=Y.getParameter(Y.FRAMEBUFFER_BINDING),ne=(Y.bindFramebuffer(Y.FRAMEBUFFER,ne),P===Y.RGBA?4:3),ne=new(B===Y.UNSIGNED_BYTE?Uint8Array:Float32Array)(ne);return Y.readPixels(Z,W?W-se-1:se,1,1,P,B,ne),Y.bindFramebuffer(Y.FRAMEBUFFER,K),Array.from(ne)}s.default.prototype.setAttributes=function(Y,ee){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Z=!0;if(ee!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[Y]!==ee&&(this._glAttributes[Y]=ee,Z=!1)):Y instanceof Object&&this._glAttributes!==Y&&(this._glAttributes=Y,Z=!1),this._renderer.isP3D&&!Z){if(!this._setupDone){for(var se in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(se))return void s.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL=function(Y){var ee=se;if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(Y&&Y.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Y&&h(ee,Y);var Z=b(se);function se(P,B,W,K){if(this instanceof se)return(P=Z.call(this,P,B,W))._setAttributeDefaults(B),P._initContext(),P.isP3D=!0,P.geometryBuilder=void 0,P.GL=P.drawingContext,P._pInst._setProperty("drawingContext",P.drawingContext),P._isErasing=!1,P._clipDepths=[],P._isClipApplied=!1,P._stencilTestOn=!1,P._enableLighting=!1,P.ambientLightColors=[],P.mixedAmbientLight=[],P.mixedSpecularColor=[],P.specularColors=[1,1,1],P.directionalLightDirections=[],P.directionalLightDiffuseColors=[],P.directionalLightSpecularColors=[],P.pointLightPositions=[],P.pointLightDiffuseColors=[],P.pointLightSpecularColors=[],P.spotLightPositions=[],P.spotLightDirections=[],P.spotLightDiffuseColors=[],P.spotLightSpecularColors=[],P.spotLightAngle=[],P.spotLightConc=[],P.activeImageLight=null,P.diffusedTextures=new Map,P.specularTextures=new Map,P.drawMode=c.FILL,P.curFillColor=P._cachedFillStyle=[1,1,1,1],P.curAmbientColor=P._cachedFillStyle=[1,1,1,1],P.curSpecularColor=P._cachedFillStyle=[0,0,0,0],P.curEmissiveColor=P._cachedFillStyle=[0,0,0,0],P.curStrokeColor=P._cachedStrokeStyle=[0,0,0,1],P.curBlendMode=c.BLEND,P.preEraseBlend=void 0,P._cachedBlendMode=void 0,P.webglVersion===c.WEBGL2?P.blendExt=P.GL:P.blendExt=P.GL.getExtension("EXT_blend_minmax"),P._isBlending=!1,P._hasSetAmbient=!1,P._useSpecularMaterial=!1,P._useEmissiveMaterial=!1,P._useNormalMaterial=!1,P._useShininess=1,P._useMetalness=0,P._useLineColor=!1,P._useVertexColor=!1,P.registerEnabled=new Set,P._tint=[255,255,255,255],P.constantAttenuation=1,P.linearAttenuation=0,P.quadraticAttenuation=0,P.uModelMatrix=new s.default.Matrix,P.uViewMatrix=new s.default.Matrix,P.uMVMatrix=new s.default.Matrix,P.uPMatrix=new s.default.Matrix,P.uNMatrix=new s.default.Matrix("mat3"),P.curMatrix=new s.default.Matrix("mat3"),P._currentNormal=new s.default.Vector(0,0,1),P._curCamera=new s.default.Camera(v(P)),P._curCamera._computeCameraDefaultSettings(),P._curCamera._setDefaultCamera(),P.filterCamera=new s.default.Camera(v(P)),P.filterCamera._computeCameraDefaultSettings(),P.filterCamera._setDefaultCamera(),P.prevTouches=[],P.zoomVelocity=0,P.rotateVelocity=new s.default.Vector(0,0),P.moveVelocity=new s.default.Vector(0,0),P.executeZoom=!1,P.executeRotateAndMove=!1,P.specularShader=void 0,P.sphereMapping=void 0,P.diffusedShader=void 0,P._defaultLightShader=void 0,P._defaultImmediateModeShader=void 0,P._defaultNormalShader=void 0,P._defaultColorShader=void 0,P._defaultPointShader=void 0,P.userFillShader=void 0,P.userStrokeShader=void 0,P.userPointShader=void 0,P.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(P)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(P)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(P)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(P)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(P))],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(P),P._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(P),P._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(P)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(P)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(P),P._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(P),P._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(P),P._flatten)]}},P.immediateMode={geometry:new s.default.Geometry,shapeMode:c.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(P),P._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(P),P._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(P)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(P)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(P),P._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(P)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(P)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(P)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(P)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(P))],point:P.GL.createBuffer()}},P.pointSize=5,P.curStrokeWeight=1,P.curStrokeCap=c.ROUND,P.curStrokeJoin=c.ROUND,P.textures=new Map,P.framebuffers=new Set,P.activeFramebuffers=[],P.filterShader=void 0,P.filterLayer=void 0,P.filterLayerTemp=void 0,P.defaultFilterShaders={},P.textureMode=c.IMAGE,P.textureWrapX=c.CLAMP,P.textureWrapY=c.CLAMP,P._tex=null,P._curveTightness=6,P._lookUpTableBezier=[],P._lookUpTableQuadratic=[],P._lutBezierDetail=0,P._lutQuadraticDetail=0,P.isProcessingVertices=!1,P._tessy=P._initTessy(),P.fontInfos={},P._curShader=void 0,P;throw new TypeError("Cannot call a class as a function")}return ee=se,(Y=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new p.default(this)}},{key:"endGeometry",value:function(){var P;if(this.geometryBuilder)return P=this.geometryBuilder.finish(),this.geometryBuilder=void 0,P;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(P){return this.beginGeometry(),P(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(P){var B={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};P._glAttributes===null?P._glAttributes=B:P._glAttributes=Object.assign(B,P._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var P=this.drawingContext;P.enable(P.DEPTH_TEST),P.depthFunc(P.LEQUAL),P.viewport(0,0,P.drawingBufferWidth,P.drawingBufferHeight),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var P=this.drawingContext;return P.getParameter(P.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(P,B){this._maxTextureSize||(this._maxTextureSize=this._getParam());var K=this._maxTextureSize,K=(s.default.prototype._maxAllowedPixelDimensions,Math.floor(K/this.pixelDensity())),W=Math.min(P,K),K=Math.min(B,K);return W===P&&K===B||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(W,", height: ").concat(K,".")),{adjustedWidth:W,adjustedHeight:K}}},{key:"_resetContext",value:function(P,B){var W,K=this.width,ne=this.height,fe=this.canvas.id,oe=this._pInst instanceof s.default.Graphics,fe=(oe?((W=this._pInst).canvas.parentNode.removeChild(W.canvas),W.canvas=document.createElement("canvas"),(W._pInst._userNode||document.body).appendChild(W.canvas),s.default.Element.call(W,W.canvas,W._pInst),W.width=K,W.height=ne):((W=this.canvas)&&W.parentNode.removeChild(W),(W=document.createElement("canvas")).id=fe,(this._pInst._userNode||document.body).appendChild(W),this._pInst.canvas=W,this.canvas=W),new s.default.RendererGL(this._pInst.canvas,this._pInst,!oe));this._pInst._setProperty("_renderer",fe),fe.resize(K,ne),fe._applyDefaults(),oe||this._pInst._elements.push(fe),typeof B=="function"&&setTimeout(function(){B.apply(window._renderer,P)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var K=(K=this._pInst).color.apply(K,arguments),P=K.levels[0]/255,B=K.levels[1]/255,W=K.levels[2]/255,K=K.levels[3]/255;this.clear(P,B,W,K)}},{key:"fill",value:function(P,B,W,K){var ne=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ne._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(P,B,W,K){var ne=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ne._array}},{key:"strokeCap",value:function(P){this.curStrokeCap=P}},{key:"strokeJoin",value:function(P){this.curStrokeJoin=P}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(P,B){P.width===B.width&&P.height===B.height||P.resize(B.width,B.height),P.pixelDensity()!==B.pixelDensity()&&P.pixelDensity(B.pixelDensity())}},{key:"filter",value:function(){var P,B,W=this,K=this.getFilterLayer(),ne=void 0,oe=void 0,fe=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(oe=arguments.length<=0?void 0:arguments[0],E(P={},c.BLUR,3),E(P,c.POSTERIZE,4),E(P,c.THRESHOLD,.5),ne=oe in(P=P)&&(arguments.length<=1?void 0:arguments[1])===void 0?P[oe]:arguments.length<=1?void 0:arguments[1],oe in this.defaultFilterShaders||(this.defaultFilterShaders[oe]=new s.default.Shader(K._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,z[oe])),this.filterShader=this.defaultFilterShaders[oe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ge=(this.matchSize(K,fe),K.draw(function(){return W._pInst.clear()}),[1/(fe.width*fe.pixelDensity()),1/(fe.height*fe.pixelDensity())]);oe===c.BLUR?(B=this.getFilterLayerTemp(),this.matchSize(B,fe),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(c.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ge),this.filterShader.setUniform("canvasSize",[fe.width,fe.height]),this.filterShader.setUniform("radius",Math.max(1,ne)),B.draw(function(){W.filterShader.setUniform("direction",[1,0]),W.filterShader.setUniform("tex0",fe),W._pInst.clear(),W._pInst.shader(W.filterShader),W._pInst.noLights(),W._pInst.plane(fe.width,fe.height)}),K.draw(function(){W.filterShader.setUniform("direction",[0,1]),W.filterShader.setUniform("tex0",B),W._pInst.clear(),W._pInst.shader(W.filterShader),W._pInst.noLights(),W._pInst.plane(fe.width,fe.height)}),this._pInst.pop()):K.draw(function(){W._pInst.noStroke(),W._pInst.blendMode(c.BLEND),W._pInst.shader(W.filterShader),W.filterShader.setUniform("tex0",fe),W.filterShader.setUniform("texelSize",ge),W.filterShader.setUniform("canvasSize",[fe.width,fe.height]),W.filterShader.setUniform("filterParameter",ne),W._pInst.noLights(),W._pInst.plane(fe.width,fe.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(c.CORNER),this._pInst.blendMode(c.BLEND),fe.filterCamera._resize(),this._pInst.setCamera(fe.filterCamera),this._pInst.resetMatrix(),this._pInst.image(K,-fe.width/2,-fe.height/2,fe.width,fe.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(P){return P?this._pInst.pixelDensity(P):this._pInst.pixelDensity()}},{key:"blendMode",value:function(P){P===c.DARKEST||P===c.LIGHTEST||P===c.ADD||P===c.BLEND||P===c.SUBTRACT||P===c.SCREEN||P===c.EXCLUSION||P===c.REPLACE||P===c.MULTIPLY||P===c.REMOVE?this.curBlendMode=P:P!==c.BURN&&P!==c.OVERLAY&&P!==c.HARD_LIGHT&&P!==c.SOFT_LIGHT&&P!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(P,B){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(c.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,P/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,B/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},P=(d(w(se.prototype),"beginClip",this).call(this,P),this.drawTarget()._isClipApplied=!0,this.GL);P.clearStencil(0),P.clear(P.STENCIL_BUFFER_BIT),P.enable(P.STENCIL_TEST),this._stencilTestOn=!0,P.stencilFunc(P.ALWAYS,1,255),P.stencilOp(P.KEEP,P.KEEP,P.REPLACE),P.disable(P.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var P=this.GL;P.stencilOp(P.KEEP,P.KEEP,P.KEEP),P.stencilFunc(this._clipInvert?P.EQUAL:P.NOTEQUAL,0,255),P.enable(P.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),d(w(se.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(P){this.curStrokeWeight!==P&&(this.pointSize=P,this.curStrokeWeight=P)}},{key:"_getPixel",value:function(P,B){var W=this.GL;return q(W,null,P,B,W.RGBA,W.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var P,B,W=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(P=this._pInst._pixelDensity,B=this.GL,W._setProperty("pixels",$(W.pixels,B,null,0,0,this.width*P,this.height*P,B.RGBA,B.UNSIGNED_BYTE,this.height*P)))}},{key:"updatePixels",value:function(){var P=this._getTempFramebuffer();P.pixels=this._pixelsState.pixels,P.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(P,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(P){return this.retainedMode.geometry[P]!==void 0}},{key:"viewport",value:function(P,B){this._viewport=[0,0,P,B],this.GL.viewport(0,0,P,B)}},{key:"resize",value:function(ne,K){s.default.Renderer.prototype.resize.call(this,ne,K),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ne=this._pixelsState,W=(ne.pixels!==void 0&&ne._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),K=!1,ne=void 0;try{for(var oe,fe=this.framebuffers[Symbol.iterator]();!(W=(oe=fe.next()).done);W=!0)oe.value._canvasSizeChanged()}catch(ge){K=!0,ne=ge}finally{try{W||fe.return==null||fe.return()}finally{if(K)throw ne}}}},{key:"clear",value:function(){var P=(arguments.length<=0?void 0:arguments[0])||0,B=(arguments.length<=1?void 0:arguments[1])||0,W=(arguments.length<=2?void 0:arguments[2])||0,K=(arguments.length<=3?void 0:arguments[3])||0,ne=this.activeFramebuffer();ne&&ne.format===c.UNSIGNED_BYTE&&!ne.antialias&&K===0&&(K=1e-10),this.GL.clearColor(P*K,B*K,W*K,K),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(P,B,W,K,ne,oe){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([P,B,0,0,W,K,0,0,0,0,1,0,ne,oe,0,1])}},{key:"translate",value:function(P,B,W){return P instanceof s.default.Vector&&(W=P.z,B=P.y,P=P.x),this.uModelMatrix.translate([P,B,W]),this}},{key:"scale",value:function(P,B,W){return this.uModelMatrix.scale(P,B,W),this}},{key:"rotate",value:function(P,B){return B===void 0?this.rotateZ(P):(s.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(P){return this.rotate(P,1,0,0),this}},{key:"rotateY",value:function(P){return this.rotate(P,0,1,0),this}},{key:"rotateZ",value:function(P){return this.rotate(P,0,0,1),this}},{key:"push",value:function(){var P=s.default.Renderer.prototype.push.apply(this),B=P.properties;return B.uModelMatrix=this.uModelMatrix.copy(),B.uViewMatrix=this.uViewMatrix.copy(),B.uPMatrix=this.uPMatrix.copy(),B._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),B.ambientLightColors=this.ambientLightColors.slice(),B.specularColors=this.specularColors.slice(),B.directionalLightDirections=this.directionalLightDirections.slice(),B.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),B.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),B.pointLightPositions=this.pointLightPositions.slice(),B.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),B.pointLightSpecularColors=this.pointLightSpecularColors.slice(),B.spotLightPositions=this.spotLightPositions.slice(),B.spotLightDirections=this.spotLightDirections.slice(),B.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),B.spotLightSpecularColors=this.spotLightSpecularColors.slice(),B.spotLightAngle=this.spotLightAngle.slice(),B.spotLightConc=this.spotLightConc.slice(),B.userFillShader=this.userFillShader,B.userStrokeShader=this.userStrokeShader,B.userPointShader=this.userPointShader,B.pointSize=this.pointSize,B.curStrokeWeight=this.curStrokeWeight,B.curStrokeColor=this.curStrokeColor,B.curFillColor=this.curFillColor,B.curAmbientColor=this.curAmbientColor,B.curSpecularColor=this.curSpecularColor,B.curEmissiveColor=this.curEmissiveColor,B._hasSetAmbient=this._hasSetAmbient,B._useSpecularMaterial=this._useSpecularMaterial,B._useEmissiveMaterial=this._useEmissiveMaterial,B._useShininess=this._useShininess,B._useMetalness=this._useMetalness,B.constantAttenuation=this.constantAttenuation,B.linearAttenuation=this.linearAttenuation,B.quadraticAttenuation=this.quadraticAttenuation,B._enableLighting=this._enableLighting,B._useNormalMaterial=this._useNormalMaterial,B._tex=this._tex,B.drawMode=this.drawMode,B._currentNormal=this._currentNormal,B.curBlendMode=this.curBlendMode,B.activeImageLight=this.activeImageLight,B.textureMode=this.textureMode,P}},{key:"pop",value:function(){var P;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var B=arguments.length,W=new Array(B),K=0;K<B;K++)W[K]=arguments[K];(P=d(w(se.prototype),"pop",this)).call.apply(P,[this].concat(W)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var P=this.drawTarget();P._isClipApplied!==this._stencilTestOn&&(P._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var P=this.userStrokeShader;return P&&P.isStrokeShader()?P:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(P){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(V)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",P),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var P=this.userFillShader;if(this._useNormalMaterial&&(!P||!P.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!P||!P.isLightShader())return this._getLightShader()}else if(this._tex){if(!P||!P.isTextureShader())return this._getLightShader()}else if(!P)return this._getImmediateModeShader();return P}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var P=this.userFillShader;if(this._enableLighting){if(!P||!P.isLightShader())return this._getLightShader()}else if(this._tex){if(!P||!P.isTextureShader())return this._getLightShader()}else if(!P)return this._getColorShader();return P}},{key:"_getImmediatePointShader",value:function(){var P=this.userPointShader;return P&&P.isPointShader()?P:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+G.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+G.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+G.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+G.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+G.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+G.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(P,B){var W="";return this.webglVersion===c.WEBGL2&&(W+=`#version 300 es
#define WEBGL2
`),P==="vert"?W+=`#define VERTEX_SHADER
`:P==="frag"&&(W+=`#define FRAGMENT_SHADER
`),B&&(W+="precision ".concat(B,` float;
`)),W}},{key:"_getEmptyTexture",value:function(){var P;return this._emptyTexture||((P=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,P)),this._emptyTexture}},{key:"getTexture",value:function(P){P instanceof s.default.Framebuffer&&(P=P.color);var B=this.textures.get(P);return B||(B=new s.default.Texture(this,P),this.textures.set(P,B),B)}},{key:"getDiffusedTexture",value:function(P){var B,W,K=this;return this.diffusedTextures.get(P)!=null?this.diffusedTextures.get(P):(B=Math.floor(P.height/P.width*200),W=this._pInst.createFramebuffer({width:200,height:B,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(G.imageLightVert,G.imageLightDiffusedFrag)),W.draw(function(){K._pInst.shader(K.diffusedShader),K.diffusedShader.setUniform("environmentMap",P),K._pInst.noStroke(),K._pInst.rectMode(c.CENTER),K._pInst.noLights(),K._pInst.rect(0,0,200,B)}),this.diffusedTextures.set(P,W),W)}},{key:"getSpecularTexture",value:function(P){var B=this;if(this.specularTextures.get(P)!=null)return this.specularTextures.get(P);for(var W,K=[],ne=this._pInst.createFramebuffer({width:512,height:512,density:1}),oe=Math.log(512)/Math.log(2),fe=(this.specularShader||(this.specularShader=this._pInst.createShader(G.imageLightVert,G.imageLightSpecularFrag)),512);1<=fe;fe/=2)(function(ge){ne.resize(ge,ge);var de=1-Math.log(ge)/Math.log(2)/oe;ne.draw(function(){B._pInst.shader(B.specularShader),B._pInst.clear(),B.specularShader.setUniform("environmentMap",P),B.specularShader.setUniform("roughness",de),B._pInst.noStroke(),B._pInst.noLights(),B._pInst.plane(ge,ge)}),K.push(ne.get().drawingContext.getImageData(0,0,ge,ge))})(fe);return ne.remove(),W=new n.MipmapTexture(this,K,{}),this.specularTextures.set(P,W),W}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(P){return new s.default.Framebuffer(this,P)}},{key:"_setStrokeUniforms",value:function(P){P.bindShader(),P.setUniform("uUseLineColor",this._useLineColor),P.setUniform("uMaterialColor",this.curStrokeColor),P.setUniform("uStrokeWeight",this.curStrokeWeight),P.setUniform("uStrokeCap",R[this.curStrokeCap]),P.setUniform("uStrokeJoin",M[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(P){var B=this,W=(P.bindShader(),this.mixedSpecularColor=i(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(K,ne){return B.curFillColor[ne]*B._useMetalness+K*(1-B._useMetalness)})),P.setUniform("uUseVertexColor",this._useVertexColor),P.setUniform("uMaterialColor",this.curFillColor),P.setUniform("isTexture",!!this._tex),this._tex&&P.setUniform("uSampler",this._tex),P.setUniform("uTint",this._tint),P.setUniform("uHasSetAmbient",this._hasSetAmbient),P.setUniform("uAmbientMatColor",this.curAmbientColor),P.setUniform("uSpecularMatColor",this.mixedSpecularColor),P.setUniform("uEmissiveMatColor",this.curEmissiveColor),P.setUniform("uSpecular",this._useSpecularMaterial),P.setUniform("uEmissive",this._useEmissiveMaterial),P.setUniform("uShininess",this._useShininess),P.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(P),P.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),W=(P.setUniform("uPointLightCount",W),P.setUniform("uPointLightLocation",this.pointLightPositions),P.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),P.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),W=(P.setUniform("uDirectionalLightCount",W),P.setUniform("uLightingDirection",this.directionalLightDirections),P.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),P.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),W=(this.mixedAmbientLight=i(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(K){return K-=B._useMetalness,Math.max(0,K)})),P.setUniform("uAmbientLightCount",W),P.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);P.setUniform("uSpotLightCount",W),P.setUniform("uSpotLightAngle",this.spotLightAngle),P.setUniform("uSpotLightConc",this.spotLightConc),P.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),P.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),P.setUniform("uSpotLightLocation",this.spotLightPositions),P.setUniform("uSpotLightDirection",this.spotLightDirections),P.setUniform("uConstantAttenuation",this.constantAttenuation),P.setUniform("uLinearAttenuation",this.linearAttenuation),P.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),P.bindTextures()}},{key:"_setImageLightUniforms",value:function(P){var B;P.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(B=this.getDiffusedTexture(this.activeImageLight),P.setUniform("environmentMapDiffused",B),B=this.getSpecularTexture(this.activeImageLight),P.setUniform("environmentMapSpecular",B))}},{key:"_setPointUniforms",value:function(P){P.bindShader(),P.setUniform("uMaterialColor",this.curStrokeColor),P.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(P,B,W,K,ne){B=B||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(B,P),W!==void 0&&((P=W)instanceof s.default.DataArray?P=W.dataArray():P instanceof(K||Float32Array)||(P=new(K||Float32Array)(P)),this.GL.bufferData(B,P,ne||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(P,B){return P.length===B.length&&P.every(function(W,K){return W===B[K]})}},{key:"_isTypedArray",value:function(P){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(B){return P instanceof B})}},{key:"_flatten",value:function(P){return P.flat()}},{key:"_vToNArray",value:function(P){return P.flatMap(function(B){return[B.x,B.y,B.z]})}},{key:"_bezierCoefficients",value:function(P){var B=P*P,W=1-P,K=W*W;return[K*W,3*K*P,3*W*B,B*P]}},{key:"_quadraticCoefficients",value:function(P){var B=1-P;return[B*B,2*B*P,P*P]}},{key:"_bezierToCatmull",value:function(P){return[P[1],P[1]+(P[2]-P[0])/this._curveTightness,P[2]-(P[3]-P[1])/this._curveTightness,P[2]]}},{key:"_initTessy",value:function(){var P=new m.default.GluTesselator;return P.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(B,W){var K=!0,ne=!1,oe=void 0;try{for(var fe,ge=B[Symbol.iterator]();!(K=(fe=ge.next()).done);K=!0){var de=fe.value;W.push(de)}}catch(ye){ne=!0,oe=ye}finally{try{K||ge.return==null||ge.return()}finally{if(ne)throw oe}}}),P.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(B){B!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(B))}),P.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(B){console.log("error callback"),console.log("error number: ".concat(B))}),P.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(B,W,K){for(var ne=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<K.length;oe++)for(var fe=0;fe<ne.length;fe++)K[oe]!==0&&W[oe]&&(ne[fe]+=W[oe][fe]*K[oe]);return ne}),P.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(B){}),P.gluTessProperty(m.default.gluEnum.GLU_TESS_WINDING_RULE,m.default.windingRule.GLU_TESS_WINDING_NONZERO),P}},{key:"_triangulate",value:function(P){var B=P[0]?P[0][2]:void 0,W=!0,K=!0,de=!1,be=void 0;try{for(var ne,oe=P[Symbol.iterator]();!(K=(ne=oe.next()).done);K=!0)for(var fe=ne.value,ge=0;ge<fe.length;ge+=s.default.RendererGL.prototype.tessyVertexSize)if(fe[ge+2]!==B){W=!1;break}}catch(Re){de=!0,be=Re}finally{try{K||oe.return==null||oe.return()}finally{if(de)throw be}}W?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var de=[],ye=(this._tessy.gluTessBeginPolygon(de),!0),be=!1,ae=void 0;try{for(var ve,_e=P[Symbol.iterator]();!(ye=(ve=_e.next()).done);ye=!0){var Me=ve.value;this._tessy.gluTessBeginContour();for(var Se=0;Se<Me.length;Se+=s.default.RendererGL.prototype.tessyVertexSize){var Te=Me.slice(Se,Se+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Te,Te)}this._tessy.gluTessEndContour()}}catch(Re){be=!0,ae=Re}finally{try{ye||_e.return==null||_e.return()}finally{if(be)throw ae}}return this._tessy.gluTessEndPolygon(),de}}])&&u(ee.prototype,Y),se}(s.default.Renderer),s.default.prototype._assert3d=function(Y){if(!this._renderer.isP3D)throw new Error("".concat(Y,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,D=s.default.RendererGL,y.default=D},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,_,y){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(c,p){return function(m){if(Array.isArray(m))return m}(c)||function(m,n){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var r=[],a=!0,i=!1,u=void 0;try{for(var d,h=m[Symbol.iterator]();!(a=(d=h.next()).done)&&(r.push(d.value),!n||r.length!==n);a=!0);}catch(b){i=!0,u=b}finally{try{a||h.return==null||h.return()}finally{if(i)throw u}}return r}}(c,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(c,p){for(var m=0;m<p.length;m++){var n=p[m];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}l.default.Shader=function(){function c(n,r,a){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},u=this,d=c;if(!(u instanceof d))throw new TypeError("Cannot call a class as a function");this._renderer=n,this._vertSrc=r,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:i.uniforms||{},declarations:i.declarations,helpers:i.helpers||{},vertex:i.vertex||{},fragment:i.fragment||{},modified:{vertex:i.modified&&i.modified.vertex||{},fragment:i.modified&&i.modified.fragment||{}}}}var p,m;return p=c,(m=[{key:"shaderSrc",value:function(v,r){var a,i,u,d,h,v=f(v.split("void main"),2),b=v[0],v=v[1],w="";for(a in this.hooks.uniforms)w+="uniform ".concat(a,`;
`);for(i in this.hooks.declarations&&(w+=this.hooks.declarations+`
`),this.hooks[r].declarations&&(w+=this.hooks[r].declarations+`
`),this.hooks.helpers)w+="".concat(i).concat(this.hooks.helpers[i],`
`);for(u in this.hooks[r])u!=="declarations"&&(d=(h=f(u.split(" "),2))[0],h=h[1],this.hooks.modified[r][u]&&(w+="#define AUGMENTED_HOOK_"+h+`
`),w+=d+" HOOK_"+h+this.hooks[r][u]+`
`);return b+w+"void main"+v}},{key:"version",value:function(){var n=/#version (.+)$/.exec(this.vertSrc());return n?n[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var n in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[n]?"[MODIFIED] ":"")+n+this.hooks.vertex[n]);for(var r in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[r]?"[MODIFIED] ":"")+r+this.hooks.fragment[r]);for(var a in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(a+this.hooks.helpers[a])}},{key:"modify",value:function(n){l.default._validateParameters("p5.Shader.modify",arguments);var r,a={vertex:{},fragment:{},helpers:{}};for(r in n)r!=="declarations"&&r!=="uniforms"&&(r==="vertexDeclarations"?a.vertex.declarations=(a.vertex.declarations||"")+`
`+n[r]:r==="fragmentDeclarations"?a.fragment.declarations=(a.fragment.declarations||"")+`
`+n[r]:this.hooks.vertex[r]?a.vertex[r]=n[r]:this.hooks.fragment[r]?a.fragment[r]=n[r]:a.helpers[r]=n[r]);var i,u,d=Object.assign({},this.hooks.modified.vertex),h=Object.assign({},this.hooks.modified.fragment);for(i in a.vertex)i!=="declarations"&&(d[i]=!0);for(u in a.fragment)u!=="declarations"&&(h[u]=!0);return new l.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(n.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,n.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,a.fragment),vertex:Object.assign({},this.hooks.vertex,a.vertex),helpers:Object.assign({},this.hooks.helpers,a.helpers),modified:{vertex:d,fragment:h}})}},{key:"init",value:function(){if(this._glProgram===0){var n,r=this._renderer.GL;if(this._vertShader=r.createShader(r.VERTEX_SHADER),r.shaderSource(this._vertShader,this.vertSrc()),r.compileShader(this._vertShader),!r.getShaderParameter(this._vertShader,r.COMPILE_STATUS))return n=r.getShaderInfoLog(this._vertShader),console.error(n),null;if(this._fragShader=r.createShader(r.FRAGMENT_SHADER),r.shaderSource(this._fragShader,this.fragSrc()),r.compileShader(this._fragShader),!r.getShaderParameter(this._fragShader,r.COMPILE_STATUS))return n=r.getShaderInfoLog(this._fragShader),console.error(n),null;this._glProgram=r.createProgram(),r.attachShader(this._glProgram,this._vertShader),r.attachShader(this._glProgram,this._fragShader),r.linkProgram(this._glProgram),r.getProgramParameter(this._glProgram,r.LINK_STATUS)||l.default._friendlyError("Snap! Error linking shader program: ".concat(r.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var n in this.hooks.uniforms){var r=f(n.split(" "),2)[1],n=this.hooks.uniforms[n],a=void 0;(a=n instanceof Function?n():n)!=null&&this.setUniform(r,a)}}},{key:"copyToContext",value:function(n){var r=new l.default.Shader(n._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(n),r}},{key:"ensureCompiledOnContext",value:function(n){if(this._glProgram!==0&&this._renderer!==n._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=n._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var n=this._renderer.GL,r=n.getProgramParameter(this._glProgram,n.ACTIVE_ATTRIBUTES),a=0;a<r;++a){var i=n.getActiveAttrib(this._glProgram,a),u=i.name,d=n.getAttribLocation(this._glProgram,u),h={};h.name=u,h.location=d,h.index=a,h.type=i.type,h.size=i.size,this.attributes[u]=h}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var n=this._renderer.GL,r=n.getProgramParameter(this._glProgram,n.ACTIVE_UNIFORMS),a=0,i=0;i<r;++i){var u=n.getActiveUniform(this._glProgram,i),d={},h=(d.location=n.getUniformLocation(this._glProgram,u.name),d.size=u.size,u.name);1<u.size&&(h=h.substring(0,h.indexOf("[0]"))),d.name=h,d.type=u.type,d._cachedData=void 0,d.type===n.SAMPLER_2D&&(d.samplerIndex=a,a++,this.samplers.push(d)),d.isArray=1<u.size||d.type===n.FLOAT_MAT3||d.type===n.FLOAT_MAT4||d.type===n.FLOAT_VEC2||d.type===n.FLOAT_VEC3||d.type===n.FLOAT_VEC4||d.type===n.INT_VEC2||d.type===n.INT_VEC4||d.type===n.INT_VEC3,this.uniforms[h]=d}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var n=this._renderer.GL,r=!0,a=!1,i=void 0;try{for(var u,d=this.samplers[Symbol.iterator]();!(r=(u=d.next()).done);r=!0){var h=u.value,b=h.texture;b===void 0&&(b=this._renderer._getEmptyTexture()),n.activeTexture(n.TEXTURE0+h.samplerIndex),b.bindTexture(),b.update(),n.uniform1i(h.location,h.samplerIndex)}}catch(v){a=!0,i=v}finally{try{r||d.return==null||d.return()}finally{if(a)throw i}}}},{key:"updateTextures",value:function(){var n=!0,r=!1,a=void 0;try{for(var i,u=this.samplers[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var d=i.value.texture;d&&d.update()}}catch(h){r=!0,a=h}finally{try{n||u.return==null||u.return()}finally{if(r)throw a}}}},{key:"unbindTextures",value:function(){var n=!0,r=!1,a=void 0;try{for(var i,u=this.samplers[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var d=i.value;this.setUniform(d.name,this._renderer._getEmptyTexture())}}catch(h){r=!0,a=h}finally{try{n||u.return==null||u.return()}finally{if(r)throw a}}}},{key:"_setMatrixUniforms",value:function(){var n=this._renderer.uModelMatrix,r=this._renderer.uViewMatrix,a=this._renderer.uPMatrix,i=n.copy().mult(r),u=(this._renderer.uMVMatrix=i).copy();u.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",r.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelMatrix",n.mat4),this.setUniform("uModelViewMatrix",i.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var n=this._renderer.GL;return this._renderer._curShader!==this&&(n.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(n,r){var a=this.uniforms[n];if(a){var i=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,r))return;a._cachedData=r.slice(0)}else{if(a._cachedData&&a._cachedData===r)return;Array.isArray(r)?a._cachedData=r.slice(0):a._cachedData=r}var u=a.location;switch(this.useProgram(),a.type){case i.BOOL:r===!0?i.uniform1i(u,1):i.uniform1i(u,0);break;case i.INT:1<a.size?r.length&&i.uniform1iv(u,r):i.uniform1i(u,r);break;case i.FLOAT:1<a.size?r.length&&i.uniform1fv(u,r):i.uniform1f(u,r);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(u,!1,r);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(u,!1,r);break;case i.FLOAT_VEC2:1<a.size?r.length&&i.uniform2fv(u,r):i.uniform2f(u,r[0],r[1]);break;case i.FLOAT_VEC3:1<a.size?r.length&&i.uniform3fv(u,r):i.uniform3f(u,r[0],r[1],r[2]);break;case i.FLOAT_VEC4:1<a.size?r.length&&i.uniform4fv(u,r):i.uniform4f(u,r[0],r[1],r[2],r[3]);break;case i.INT_VEC2:1<a.size?r.length&&i.uniform2iv(u,r):i.uniform2i(u,r[0],r[1]);break;case i.INT_VEC3:1<a.size?r.length&&i.uniform3iv(u,r):i.uniform3i(u,r[0],r[1],r[2]);break;case i.INT_VEC4:1<a.size?r.length&&i.uniform4iv(u,r):i.uniform4i(u,r[0],r[1],r[2],r[3]);break;case i.SAMPLER_2D:if(typeof r=="number"){if(r<i.TEXTURE0||r>i.TEXTURE31||r!==Math.ceil(r))return console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;i.activeTexture(r),i.uniform1i(u,r)}else i.activeTexture(i.TEXTURE0+a.samplerIndex),a.texture=r instanceof l.default.Texture?r:this._renderer.getTexture(r),i.uniform1i(u,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst);break;case i.SAMPLER_CUBE:case i.SAMPLER_3D:case i.SAMPLER_2D_SHADOW:case i.SAMPLER_2D_ARRAY:case i.SAMPLER_2D_ARRAY_SHADOW:case i.SAMPLER_CUBE_SHADOW:case i.INT_SAMPLER_2D:case i.INT_SAMPLER_3D:case i.INT_SAMPLER_CUBE:case i.INT_SAMPLER_2D_ARRAY:case i.UNSIGNED_INT_SAMPLER_2D:case i.UNSIGNED_INT_SAMPLER_3D:case i.UNSIGNED_INT_SAMPLER_CUBE:case i.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof r=="number"&&(r<i.TEXTURE0||r>i.TEXTURE31||r!==Math.ceil(r)?console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(i.activeTexture(r),i.uniform1i(u,r)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(n){return n!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(n,r,a,i,u,d){var h;return n&&(n=n.location)!==-1&&(h=this._renderer.GL,this._renderer.registerEnabled.has(n)||(h.enableVertexAttribArray(n),this._renderer.registerEnabled.add(n)),this._renderer.GL.vertexAttribPointer(n,r,a||h.FLOAT,i||!1,u||0,d||0)),this}},{key:"disableRemainingAttributes",value:function(){var n=this,r=!0,a=!1,i=void 0;try{for(var u,d=this._renderer.registerEnabled.values()[Symbol.iterator]();!(r=(u=d.next()).done);r=!0)(function(){var h=u.value;Object.keys(n.attributes).some(function(b){return n.attributes[b].location===h})||(n._renderer.GL.disableVertexAttribArray(h),n._renderer.registerEnabled.delete(h))})()}catch(h){a=!0,i=h}finally{try{r||d.return==null||d.return()}finally{if(a)throw i}}}}])&&s(p.prototype,m),c}(),t=l.default.Shader,y.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,_,y){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function f(b){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(v){return l(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":l(v)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.checkWebGLCapabilities=h,y.default=y.MipmapTexture=void 0;var s=(d=t("../core/main"))&&d.__esModule?d:{default:d},c=function(b){if(b&&b.__esModule)return b;if(b===null||f(b)!=="object"&&typeof b!="function")return{default:b};var v=p();if(v&&v.has(b))return v.get(b);var w,E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var T;Object.prototype.hasOwnProperty.call(b,w)&&((T=k?Object.getOwnPropertyDescriptor(b,w):null)&&(T.get||T.set)?Object.defineProperty(E,w,T):E[w]=b[w])}return E.default=b,v&&v.set(b,E),E}(t("../core/constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function m(b,v){return(m=Object.setPrototypeOf||function(w,E){return w.__proto__=E,w})(b,v)}function n(b){return function(){var v,w=r(b),w=(v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=r(this).constructor,Reflect.construct(w,arguments,v)):w.apply(this,arguments),this);if(!v||f(v)!=="object"&&typeof v!="function"){if(w!==void 0)return w;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return v}}function r(b){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(b)}function a(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function i(b,v){for(var w=0;w<v.length;w++){var E=v[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}function u(b,v,w){v&&i(b.prototype,v)}s.default.Texture=function(){function b(L,w,T){a(this,b),this._renderer=L;var k=this._renderer.GL,T=(T=T||{},this.src=w,this.glTex=void 0,this.glTarget=k.TEXTURE_2D,this.glFormat=T.format||k.RGBA,this.mipmaps=!1,this.glMinFilter=T.minFilter||k.LINEAR,this.glMagFilter=T.magFilter||k.LINEAR,this.glWrapS=T.wrapS||k.CLAMP_TO_EDGE,this.glWrapT=T.wrapT||k.CLAMP_TO_EDGE,this.glDataType=T.dataType||k.UNSIGNED_BYTE,h(L)),L=(this.glFormat!==k.HALF_FLOAT||T.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=k.FLOAT),this.glFormat!==k.HALF_FLOAT||this.glMinFilter!==k.LINEAR&&this.glMagFilter!==k.LINEAR||T.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===k.LINEAR&&(this.glMinFilter=k.NEAREST),this.glMagFilter===k.LINEAR&&(this.glMagFilter=k.NEAREST)),this.glFormat!==k.FLOAT||T.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=k.UNSIGNED_BYTE),this.glFormat!==k.FLOAT||this.glMinFilter!==k.LINEAR&&this.glMagFilter!==k.LINEAR||T.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===k.LINEAR&&(this.glMinFilter=k.NEAREST),this.glMagFilter===k.LINEAR&&(this.glMagFilter=k.NEAREST)),this.isSrcMediaElement=s.default.MediaElement!==void 0&&w instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&w instanceof s.default.Element&&!(w instanceof s.default.Graphics)&&!(w instanceof s.default.Renderer),this.isSrcP5Image=w instanceof s.default.Image,this.isSrcP5Graphics=w instanceof s.default.Graphics,this.isSrcP5Renderer=w instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&w instanceof ImageData,this.isFramebufferTexture=w instanceof s.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=L.width,this.height=L.height,this.init(L),this}return u(b,[{key:"_getTextureDataFromSource",value:function(){var v;return this.isFramebufferTexture?v=this.src.rawTexture():this.isSrcP5Image?v=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),v=this.src.canvas||this.src.elt):this.isImageData&&(v=this.src),v}},{key:"init",value:function(v){var w,E=this._renderer.GL;this.isFramebufferTexture||(this.glTex=E.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(w=new Uint8Array([1,1,1,1]),E.texImage2D(this.glTarget,0,E.RGBA,1,1,0,this.glFormat,this.glDataType,w)):E.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v))}},{key:"update",value:function(){var v,w,E,k=this.src;return k.width!==0&&k.height!==0&&!this.isFramebufferTexture&&(v=this._getTextureDataFromSource(),w=!1,E=this._renderer.GL,v.width!==this.width||v.height!==this.height?(w=!0,this.width=v.width||k.width,this.height=v.height||k.height,this.isSrcP5Image?k.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&k.setModified(!0)):this.isSrcP5Image?k.isModified()&&k.setModified(!(w=!0)):this.isSrcMediaElement?k.isModified()?k.setModified(!(w=!0)):k.loadedmetadata&&this._videoPrevUpdateTime!==k.time()&&(this._videoPrevUpdateTime=k.time(),w=!0):this.isImageData?k._dirty&&(w=!(k._dirty=!1)):w=!0,w&&(this.bindTexture(),E.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,v)),w)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(v,w){var E=this._renderer.GL;this.glMinFilter=this.glFilter(v),this.glMagFilter=this.glFilter(w),this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(v){var w=this._renderer.GL;return v===c.NEAREST?w.NEAREST:w.LINEAR}},{key:"setWrapMode",value:function(v,w){function E(R){return(R&R-1)==0}var k=this._renderer.GL,L=this._getTextureDataFromSource(),L=L.naturalWidth&&L.naturalHeight?(T=L.naturalWidth,L.naturalHeight):(T=this.width,this.height),T=E(T),L=E(L);v===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||T&&L?this.glWrapS=k.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=k.CLAMP_TO_EDGE):v===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||T&&L?this.glWrapS=k.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=k.CLAMP_TO_EDGE):this.glWrapS=k.CLAMP_TO_EDGE,w===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||T&&L?this.glWrapT=k.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=k.CLAMP_TO_EDGE):w===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||T&&L?this.glWrapT=k.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=k.CLAMP_TO_EDGE):this.glWrapT=k.CLAMP_TO_EDGE,this.bindTexture(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this.glWrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),b}();var d=function(b){var v=E;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),b&&m(v,b);var w=n(E);function E(k,T,L){return a(this,E),T=(k=w.call(this,k,T,L))._renderer.GL,k.glMinFilter===T.LINEAR&&(k.glMinFilter=T.LINEAR_MIPMAP_LINEAR),k}return u(E,[{key:"glFilter",value:function(k){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(k){var T=this._renderer.GL;this.glTex=T.createTexture(),this.bindTexture();for(var L=0;L<k.length;L++)T.texImage2D(this.glTarget,L,this.glFormat,this.glFormat,this.glDataType,k[L]);this.glMinFilter=T.LINEAR_MIPMAP_LINEAR,T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),E}(s.default.Texture);function h(k){var v=k.GL,k=k.webglVersion,w=k===c.WEBGL2?v.getExtension("EXT_color_buffer_float")&&v.getExtension("EXT_float_blend"):v.getExtension("OES_texture_float"),E=w&&v.getExtension("OES_texture_float_linear"),k=k===c.WEBGL2?v.getExtension("EXT_color_buffer_float"):v.getExtension("OES_texture_half_float");return{float:w,floatLinear:E,halfFloat:k,halfFloatLinear:k&&v.getExtension("OES_texture_half_float_linear")}}y.MipmapTexture=d,t=s.default.Texture,y.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,_,y){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function f(b){return(f=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(v){return l(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":l(v)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,c=(s=t("../core/main"))&&s.__esModule?s:{default:s},p=function(b){if(b&&b.__esModule)return b;if(b===null||f(b)!=="object"&&typeof b!="function")return{default:b};var v=m();if(v&&v.has(b))return v.get(b);var w,E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var T;Object.prototype.hasOwnProperty.call(b,w)&&((T=k?Object.getOwnPropertyDescriptor(b,w):null)&&(T.get||T.set)?Object.defineProperty(E,w,T):E[w]=b[w])}return E.default=b,v&&v.set(b,E),E}(t("../core/constants"));function m(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,m=function(){return b},b)}function n(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function r(b,v){for(var w=0;w<v.length;w++){var E=v[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}function a(b,v,w){v&&r(b.prototype,v)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},c.default.RendererGL.prototype.textWidth=function(b){return this._isOpenType()?this._textFont._textWidth(b,this._textSize):0};var i=function(){function b(v,w){n(this,b),this.width=v,this.height=w,this.infos=[]}return a(b,[{key:"findImage",value:function(v){var w,E,k=this.width*this.height;if(k<v)throw new Error("font is too complex to render in 3D");for(var T=this.infos.length-1;0<=T;--T){var L=this.infos[T];if(L.index+v<k){E=(w=L).imageData;break}}if(!w){try{E=new ImageData(this.width,this.height)}catch{var R=document.getElementsByTagName("canvas")[0],M=!R,N=(R||((R=document.createElement("canvas")).style.display="none",document.body.appendChild(R)),R.getContext("2d"));N&&(E=N.createImageData(this.width,this.height)),M&&document.body.removeChild(R)}this.infos.push(w={index:0,imageData:E})}return N=w.index,w.index+=v,E._dirty=!0,{imageData:E,index:N}}}]),b}();function u(L,v,w,E,k){var T=L.imageData.data,L=4*L.index++;T[L++]=v,T[L++]=w,T[L++]=E,T[+L]=k}var d=Math.sqrt(3),h=function(){function b(v){n(this,b),this.font=v,this.strokeImageInfos=new i(64,64),this.colDimImageInfos=new i(64,64),this.rowDimImageInfos=new i(64,64),this.colCellImageInfos=new i(64,64),this.rowCellImageInfos=new i(64,64),this.glyphInfos={}}return a(b,[{key:"getGlyphInfo",value:function(v){var w=this.glyphInfos[v.index];if(!w){var E=v.getBoundingBox(),k=E.x1,T=E.y1,L=E.x2-k,R=E.y2-T,M=v.path.commands;if(L==0||R==0||!M.length)return this.glyphInfos[v.index]={};for(var N=[],D=[],G=[],V=8;0<=V;--V)G.push([]);for(V=8;0<=V;--V)D.push([]);var z,$,q,Y,ee=function(){function ot(it,ut,lt,Pe){n(this,ot),this.p0=it,this.c0=ut,this.c1=lt,this.p1=Pe}return a(ot,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(qe){var ut=c.default.Vector.lerp(this.p0,this.c0,qe),Pe=c.default.Vector.lerp(this.c0,this.c1,qe),lt=c.default.Vector.lerp(ut,Pe,qe),Pe=(this.c1=c.default.Vector.lerp(this.c1,this.p1,qe),this.c0=c.default.Vector.lerp(Pe,this.c1,qe),c.default.Vector.lerp(lt,this.c0,qe)),qe=new ot(this.p0,ut,lt,Pe);return this.p0=Pe,qe}},{key:"splitInflections",value:function(){var it=c.default.Vector.sub(this.c0,this.p0),ut=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),it),lt=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),it),c.default.Vector.mult(ut,2)),Pe=[],qe=ut.x*lt.y-ut.y*lt.x;return qe!==0&&0<=(it=(lt=it.x*lt.y-it.y*lt.x)*lt-4*qe*(it.x*ut.y-it.y*ut.x))&&(qe<0&&(qe=-qe,lt=-lt),it=(-lt+(ut=Math.sqrt(it)))/(2*qe),0<(lt=(-lt-ut)/(2*qe))&&lt<1&&(Pe.push(this.split(lt)),it=1-(1-it)/(1-lt)),0<it&&it<1&&Pe.push(this.split(it))),Pe.push(this),Pe}}]),ot}(),Z=!0,se=!1,P=void 0;try{for(var B,W=M[Symbol.iterator]();!(Z=(B=W.next()).done);Z=!0){var K=B.value,ne=(K.x-k)/L,oe=(K.y-T)/R;if(!Fe(z,$,ne,oe)){switch(K.type){case"M":q=ne,Y=oe;break;case"L":Ye(z,$,ne,oe);break;case"Q":var fe=(K.x1-k)/L,ge=(K.y1-T)/R;Te([z,ne,fe],[$,oe,ge],{x:z,y:$,cx:fe,cy:ge});break;case"Z":Fe(z,$,q,Y)?N.push({x:z,y:$}):(Ye(z,$,q,Y),N.push({x:q,y:Y}));break;case"C":for(var de=function(ce,Le,He,lt,Pe,qe,De,ie){var ce=new ee(new c.default.Vector(ce,Le),new c.default.Vector(He,lt),new c.default.Vector(Pe,qe),new c.default.Vector(De,ie)).splitInflections(),re=[],he=30/d,Ee=!0,Le=!1,He=void 0;try{for(var Qe,nt=ce[Symbol.iterator]();!(Ee=(Qe=nt.next()).done);Ee=!0){for(var st=Qe.value,ct=[],Mt=void 0;!(.125<=(Mt=he/st.quadError()));){var Ct=Math.pow(Mt,.3333333333333333),yt=st.split(Ct),Pt=st.split(1-Ct/(1-Ct));re.push(yt),ct.push(st),st=Pt}Mt<1&&re.push(st.split(.5)),re.push(st),Array.prototype.push.apply(re,ct.reverse())}}catch(Et){Le=!0,He=Et}finally{try{Ee||nt.return==null||nt.return()}finally{if(Le)throw He}}return re}(z,$,(K.x1-k)/L,(K.y1-T)/R,(K.x2-k)/L,(K.y2-T)/R,ne,oe),ye=0;ye<de.length;ye++){var be=de[ye].toQuadratic();Te([be.x,be.x1,be.cx],[be.y,be.y1,be.cy],be)}break;default:throw new Error("unknown command type: ".concat(K.type))}z=ne,$=oe}}}catch(ot){se=!0,P=ot}finally{try{Z||W.return==null||W.return()}finally{if(se)throw P}}for(var ae=N.length,ve=this.strokeImageInfos.findImage(ae),_e=ve.index,Me=0;Me<ae;++Me){var Se=N[Me];u(ve,Re(Se.x),Re(Se.y),Re(Se.cx),Re(Se.cy))}(w=this.glyphInfos[v.index]={glyph:v,uGlyphRect:[E.x1,-E.y1,E.x2,-E.y2],strokeImageInfo:ve,strokes:N,colInfo:pt(G,this.colDimImageInfos,this.colCellImageInfos),rowInfo:pt(D,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[w.colInfo.dimOffset,w.rowInfo.dimOffset]}return w;function Te(ot,it,ut){var lt=N.length;function Pe(re,he,Ee){for(var Le=re.length;0<Le--;){var He=re[Le];He<he&&(he=He),Ee<He&&(Ee=He)}return{min:he,max:Ee}}N.push(ut);for(var ut=Pe(ot,1,0),ot=Math.max(Math.floor(9*ut.min-.5),0),qe=Math.min(Math.ceil(9*ut.max+.5),9),De=ot;De<qe;++De)G[De].push(lt);for(var ut=Pe(it,1,0),ot=Math.max(Math.floor(9*ut.min-.5),0),ie=Math.min(Math.ceil(9*ut.max+.5),9),ce=ot;ce<ie;++ce)D[ce].push(lt)}function Re(ot){return(ot=(ut=255)*ot)<(it=0)?it:ut<ot?ut:ot;var it,ut}function Ye(ot,it,ut,lt){Te([ot,ut],[it,lt],{x:ot,y:it,cx:(ot+ut)/2,cy:(it+lt)/2})}function Fe(ot,it,ut,lt){return Math.abs(ut-ot)<1e-5&&Math.abs(lt-it)<1e-5}function pt(ot,it,ut){for(var lt=ot.length,Pe=it.findImage(lt),it=Pe.index,qe=0,De=0;De<lt;++De)qe+=ot[De].length;for(var ie=ut.findImage(qe),ce=0;ce<lt;++ce){var re=ot[ce],he=re.length,Ee=ie.index;u(Pe,Ee>>7,127&Ee,he>>7,127&he);for(var Le=0;Le<he;++Le){var He=re[Le]+_e;u(ie,He>>7,127&He,0,0)}}return{cellImageInfo:ie,dimOffset:it,dimImageInfo:Pe}}}}]),b}();c.default.RendererGL.prototype._renderText=function(b,v,w,E,k){if(this._textFont&&typeof this._textFont!="string"){if(!(k<=E)&&this._doFill){if(this._isOpenType()){b.push();var k=this._doStroke,T=this.drawMode,L=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),R=(R=this._textFont._fontInfo)||(this._textFont._fontInfo=new h(L)),w=this._textFont._handleAlignment(this,v,w,E),E=this._textSize/L.unitsPerEm,M=(this.translate(w.x,w.y,0),this.scale(E,E,1),this.GL),w=!this._defaultFontShader,N=this._getFontShader(),D=(N.init(),N.bindShader(),w&&(N.setUniform("uGridImageSize",[64,64]),N.setUniform("uCellsImageSize",[64,64]),N.setUniform("uStrokeImageSize",[64,64]),N.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),G=(D||((E=this._textGeom=new c.default.Geometry(1,1,function(){for(var ye=0;ye<=1;ye++)for(var be=0;be<=1;be++)this.vertices.push(new c.default.Vector(be,ye,0)),this.uvs.push(be,ye)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",E)),!0),w=!1,E=void 0;try{for(var V,z=this.retainedMode.buffers.text[Symbol.iterator]();!(G=(V=z.next()).done);G=!0)V.value._prepareBuffer(D,N)}catch(ye){w=!0,E=ye}finally{try{G||z.return==null||z.return()}finally{if(w)throw E}}this._bindBuffer(D.indexBuffer,M.ELEMENT_ARRAY_BUFFER),N.setUniform("uMaterialColor",this.curFillColor),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var $=0,q=null,Y=L.stringToGlyphs(v),ee=!0,Z=!1,se=void 0;try{for(var P,B=Y[Symbol.iterator]();!(ee=(P=B.next()).done);ee=!0){var W,K,ne=P.value,oe=(q&&($+=L.getKerningValue(q,ne)),R.getGlyphInfo(ne));oe.uGlyphRect&&(W=oe.rowInfo,K=oe.colInfo,N.setUniform("uSamplerStrokes",oe.strokeImageInfo.imageData),N.setUniform("uSamplerRowStrokes",W.cellImageInfo.imageData),N.setUniform("uSamplerRows",W.dimImageInfo.imageData),N.setUniform("uSamplerColStrokes",K.cellImageInfo.imageData),N.setUniform("uSamplerCols",K.dimImageInfo.imageData),N.setUniform("uGridOffset",oe.uGridOffset),N.setUniform("uGlyphRect",oe.uGlyphRect),N.setUniform("uGlyphOffset",$),N.bindTextures(),M.drawElements(M.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),$+=ne.advanceWidth,q=ne}}catch(ye){Z=!0,se=ye}finally{try{ee||B.return==null||B.return()}finally{if(Z)throw se}}}finally{N.unbindShader(),this._doStroke=k,this.drawMode=T,M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),b.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return b}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(Uc)),Uc.exports}var T2=_2();const E2=od(T2);var Ml={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var k2=Ml.exports,Sm;function C2(){return Sm||(Sm=1,function(x,S){(function(t,_){x.exports=_()})(k2,function(){return function(A){var t={};function _(y){if(t[y])return t[y].exports;var l=t[y]={i:y,l:!1,exports:{}};return A[y].call(l.exports,l,l.exports,_),l.l=!0,l.exports}return _.m=A,_.c=t,_.d=function(y,l,f){_.o(y,l)||Object.defineProperty(y,l,{enumerable:!0,get:f})},_.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},_.t=function(y,l){if(l&1&&(y=_(y)),l&8||l&4&&typeof y=="object"&&y&&y.__esModule)return y;var f=Object.create(null);if(_.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:y}),l&2&&typeof y!="string")for(var s in y)_.d(f,s,(function(c){return y[c]}).bind(null,s));return f},_.n=function(y){var l=y&&y.__esModule?function(){return y.default}:function(){return y};return _.d(l,"a",l),l},_.o=function(y,l){return Object.prototype.hasOwnProperty.call(y,l)},_.p="",_(_.s=20)}([function(A,t){var _={};A.exports=_,function(){_._baseDelta=1e3/60,_._nextId=0,_._seed=0,_._nowStartTime=+new Date,_._warnedOnce={},_._decomp=null,_.extend=function(l,f){var s,c;typeof f=="boolean"?(s=2,c=f):(s=1,c=!0);for(var p=s;p<arguments.length;p++){var m=arguments[p];if(m)for(var n in m)c&&m[n]&&m[n].constructor===Object&&(!l[n]||l[n].constructor===Object)?(l[n]=l[n]||{},_.extend(l[n],c,m[n])):l[n]=m[n]}return l},_.clone=function(l,f){return _.extend({},f,l)},_.keys=function(l){if(Object.keys)return Object.keys(l);var f=[];for(var s in l)f.push(s);return f},_.values=function(l){var f=[];if(Object.keys){for(var s=Object.keys(l),c=0;c<s.length;c++)f.push(l[s[c]]);return f}for(var p in l)f.push(l[p]);return f},_.get=function(l,f,s,c){f=f.split(".").slice(s,c);for(var p=0;p<f.length;p+=1)l=l[f[p]];return l},_.set=function(l,f,s,c,p){var m=f.split(".").slice(c,p);return _.get(l,f,0,-1)[m[m.length-1]]=s,s},_.shuffle=function(l){for(var f=l.length-1;f>0;f--){var s=Math.floor(_.random()*(f+1)),c=l[f];l[f]=l[s],l[s]=c}return l},_.choose=function(l){return l[Math.floor(_.random()*l.length)]},_.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},_.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},_.isFunction=function(l){return typeof l=="function"},_.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},_.isString=function(l){return toString.call(l)==="[object String]"},_.clamp=function(l,f,s){return l<f?f:l>s?s:l},_.sign=function(l){return l<0?-1:1},_.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-_._nowStartTime},_.random=function(l,f){return l=typeof l<"u"?l:0,f=typeof f<"u"?f:1,l+y()*(f-l)};var y=function(){return _._seed=(_._seed*9301+49297)%233280,_._seed/233280};_.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},_.logLevel=1,_.log=function(){console&&_.logLevel>0&&_.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},_.info=function(){console&&_.logLevel>0&&_.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},_.warn=function(){console&&_.logLevel>0&&_.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},_.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");_._warnedOnce[l]||(_.warn(l),_._warnedOnce[l]=!0)},_.deprecated=function(l,f,s){l[f]=_.chain(function(){_.warnOnce("🔅 deprecated 🔅",s)},l[f])},_.nextId=function(){return _._nextId++},_.indexOf=function(l,f){if(l.indexOf)return l.indexOf(f);for(var s=0;s<l.length;s++)if(l[s]===f)return s;return-1},_.map=function(l,f){if(l.map)return l.map(f);for(var s=[],c=0;c<l.length;c+=1)s.push(f(l[c]));return s},_.topologicalSort=function(l){var f=[],s=[],c=[];for(var p in l)!s[p]&&!c[p]&&_._topologicalSort(p,s,c,l,f);return f},_._topologicalSort=function(l,f,s,c,p){var m=c[l]||[];s[l]=!0;for(var n=0;n<m.length;n+=1){var r=m[n];s[r]||f[r]||_._topologicalSort(r,f,s,c,p)}s[l]=!1,f[l]=!0,p.push(l)},_.chain=function(){for(var l=[],f=0;f<arguments.length;f+=1){var s=arguments[f];s._chained?l.push.apply(l,s._chained):l.push(s)}var c=function(){for(var p,m=new Array(arguments.length),n=0,r=arguments.length;n<r;n++)m[n]=arguments[n];for(n=0;n<l.length;n+=1){var a=l[n].apply(p,m);typeof a<"u"&&(p=a)}return p};return c._chained=l,c},_.chainPathBefore=function(l,f,s){return _.set(l,f,_.chain(s,_.get(l,f)))},_.chainPathAfter=function(l,f,s){return _.set(l,f,_.chain(_.get(l,f),s))},_.setDecomp=function(l){_._decomp=l},_.getDecomp=function(){var l=_._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof ni<"u"&&(l=ni.decomp)}catch{l=null}return l}}()},function(A,t){var _={};A.exports=_,function(){_.create=function(y){var l={min:{x:0,y:0},max:{x:0,y:0}};return y&&_.update(l,y),l},_.update=function(y,l,f){y.min.x=1/0,y.max.x=-1/0,y.min.y=1/0,y.max.y=-1/0;for(var s=0;s<l.length;s++){var c=l[s];c.x>y.max.x&&(y.max.x=c.x),c.x<y.min.x&&(y.min.x=c.x),c.y>y.max.y&&(y.max.y=c.y),c.y<y.min.y&&(y.min.y=c.y)}f&&(f.x>0?y.max.x+=f.x:y.min.x+=f.x,f.y>0?y.max.y+=f.y:y.min.y+=f.y)},_.contains=function(y,l){return l.x>=y.min.x&&l.x<=y.max.x&&l.y>=y.min.y&&l.y<=y.max.y},_.overlaps=function(y,l){return y.min.x<=l.max.x&&y.max.x>=l.min.x&&y.max.y>=l.min.y&&y.min.y<=l.max.y},_.translate=function(y,l){y.min.x+=l.x,y.max.x+=l.x,y.min.y+=l.y,y.max.y+=l.y},_.shift=function(y,l){var f=y.max.x-y.min.x,s=y.max.y-y.min.y;y.min.x=l.x,y.max.x=l.x+f,y.min.y=l.y,y.max.y=l.y+s}}()},function(A,t){var _={};A.exports=_,function(){_.create=function(y,l){return{x:y||0,y:l||0}},_.clone=function(y){return{x:y.x,y:y.y}},_.magnitude=function(y){return Math.sqrt(y.x*y.x+y.y*y.y)},_.magnitudeSquared=function(y){return y.x*y.x+y.y*y.y},_.rotate=function(y,l,f){var s=Math.cos(l),c=Math.sin(l);f||(f={});var p=y.x*s-y.y*c;return f.y=y.x*c+y.y*s,f.x=p,f},_.rotateAbout=function(y,l,f,s){var c=Math.cos(l),p=Math.sin(l);s||(s={});var m=f.x+((y.x-f.x)*c-(y.y-f.y)*p);return s.y=f.y+((y.x-f.x)*p+(y.y-f.y)*c),s.x=m,s},_.normalise=function(y){var l=_.magnitude(y);return l===0?{x:0,y:0}:{x:y.x/l,y:y.y/l}},_.dot=function(y,l){return y.x*l.x+y.y*l.y},_.cross=function(y,l){return y.x*l.y-y.y*l.x},_.cross3=function(y,l,f){return(l.x-y.x)*(f.y-y.y)-(l.y-y.y)*(f.x-y.x)},_.add=function(y,l,f){return f||(f={}),f.x=y.x+l.x,f.y=y.y+l.y,f},_.sub=function(y,l,f){return f||(f={}),f.x=y.x-l.x,f.y=y.y-l.y,f},_.mult=function(y,l){return{x:y.x*l,y:y.y*l}},_.div=function(y,l){return{x:y.x/l,y:y.y/l}},_.perp=function(y,l){return l=l===!0?-1:1,{x:l*-y.y,y:l*y.x}},_.neg=function(y){return{x:-y.x,y:-y.y}},_.angle=function(y,l){return Math.atan2(l.y-y.y,l.x-y.x)},_._temp=[_.create(),_.create(),_.create(),_.create(),_.create(),_.create()]}()},function(A,t,_){var y={};A.exports=y;var l=_(2),f=_(0);(function(){y.create=function(s,c){for(var p=[],m=0;m<s.length;m++){var n=s[m],r={x:n.x,y:n.y,index:m,body:c,isInternal:!1};p.push(r)}return p},y.fromPath=function(s,c){var p=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,m=[];return s.replace(p,function(n,r,a){m.push({x:parseFloat(r),y:parseFloat(a)})}),y.create(m,c)},y.centre=function(s){for(var c=y.area(s,!0),p={x:0,y:0},m,n,r,a=0;a<s.length;a++)r=(a+1)%s.length,m=l.cross(s[a],s[r]),n=l.mult(l.add(s[a],s[r]),m),p=l.add(p,n);return l.div(p,6*c)},y.mean=function(s){for(var c={x:0,y:0},p=0;p<s.length;p++)c.x+=s[p].x,c.y+=s[p].y;return l.div(c,s.length)},y.area=function(s,c){for(var p=0,m=s.length-1,n=0;n<s.length;n++)p+=(s[m].x-s[n].x)*(s[m].y+s[n].y),m=n;return c?p/2:Math.abs(p)/2},y.inertia=function(s,c){for(var p=0,m=0,n=s,r,a,i=0;i<n.length;i++)a=(i+1)%n.length,r=Math.abs(l.cross(n[a],n[i])),p+=r*(l.dot(n[a],n[a])+l.dot(n[a],n[i])+l.dot(n[i],n[i])),m+=r;return c/6*(p/m)},y.translate=function(s,c,p){p=typeof p<"u"?p:1;var m=s.length,n=c.x*p,r=c.y*p,a;for(a=0;a<m;a++)s[a].x+=n,s[a].y+=r;return s},y.rotate=function(s,c,p){if(c!==0){var m=Math.cos(c),n=Math.sin(c),r=p.x,a=p.y,i=s.length,u,d,h,b;for(b=0;b<i;b++)u=s[b],d=u.x-r,h=u.y-a,u.x=r+(d*m-h*n),u.y=a+(d*n+h*m);return s}},y.contains=function(s,c){for(var p=c.x,m=c.y,n=s.length,r=s[n-1],a,i=0;i<n;i++){if(a=s[i],(p-r.x)*(a.y-r.y)+(m-r.y)*(r.x-a.x)>0)return!1;r=a}return!0},y.scale=function(s,c,p,m){if(c===1&&p===1)return s;m=m||y.centre(s);for(var n,r,a=0;a<s.length;a++)n=s[a],r=l.sub(n,m),s[a].x=m.x+r.x*c,s[a].y=m.y+r.y*p;return s},y.chamfer=function(s,c,p,m,n){typeof c=="number"?c=[c]:c=c||[8],p=typeof p<"u"?p:-1,m=m||2,n=n||14;for(var r=[],a=0;a<s.length;a++){var i=s[a-1>=0?a-1:s.length-1],u=s[a],d=s[(a+1)%s.length],h=c[a<c.length?a:c.length-1];if(h===0){r.push(u);continue}var b=l.normalise({x:u.y-i.y,y:i.x-u.x}),v=l.normalise({x:d.y-u.y,y:u.x-d.x}),w=Math.sqrt(2*Math.pow(h,2)),E=l.mult(f.clone(b),h),k=l.normalise(l.mult(l.add(b,v),.5)),T=l.sub(u,l.mult(k,w)),L=p;p===-1&&(L=Math.pow(h,.32)*1.75),L=f.clamp(L,m,n),L%2===1&&(L+=1);for(var R=Math.acos(l.dot(b,v)),M=R/L,N=0;N<L;N++)r.push(l.add(l.rotate(E,M*N),T))}return r},y.clockwiseSort=function(s){var c=y.mean(s);return s.sort(function(p,m){return l.angle(c,p)-l.angle(c,m)}),s},y.isConvex=function(s){var c=0,p=s.length,m,n,r,a;if(p<3)return null;for(m=0;m<p;m++)if(n=(m+1)%p,r=(m+2)%p,a=(s[n].x-s[m].x)*(s[r].y-s[n].y),a-=(s[n].y-s[m].y)*(s[r].x-s[n].x),a<0?c|=1:a>0&&(c|=2),c===3)return!1;return c!==0?!0:null},y.hull=function(s){var c=[],p=[],m,n;for(s=s.slice(0),s.sort(function(r,a){var i=r.x-a.x;return i!==0?i:r.y-a.y}),n=0;n<s.length;n+=1){for(m=s[n];p.length>=2&&l.cross3(p[p.length-2],p[p.length-1],m)<=0;)p.pop();p.push(m)}for(n=s.length-1;n>=0;n-=1){for(m=s[n];c.length>=2&&l.cross3(c[c.length-2],c[c.length-1],m)<=0;)c.pop();c.push(m)}return c.pop(),p.pop(),c.concat(p)}})()},function(A,t,_){var y={};A.exports=y;var l=_(3),f=_(2),s=_(7),c=_(0),p=_(1),m=_(11);(function(){y._timeCorrection=!0,y._inertiaScale=4,y._nextCollidingGroupId=1,y._nextNonCollidingGroupId=-1,y._nextCategory=1,y._baseDelta=1e3/60,y.create=function(r){var a={id:c.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},i=c.extend(a,r);return n(i,r),i},y.nextGroup=function(r){return r?y._nextNonCollidingGroupId--:y._nextCollidingGroupId++},y.nextCategory=function(){return y._nextCategory=y._nextCategory<<1,y._nextCategory};var n=function(r,a){a=a||{},y.set(r,{bounds:r.bounds||p.create(r.vertices),positionPrev:r.positionPrev||f.clone(r.position),anglePrev:r.anglePrev||r.angle,vertices:r.vertices,parts:r.parts||[r],isStatic:r.isStatic,isSleeping:r.isSleeping,parent:r.parent||r}),l.rotate(r.vertices,r.angle,r.position),m.rotate(r.axes,r.angle),p.update(r.bounds,r.vertices,r.velocity),y.set(r,{axes:a.axes||r.axes,area:a.area||r.area,mass:a.mass||r.mass,inertia:a.inertia||r.inertia});var i=r.isStatic?"#14151f":c.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),u=r.isStatic?"#555":"#ccc",d=r.isStatic&&r.render.fillStyle===null?1:0;r.render.fillStyle=r.render.fillStyle||i,r.render.strokeStyle=r.render.strokeStyle||u,r.render.lineWidth=r.render.lineWidth||d,r.render.sprite.xOffset+=-(r.bounds.min.x-r.position.x)/(r.bounds.max.x-r.bounds.min.x),r.render.sprite.yOffset+=-(r.bounds.min.y-r.position.y)/(r.bounds.max.y-r.bounds.min.y)};y.set=function(r,a,i){var u;typeof a=="string"&&(u=a,a={},a[u]=i);for(u in a)if(Object.prototype.hasOwnProperty.call(a,u))switch(i=a[u],u){case"isStatic":y.setStatic(r,i);break;case"isSleeping":s.set(r,i);break;case"mass":y.setMass(r,i);break;case"density":y.setDensity(r,i);break;case"inertia":y.setInertia(r,i);break;case"vertices":y.setVertices(r,i);break;case"position":y.setPosition(r,i);break;case"angle":y.setAngle(r,i);break;case"velocity":y.setVelocity(r,i);break;case"angularVelocity":y.setAngularVelocity(r,i);break;case"speed":y.setSpeed(r,i);break;case"angularSpeed":y.setAngularSpeed(r,i);break;case"parts":y.setParts(r,i);break;case"centre":y.setCentre(r,i);break;default:r[u]=i}},y.setStatic=function(r,a){for(var i=0;i<r.parts.length;i++){var u=r.parts[i];a?(u.isStatic||(u._original={restitution:u.restitution,friction:u.friction,mass:u.mass,inertia:u.inertia,density:u.density,inverseMass:u.inverseMass,inverseInertia:u.inverseInertia}),u.restitution=0,u.friction=1,u.mass=u.inertia=u.density=1/0,u.inverseMass=u.inverseInertia=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.angularVelocity=0,u.speed=0,u.angularSpeed=0,u.motion=0):u._original&&(u.restitution=u._original.restitution,u.friction=u._original.friction,u.mass=u._original.mass,u.inertia=u._original.inertia,u.density=u._original.density,u.inverseMass=u._original.inverseMass,u.inverseInertia=u._original.inverseInertia,u._original=null),u.isStatic=a}},y.setMass=function(r,a){var i=r.inertia/(r.mass/6);r.inertia=i*(a/6),r.inverseInertia=1/r.inertia,r.mass=a,r.inverseMass=1/r.mass,r.density=r.mass/r.area},y.setDensity=function(r,a){y.setMass(r,a*r.area),r.density=a},y.setInertia=function(r,a){r.inertia=a,r.inverseInertia=1/r.inertia},y.setVertices=function(r,a){a[0].body===r?r.vertices=a:r.vertices=l.create(a,r),r.axes=m.fromVertices(r.vertices),r.area=l.area(r.vertices),y.setMass(r,r.density*r.area);var i=l.centre(r.vertices);l.translate(r.vertices,i,-1),y.setInertia(r,y._inertiaScale*l.inertia(r.vertices,r.mass)),l.translate(r.vertices,r.position),p.update(r.bounds,r.vertices,r.velocity)},y.setParts=function(r,a,i){var u;for(a=a.slice(0),r.parts.length=0,r.parts.push(r),r.parent=r,u=0;u<a.length;u++){var d=a[u];d!==r&&(d.parent=r,r.parts.push(d))}if(r.parts.length!==1){if(i=typeof i<"u"?i:!0,i){var h=[];for(u=0;u<a.length;u++)h=h.concat(a[u].vertices);l.clockwiseSort(h);var b=l.hull(h),v=l.centre(b);y.setVertices(r,b),l.translate(r.vertices,v)}var w=y._totalProperties(r);r.area=w.area,r.parent=r,r.position.x=w.centre.x,r.position.y=w.centre.y,r.positionPrev.x=w.centre.x,r.positionPrev.y=w.centre.y,y.setMass(r,w.mass),y.setInertia(r,w.inertia),y.setPosition(r,w.centre)}},y.setCentre=function(r,a,i){i?(r.positionPrev.x+=a.x,r.positionPrev.y+=a.y,r.position.x+=a.x,r.position.y+=a.y):(r.positionPrev.x=a.x-(r.position.x-r.positionPrev.x),r.positionPrev.y=a.y-(r.position.y-r.positionPrev.y),r.position.x=a.x,r.position.y=a.y)},y.setPosition=function(r,a,i){var u=f.sub(a,r.position);i?(r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.velocity.x=u.x,r.velocity.y=u.y,r.speed=f.magnitude(u)):(r.positionPrev.x+=u.x,r.positionPrev.y+=u.y);for(var d=0;d<r.parts.length;d++){var h=r.parts[d];h.position.x+=u.x,h.position.y+=u.y,l.translate(h.vertices,u),p.update(h.bounds,h.vertices,r.velocity)}},y.setAngle=function(r,a,i){var u=a-r.angle;i?(r.anglePrev=r.angle,r.angularVelocity=u,r.angularSpeed=Math.abs(u)):r.anglePrev+=u;for(var d=0;d<r.parts.length;d++){var h=r.parts[d];h.angle+=u,l.rotate(h.vertices,u,r.position),m.rotate(h.axes,u),p.update(h.bounds,h.vertices,r.velocity),d>0&&f.rotateAbout(h.position,u,r.position,h.position)}},y.setVelocity=function(r,a){var i=r.deltaTime/y._baseDelta;r.positionPrev.x=r.position.x-a.x*i,r.positionPrev.y=r.position.y-a.y*i,r.velocity.x=(r.position.x-r.positionPrev.x)/i,r.velocity.y=(r.position.y-r.positionPrev.y)/i,r.speed=f.magnitude(r.velocity)},y.getVelocity=function(r){var a=y._baseDelta/r.deltaTime;return{x:(r.position.x-r.positionPrev.x)*a,y:(r.position.y-r.positionPrev.y)*a}},y.getSpeed=function(r){return f.magnitude(y.getVelocity(r))},y.setSpeed=function(r,a){y.setVelocity(r,f.mult(f.normalise(y.getVelocity(r)),a))},y.setAngularVelocity=function(r,a){var i=r.deltaTime/y._baseDelta;r.anglePrev=r.angle-a*i,r.angularVelocity=(r.angle-r.anglePrev)/i,r.angularSpeed=Math.abs(r.angularVelocity)},y.getAngularVelocity=function(r){return(r.angle-r.anglePrev)*y._baseDelta/r.deltaTime},y.getAngularSpeed=function(r){return Math.abs(y.getAngularVelocity(r))},y.setAngularSpeed=function(r,a){y.setAngularVelocity(r,c.sign(y.getAngularVelocity(r))*a)},y.translate=function(r,a,i){y.setPosition(r,f.add(r.position,a),i)},y.rotate=function(r,a,i,u){if(!i)y.setAngle(r,r.angle+a,u);else{var d=Math.cos(a),h=Math.sin(a),b=r.position.x-i.x,v=r.position.y-i.y;y.setPosition(r,{x:i.x+(b*d-v*h),y:i.y+(b*h+v*d)},u),y.setAngle(r,r.angle+a,u)}},y.scale=function(r,a,i,u){var d=0,h=0;u=u||r.position;for(var b=0;b<r.parts.length;b++){var v=r.parts[b];l.scale(v.vertices,a,i,u),v.axes=m.fromVertices(v.vertices),v.area=l.area(v.vertices),y.setMass(v,r.density*v.area),l.translate(v.vertices,{x:-v.position.x,y:-v.position.y}),y.setInertia(v,y._inertiaScale*l.inertia(v.vertices,v.mass)),l.translate(v.vertices,{x:v.position.x,y:v.position.y}),b>0&&(d+=v.area,h+=v.inertia),v.position.x=u.x+(v.position.x-u.x)*a,v.position.y=u.y+(v.position.y-u.y)*i,p.update(v.bounds,v.vertices,r.velocity)}r.parts.length>1&&(r.area=d,r.isStatic||(y.setMass(r,r.density*d),y.setInertia(r,h))),r.circleRadius&&(a===i?r.circleRadius*=a:r.circleRadius=null)},y.update=function(r,a){a=(typeof a<"u"?a:1e3/60)*r.timeScale;var i=a*a,u=y._timeCorrection?a/(r.deltaTime||a):1,d=1-r.frictionAir*(a/c._baseDelta),h=(r.position.x-r.positionPrev.x)*u,b=(r.position.y-r.positionPrev.y)*u;r.velocity.x=h*d+r.force.x/r.mass*i,r.velocity.y=b*d+r.force.y/r.mass*i,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.position.x+=r.velocity.x,r.position.y+=r.velocity.y,r.deltaTime=a,r.angularVelocity=(r.angle-r.anglePrev)*d*u+r.torque/r.inertia*i,r.anglePrev=r.angle,r.angle+=r.angularVelocity;for(var v=0;v<r.parts.length;v++){var w=r.parts[v];l.translate(w.vertices,r.velocity),v>0&&(w.position.x+=r.velocity.x,w.position.y+=r.velocity.y),r.angularVelocity!==0&&(l.rotate(w.vertices,r.angularVelocity,r.position),m.rotate(w.axes,r.angularVelocity),v>0&&f.rotateAbout(w.position,r.angularVelocity,r.position,w.position)),p.update(w.bounds,w.vertices,r.velocity)}},y.updateVelocities=function(r){var a=y._baseDelta/r.deltaTime,i=r.velocity;i.x=(r.position.x-r.positionPrev.x)*a,i.y=(r.position.y-r.positionPrev.y)*a,r.speed=Math.sqrt(i.x*i.x+i.y*i.y),r.angularVelocity=(r.angle-r.anglePrev)*a,r.angularSpeed=Math.abs(r.angularVelocity)},y.applyForce=function(r,a,i){var u={x:a.x-r.position.x,y:a.y-r.position.y};r.force.x+=i.x,r.force.y+=i.y,r.torque+=u.x*i.y-u.y*i.x},y._totalProperties=function(r){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=r.parts.length===1?0:1;i<r.parts.length;i++){var u=r.parts[i],d=u.mass!==1/0?u.mass:1;a.mass+=d,a.area+=u.area,a.inertia+=u.inertia,a.centre=f.add(a.centre,f.mult(u.position,d))}return a.centre=f.div(a.centre,a.mass),a}})()},function(A,t,_){var y={};A.exports=y;var l=_(0);(function(){y.on=function(f,s,c){for(var p=s.split(" "),m,n=0;n<p.length;n++)m=p[n],f.events=f.events||{},f.events[m]=f.events[m]||[],f.events[m].push(c);return c},y.off=function(f,s,c){if(!s){f.events={};return}typeof s=="function"&&(c=s,s=l.keys(f.events).join(" "));for(var p=s.split(" "),m=0;m<p.length;m++){var n=f.events[p[m]],r=[];if(c&&n)for(var a=0;a<n.length;a++)n[a]!==c&&r.push(n[a]);f.events[p[m]]=r}},y.trigger=function(f,s,c){var p,m,n,r,a=f.events;if(a&&l.keys(a).length>0){c||(c={}),p=s.split(" ");for(var i=0;i<p.length;i++)if(m=p[i],n=a[m],n){r=l.clone(c,!1),r.name=m,r.source=f;for(var u=0;u<n.length;u++)n[u].apply(f,[r])}}}})()},function(A,t,_){var y={};A.exports=y;var l=_(5),f=_(0),s=_(1),c=_(4);(function(){y.create=function(p){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},p)},y.setModified=function(p,m,n,r){if(p.isModified=m,m&&p.cache&&(p.cache.allBodies=null,p.cache.allConstraints=null,p.cache.allComposites=null),n&&p.parent&&y.setModified(p.parent,m,n,r),r)for(var a=0;a<p.composites.length;a++){var i=p.composites[a];y.setModified(i,m,n,r)}},y.add=function(p,m){var n=[].concat(m);l.trigger(p,"beforeAdd",{object:m});for(var r=0;r<n.length;r++){var a=n[r];switch(a.type){case"body":if(a.parent!==a){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}y.addBody(p,a);break;case"constraint":y.addConstraint(p,a);break;case"composite":y.addComposite(p,a);break;case"mouseConstraint":y.addConstraint(p,a.constraint);break}}return l.trigger(p,"afterAdd",{object:m}),p},y.remove=function(p,m,n){var r=[].concat(m);l.trigger(p,"beforeRemove",{object:m});for(var a=0;a<r.length;a++){var i=r[a];switch(i.type){case"body":y.removeBody(p,i,n);break;case"constraint":y.removeConstraint(p,i,n);break;case"composite":y.removeComposite(p,i,n);break;case"mouseConstraint":y.removeConstraint(p,i.constraint);break}}return l.trigger(p,"afterRemove",{object:m}),p},y.addComposite=function(p,m){return p.composites.push(m),m.parent=p,y.setModified(p,!0,!0,!1),p},y.removeComposite=function(p,m,n){var r=f.indexOf(p.composites,m);if(r!==-1){var a=y.allBodies(m);y.removeCompositeAt(p,r);for(var i=0;i<a.length;i++)a[i].sleepCounter=0}if(n)for(var i=0;i<p.composites.length;i++)y.removeComposite(p.composites[i],m,!0);return p},y.removeCompositeAt=function(p,m){return p.composites.splice(m,1),y.setModified(p,!0,!0,!1),p},y.addBody=function(p,m){return p.bodies.push(m),y.setModified(p,!0,!0,!1),p},y.removeBody=function(p,m,n){var r=f.indexOf(p.bodies,m);if(r!==-1&&(y.removeBodyAt(p,r),m.sleepCounter=0),n)for(var a=0;a<p.composites.length;a++)y.removeBody(p.composites[a],m,!0);return p},y.removeBodyAt=function(p,m){return p.bodies.splice(m,1),y.setModified(p,!0,!0,!1),p},y.addConstraint=function(p,m){return p.constraints.push(m),y.setModified(p,!0,!0,!1),p},y.removeConstraint=function(p,m,n){var r=f.indexOf(p.constraints,m);if(r!==-1&&y.removeConstraintAt(p,r),n)for(var a=0;a<p.composites.length;a++)y.removeConstraint(p.composites[a],m,!0);return p},y.removeConstraintAt=function(p,m){return p.constraints.splice(m,1),y.setModified(p,!0,!0,!1),p},y.clear=function(p,m,n){if(n)for(var r=0;r<p.composites.length;r++)y.clear(p.composites[r],m,!0);return m?p.bodies=p.bodies.filter(function(a){return a.isStatic}):p.bodies.length=0,p.constraints.length=0,p.composites.length=0,y.setModified(p,!0,!0,!1),p},y.allBodies=function(p){if(p.cache&&p.cache.allBodies)return p.cache.allBodies;for(var m=[].concat(p.bodies),n=0;n<p.composites.length;n++)m=m.concat(y.allBodies(p.composites[n]));return p.cache&&(p.cache.allBodies=m),m},y.allConstraints=function(p){if(p.cache&&p.cache.allConstraints)return p.cache.allConstraints;for(var m=[].concat(p.constraints),n=0;n<p.composites.length;n++)m=m.concat(y.allConstraints(p.composites[n]));return p.cache&&(p.cache.allConstraints=m),m},y.allComposites=function(p){if(p.cache&&p.cache.allComposites)return p.cache.allComposites;for(var m=[].concat(p.composites),n=0;n<p.composites.length;n++)m=m.concat(y.allComposites(p.composites[n]));return p.cache&&(p.cache.allComposites=m),m},y.get=function(p,m,n){var r,a;switch(n){case"body":r=y.allBodies(p);break;case"constraint":r=y.allConstraints(p);break;case"composite":r=y.allComposites(p).concat(p);break}return r?(a=r.filter(function(i){return i.id.toString()===m.toString()}),a.length===0?null:a[0]):null},y.move=function(p,m,n){return y.remove(p,m),y.add(n,m),p},y.rebase=function(p){for(var m=y.allBodies(p).concat(y.allConstraints(p)).concat(y.allComposites(p)),n=0;n<m.length;n++)m[n].id=f.nextId();return p},y.translate=function(p,m,n){for(var r=n?y.allBodies(p):p.bodies,a=0;a<r.length;a++)c.translate(r[a],m);return p},y.rotate=function(p,m,n,r){for(var a=Math.cos(m),i=Math.sin(m),u=r?y.allBodies(p):p.bodies,d=0;d<u.length;d++){var h=u[d],b=h.position.x-n.x,v=h.position.y-n.y;c.setPosition(h,{x:n.x+(b*a-v*i),y:n.y+(b*i+v*a)}),c.rotate(h,m)}return p},y.scale=function(p,m,n,r,a){for(var i=a?y.allBodies(p):p.bodies,u=0;u<i.length;u++){var d=i[u],h=d.position.x-r.x,b=d.position.y-r.y;c.setPosition(d,{x:r.x+h*m,y:r.y+b*n}),c.scale(d,m,n)}return p},y.bounds=function(p){for(var m=y.allBodies(p),n=[],r=0;r<m.length;r+=1){var a=m[r];n.push(a.bounds.min,a.bounds.max)}return s.create(n)}})()},function(A,t,_){var y={};A.exports=y;var l=_(4),f=_(5),s=_(0);(function(){y._motionWakeThreshold=.18,y._motionSleepThreshold=.08,y._minBias=.9,y.update=function(c,p){for(var m=p/s._baseDelta,n=y._motionSleepThreshold,r=0;r<c.length;r++){var a=c[r],i=l.getSpeed(a),u=l.getAngularSpeed(a),d=i*i+u*u;if(a.force.x!==0||a.force.y!==0){y.set(a,!1);continue}var h=Math.min(a.motion,d),b=Math.max(a.motion,d);a.motion=y._minBias*h+(1-y._minBias)*b,a.sleepThreshold>0&&a.motion<n?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/m&&y.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},y.afterCollisions=function(c){for(var p=y._motionSleepThreshold,m=0;m<c.length;m++){var n=c[m];if(n.isActive){var r=n.collision,a=r.bodyA.parent,i=r.bodyB.parent;if(!(a.isSleeping&&i.isSleeping||a.isStatic||i.isStatic)&&(a.isSleeping||i.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:i,d=u===a?i:a;!u.isStatic&&d.motion>p&&y.set(u,!1)}}}},y.set=function(c,p){var m=c.isSleeping;p?(c.isSleeping=!0,c.sleepCounter=c.sleepThreshold,c.positionImpulse.x=0,c.positionImpulse.y=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.speed=0,c.angularSpeed=0,c.motion=0,m||f.trigger(c,"sleepStart")):(c.isSleeping=!1,c.sleepCounter=0,m&&f.trigger(c,"sleepEnd"))}})()},function(A,t,_){var y={};A.exports=y;var l=_(3),f=_(9);(function(){var s=[],c={overlap:0,axis:null},p={overlap:0,axis:null};y.create=function(m,n){return{pair:null,collided:!1,bodyA:m,bodyB:n,parentA:m.parent,parentB:n.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},y.collides=function(m,n,r){if(y._overlapAxes(c,m.vertices,n.vertices,m.axes),c.overlap<=0||(y._overlapAxes(p,n.vertices,m.vertices,n.axes),p.overlap<=0))return null;var a=r&&r.table[f.id(m,n)],i;a?i=a.collision:(i=y.create(m,n),i.collided=!0,i.bodyA=m.id<n.id?m:n,i.bodyB=m.id<n.id?n:m,i.parentA=i.bodyA.parent,i.parentB=i.bodyB.parent),m=i.bodyA,n=i.bodyB;var u;c.overlap<p.overlap?u=c:u=p;var d=i.normal,h=i.tangent,b=i.penetration,v=i.supports,w=u.overlap,E=u.axis,k=E.x,T=E.y,L=n.position.x-m.position.x,R=n.position.y-m.position.y;k*L+T*R>=0&&(k=-k,T=-T),d.x=k,d.y=T,h.x=-T,h.y=k,b.x=k*w,b.y=T*w,i.depth=w;var M=y._findSupports(m,n,d,1),N=0;if(l.contains(m.vertices,M[0])&&(v[N++]=M[0]),l.contains(m.vertices,M[1])&&(v[N++]=M[1]),N<2){var D=y._findSupports(n,m,d,-1);l.contains(n.vertices,D[0])&&(v[N++]=D[0]),N<2&&l.contains(n.vertices,D[1])&&(v[N++]=D[1])}return N===0&&(v[N++]=M[0]),i.supportCount=N,i},y._overlapAxes=function(m,n,r,a){var i=n.length,u=r.length,d=n[0].x,h=n[0].y,b=r[0].x,v=r[0].y,w=a.length,E=Number.MAX_VALUE,k=0,T,L,R,M,N,D;for(N=0;N<w;N++){var G=a[N],V=G.x,z=G.y,$=d*V+h*z,q=b*V+v*z,Y=$,ee=q;for(D=1;D<i;D+=1)M=n[D].x*V+n[D].y*z,M>Y?Y=M:M<$&&($=M);for(D=1;D<u;D+=1)M=r[D].x*V+r[D].y*z,M>ee?ee=M:M<q&&(q=M);if(L=Y-q,R=ee-$,T=L<R?L:R,T<E&&(E=T,k=N,T<=0))break}m.axis=a[k],m.overlap=E},y._findSupports=function(m,n,r,a){var i=n.vertices,u=i.length,d=m.position.x,h=m.position.y,b=r.x*a,v=r.y*a,w=i[0],E=w,k=b*(d-E.x)+v*(h-E.y),T,L,R;for(R=1;R<u;R+=1)E=i[R],L=b*(d-E.x)+v*(h-E.y),L<k&&(k=L,w=E);return T=i[(u+w.index-1)%u],k=b*(d-T.x)+v*(h-T.y),E=i[(w.index+1)%u],b*(d-E.x)+v*(h-E.y)<k?(s[0]=w,s[1]=E,s):(s[0]=w,s[1]=T,s)}})()},function(A,t,_){var y={};A.exports=y;var l=_(16);(function(){y.create=function(f,s){var c=f.bodyA,p=f.bodyB,m={id:y.id(c,p),bodyA:c,bodyB:p,collision:f,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:c.isSensor||p.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return y.update(m,f,s),m},y.update=function(f,s,c){var p=s.supports,m=s.supportCount,n=f.contacts,r=s.parentA,a=s.parentB;f.isActive=!0,f.timeUpdated=c,f.collision=s,f.separation=s.depth,f.inverseMass=r.inverseMass+a.inverseMass,f.friction=r.friction<a.friction?r.friction:a.friction,f.frictionStatic=r.frictionStatic>a.frictionStatic?r.frictionStatic:a.frictionStatic,f.restitution=r.restitution>a.restitution?r.restitution:a.restitution,f.slop=r.slop>a.slop?r.slop:a.slop,f.contactCount=m,s.pair=f;var i=p[0],u=n[0],d=p[1],h=n[1];(h.vertex===i||u.vertex===d)&&(n[1]=u,n[0]=u=h,h=n[1]),u.vertex=i,h.vertex=d},y.setActive=function(f,s,c){s?(f.isActive=!0,f.timeUpdated=c):(f.isActive=!1,f.contactCount=0)},y.id=function(f,s){return f.id<s.id?f.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+f.id.toString(36)}})()},function(A,t,_){var y={};A.exports=y;var l=_(3),f=_(2),s=_(7),c=_(1),p=_(11),m=_(0);(function(){y._warming=.4,y._torqueDampen=1,y._minLength=1e-6,y.create=function(n){var r=n;r.bodyA&&!r.pointA&&(r.pointA={x:0,y:0}),r.bodyB&&!r.pointB&&(r.pointB={x:0,y:0});var a=r.bodyA?f.add(r.bodyA.position,r.pointA):r.pointA,i=r.bodyB?f.add(r.bodyB.position,r.pointB):r.pointB,u=f.magnitude(f.sub(a,i));r.length=typeof r.length<"u"?r.length:u,r.id=r.id||m.nextId(),r.label=r.label||"Constraint",r.type="constraint",r.stiffness=r.stiffness||(r.length>0?1:.7),r.damping=r.damping||0,r.angularStiffness=r.angularStiffness||0,r.angleA=r.bodyA?r.bodyA.angle:r.angleA,r.angleB=r.bodyB?r.bodyB.angle:r.angleB,r.plugin={};var d={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return r.length===0&&r.stiffness>.1?(d.type="pin",d.anchors=!1):r.stiffness<.9&&(d.type="spring"),r.render=m.extend(d,r.render),r},y.preSolveAll=function(n){for(var r=0;r<n.length;r+=1){var a=n[r],i=a.constraintImpulse;a.isStatic||i.x===0&&i.y===0&&i.angle===0||(a.position.x+=i.x,a.position.y+=i.y,a.angle+=i.angle)}},y.solveAll=function(n,r){for(var a=m.clamp(r/m._baseDelta,0,1),i=0;i<n.length;i+=1){var u=n[i],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,h=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(d||h)&&y.solve(n[i],a)}for(i=0;i<n.length;i+=1)u=n[i],d=!u.bodyA||u.bodyA&&u.bodyA.isStatic,h=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!d&&!h&&y.solve(n[i],a)},y.solve=function(n,r){var a=n.bodyA,i=n.bodyB,u=n.pointA,d=n.pointB;if(!(!a&&!i)){a&&!a.isStatic&&(f.rotate(u,a.angle-n.angleA,u),n.angleA=a.angle),i&&!i.isStatic&&(f.rotate(d,i.angle-n.angleB,d),n.angleB=i.angle);var h=u,b=d;if(a&&(h=f.add(a.position,u)),i&&(b=f.add(i.position,d)),!(!h||!b)){var v=f.sub(h,b),w=f.magnitude(v);w<y._minLength&&(w=y._minLength);var E=(w-n.length)/w,k=n.stiffness>=1||n.length===0,T=k?n.stiffness*r:n.stiffness*r*r,L=n.damping*r,R=f.mult(v,E*T),M=(a?a.inverseMass:0)+(i?i.inverseMass:0),N=(a?a.inverseInertia:0)+(i?i.inverseInertia:0),D=M+N,G,V,z,$,q;if(L>0){var Y=f.create();z=f.div(v,w),q=f.sub(i&&f.sub(i.position,i.positionPrev)||Y,a&&f.sub(a.position,a.positionPrev)||Y),$=f.dot(z,q)}a&&!a.isStatic&&(V=a.inverseMass/M,a.constraintImpulse.x-=R.x*V,a.constraintImpulse.y-=R.y*V,a.position.x-=R.x*V,a.position.y-=R.y*V,L>0&&(a.positionPrev.x-=L*z.x*$*V,a.positionPrev.y-=L*z.y*$*V),G=f.cross(u,R)/D*y._torqueDampen*a.inverseInertia*(1-n.angularStiffness),a.constraintImpulse.angle-=G,a.angle-=G),i&&!i.isStatic&&(V=i.inverseMass/M,i.constraintImpulse.x+=R.x*V,i.constraintImpulse.y+=R.y*V,i.position.x+=R.x*V,i.position.y+=R.y*V,L>0&&(i.positionPrev.x+=L*z.x*$*V,i.positionPrev.y+=L*z.y*$*V),G=f.cross(d,R)/D*y._torqueDampen*i.inverseInertia*(1-n.angularStiffness),i.constraintImpulse.angle+=G,i.angle+=G)}}},y.postSolveAll=function(n){for(var r=0;r<n.length;r++){var a=n[r],i=a.constraintImpulse;if(!(a.isStatic||i.x===0&&i.y===0&&i.angle===0)){s.set(a,!1);for(var u=0;u<a.parts.length;u++){var d=a.parts[u];l.translate(d.vertices,i),u>0&&(d.position.x+=i.x,d.position.y+=i.y),i.angle!==0&&(l.rotate(d.vertices,i.angle,a.position),p.rotate(d.axes,i.angle),u>0&&f.rotateAbout(d.position,i.angle,a.position,d.position)),c.update(d.bounds,d.vertices,a.velocity)}i.angle*=y._warming,i.x*=y._warming,i.y*=y._warming}}},y.pointAWorld=function(n){return{x:(n.bodyA?n.bodyA.position.x:0)+(n.pointA?n.pointA.x:0),y:(n.bodyA?n.bodyA.position.y:0)+(n.pointA?n.pointA.y:0)}},y.pointBWorld=function(n){return{x:(n.bodyB?n.bodyB.position.x:0)+(n.pointB?n.pointB.x:0),y:(n.bodyB?n.bodyB.position.y:0)+(n.pointB?n.pointB.y:0)}},y.currentLength=function(n){var r=(n.bodyA?n.bodyA.position.x:0)+(n.pointA?n.pointA.x:0),a=(n.bodyA?n.bodyA.position.y:0)+(n.pointA?n.pointA.y:0),i=(n.bodyB?n.bodyB.position.x:0)+(n.pointB?n.pointB.x:0),u=(n.bodyB?n.bodyB.position.y:0)+(n.pointB?n.pointB.y:0),d=r-i,h=a-u;return Math.sqrt(d*d+h*h)}})()},function(A,t,_){var y={};A.exports=y;var l=_(2),f=_(0);(function(){y.fromVertices=function(s){for(var c={},p=0;p<s.length;p++){var m=(p+1)%s.length,n=l.normalise({x:s[m].y-s[p].y,y:s[p].x-s[m].x}),r=n.y===0?1/0:n.x/n.y;r=r.toFixed(3).toString(),c[r]=n}return f.values(c)},y.rotate=function(s,c){if(c!==0)for(var p=Math.cos(c),m=Math.sin(c),n=0;n<s.length;n++){var r=s[n],a;a=r.x*p-r.y*m,r.y=r.x*m+r.y*p,r.x=a}}})()},function(A,t,_){var y={};A.exports=y;var l=_(3),f=_(0),s=_(4),c=_(1),p=_(2);(function(){y.rectangle=function(m,n,r,a,i){i=i||{};var u={label:"Rectangle Body",position:{x:m,y:n},vertices:l.fromPath("L 0 0 L "+r+" 0 L "+r+" "+a+" L 0 "+a)};if(i.chamfer){var d=i.chamfer;u.vertices=l.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete i.chamfer}return s.create(f.extend({},u,i))},y.trapezoid=function(m,n,r,a,i,u){u=u||{},i>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),i*=.5;var d=(1-i*2)*r,h=r*i,b=h+d,v=b+h,w;i<.5?w="L 0 0 L "+h+" "+-a+" L "+b+" "+-a+" L "+v+" 0":w="L 0 0 L "+b+" "+-a+" L "+v+" 0";var E={label:"Trapezoid Body",position:{x:m,y:n},vertices:l.fromPath(w)};if(u.chamfer){var k=u.chamfer;E.vertices=l.chamfer(E.vertices,k.radius,k.quality,k.qualityMin,k.qualityMax),delete u.chamfer}return s.create(f.extend({},E,u))},y.circle=function(m,n,r,a,i){a=a||{};var u={label:"Circle Body",circleRadius:r};i=i||25;var d=Math.ceil(Math.max(10,Math.min(i,r)));return d%2===1&&(d+=1),y.polygon(m,n,d,r,f.extend({},u,a))},y.polygon=function(m,n,r,a,i){if(i=i||{},r<3)return y.circle(m,n,a,i);for(var u=2*Math.PI/r,d="",h=u*.5,b=0;b<r;b+=1){var v=h+b*u,w=Math.cos(v)*a,E=Math.sin(v)*a;d+="L "+w.toFixed(3)+" "+E.toFixed(3)+" "}var k={label:"Polygon Body",position:{x:m,y:n},vertices:l.fromPath(d)};if(i.chamfer){var T=i.chamfer;k.vertices=l.chamfer(k.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete i.chamfer}return s.create(f.extend({},k,i))},y.fromVertices=function(m,n,r,a,i,u,d,h){var b=f.getDecomp(),v,w,E,k,T,L,R,M,N,D,G;for(v=!!(b&&b.quickDecomp),a=a||{},E=[],i=typeof i<"u"?i:!1,u=typeof u<"u"?u:.01,d=typeof d<"u"?d:10,h=typeof h<"u"?h:.01,f.isArray(r[0])||(r=[r]),D=0;D<r.length;D+=1)if(L=r[D],k=l.isConvex(L),T=!k,T&&!v&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),k||!v)k?L=l.clockwiseSort(L):L=l.hull(L),E.push({position:{x:m,y:n},vertices:L});else{var V=L.map(function(K){return[K.x,K.y]});b.makeCCW(V),u!==!1&&b.removeCollinearPoints(V,u),h!==!1&&b.removeDuplicatePoints&&b.removeDuplicatePoints(V,h);var z=b.quickDecomp(V);for(R=0;R<z.length;R++){var $=z[R],q=$.map(function(K){return{x:K[0],y:K[1]}});d>0&&l.area(q)<d||E.push({position:l.centre(q),vertices:q})}}for(R=0;R<E.length;R++)E[R]=s.create(f.extend(E[R],a));if(i){var Y=5;for(R=0;R<E.length;R++){var ee=E[R];for(M=R+1;M<E.length;M++){var Z=E[M];if(c.overlaps(ee.bounds,Z.bounds)){var se=ee.vertices,P=Z.vertices;for(N=0;N<ee.vertices.length;N++)for(G=0;G<Z.vertices.length;G++){var B=p.magnitudeSquared(p.sub(se[(N+1)%se.length],P[G])),W=p.magnitudeSquared(p.sub(se[N],P[(G+1)%P.length]));B<Y&&W<Y&&(se[N].isInternal=!0,P[G].isInternal=!0)}}}}}return E.length>1?(w=s.create(f.extend({parts:E.slice(0)},a)),s.setPosition(w,{x:m,y:n}),w):E[0]}})()},function(A,t,_){var y={};A.exports=y;var l=_(0),f=_(8);(function(){y.create=function(s){var c={bodies:[],collisions:[],pairs:null};return l.extend(c,s)},y.setBodies=function(s,c){s.bodies=c.slice(0)},y.clear=function(s){s.bodies=[],s.collisions=[]},y.collisions=function(s){var c=s.pairs,p=s.bodies,m=p.length,n=y.canCollide,r=f.collides,a=s.collisions,i=0,u,d;for(p.sort(y._compareBoundsX),u=0;u<m;u++){var h=p[u],b=h.bounds,v=h.bounds.max.x,w=h.bounds.max.y,E=h.bounds.min.y,k=h.isStatic||h.isSleeping,T=h.parts.length,L=T===1;for(d=u+1;d<m;d++){var R=p[d],M=R.bounds;if(M.min.x>v)break;if(!(w<M.min.y||E>M.max.y)&&!(k&&(R.isStatic||R.isSleeping))&&n(h.collisionFilter,R.collisionFilter)){var N=R.parts.length;if(L&&N===1){var D=r(h,R,c);D&&(a[i++]=D)}else for(var G=T>1?1:0,V=N>1?1:0,z=G;z<T;z++)for(var $=h.parts[z],b=$.bounds,q=V;q<N;q++){var Y=R.parts[q],M=Y.bounds;if(!(b.min.x>M.max.x||b.max.x<M.min.x||b.max.y<M.min.y||b.min.y>M.max.y)){var D=r($,Y,c);D&&(a[i++]=D)}}}}}return a.length!==i&&(a.length=i),a},y.canCollide=function(s,c){return s.group===c.group&&s.group!==0?s.group>0:(s.mask&c.category)!==0&&(c.mask&s.category)!==0},y._compareBoundsX=function(s,c){return s.bounds.min.x-c.bounds.min.x}})()},function(A,t,_){var y={};A.exports=y;var l=_(0);(function(){y.create=function(f){var s={};return f||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=f||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(c){var p=y._getRelativeMousePosition(c,s.element,s.pixelRatio),m=c.changedTouches;m&&(s.button=0,c.preventDefault()),s.absolute.x=p.x,s.absolute.y=p.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=c},s.mousedown=function(c){var p=y._getRelativeMousePosition(c,s.element,s.pixelRatio),m=c.changedTouches;m?(s.button=0,c.preventDefault()):s.button=c.button,s.absolute.x=p.x,s.absolute.y=p.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=c},s.mouseup=function(c){var p=y._getRelativeMousePosition(c,s.element,s.pixelRatio),m=c.changedTouches;m&&c.preventDefault(),s.button=-1,s.absolute.x=p.x,s.absolute.y=p.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=c},s.mousewheel=function(c){s.wheelDelta=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail)),c.preventDefault(),s.sourceEvents.mousewheel=c},y.setElement(s,s.element),s},y.setElement=function(f,s){f.element=s,s.addEventListener("mousemove",f.mousemove,{passive:!0}),s.addEventListener("mousedown",f.mousedown,{passive:!0}),s.addEventListener("mouseup",f.mouseup,{passive:!0}),s.addEventListener("wheel",f.mousewheel,{passive:!1}),s.addEventListener("touchmove",f.mousemove,{passive:!1}),s.addEventListener("touchstart",f.mousedown,{passive:!1}),s.addEventListener("touchend",f.mouseup,{passive:!1})},y.clearSourceEvents=function(f){f.sourceEvents.mousemove=null,f.sourceEvents.mousedown=null,f.sourceEvents.mouseup=null,f.sourceEvents.mousewheel=null,f.wheelDelta=0},y.setOffset=function(f,s){f.offset.x=s.x,f.offset.y=s.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},y.setScale=function(f,s){f.scale.x=s.x,f.scale.y=s.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},y._getRelativeMousePosition=function(f,s,c){var p=s.getBoundingClientRect(),m=document.documentElement||document.body.parentNode||document.body,n=window.pageXOffset!==void 0?window.pageXOffset:m.scrollLeft,r=window.pageYOffset!==void 0?window.pageYOffset:m.scrollTop,a=f.changedTouches,i,u;return a?(i=a[0].pageX-p.left-n,u=a[0].pageY-p.top-r):(i=f.pageX-p.left-n,u=f.pageY-p.top-r),{x:i/(s.clientWidth/(s.width||s.clientWidth)*c),y:u/(s.clientHeight/(s.height||s.clientHeight)*c)}}})()},function(A,t,_){var y={};A.exports=y;var l=_(0);(function(){y._registry={},y.register=function(f){if(y.isPlugin(f)||l.warn("Plugin.register:",y.toString(f),"does not implement all required fields."),f.name in y._registry){var s=y._registry[f.name],c=y.versionParse(f.version).number,p=y.versionParse(s.version).number;c>p?(l.warn("Plugin.register:",y.toString(s),"was upgraded to",y.toString(f)),y._registry[f.name]=f):c<p?l.warn("Plugin.register:",y.toString(s),"can not be downgraded to",y.toString(f)):f!==s&&l.warn("Plugin.register:",y.toString(f),"is already registered to different plugin object")}else y._registry[f.name]=f;return f},y.resolve=function(f){return y._registry[y.dependencyParse(f).name]},y.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},y.isPlugin=function(f){return f&&f.name&&f.version&&f.install},y.isUsed=function(f,s){return f.used.indexOf(s)>-1},y.isFor=function(f,s){var c=f.for&&y.dependencyParse(f.for);return!f.for||s.name===c.name&&y.versionSatisfies(s.version,c.range)},y.use=function(f,s){if(f.uses=(f.uses||[]).concat(s||[]),f.uses.length===0){l.warn("Plugin.use:",y.toString(f),"does not specify any dependencies to install.");return}for(var c=y.dependencies(f),p=l.topologicalSort(c),m=[],n=0;n<p.length;n+=1)if(p[n]!==f.name){var r=y.resolve(p[n]);if(!r){m.push("❌ "+p[n]);continue}y.isUsed(f,r.name)||(y.isFor(r,f)||(l.warn("Plugin.use:",y.toString(r),"is for",r.for,"but installed on",y.toString(f)+"."),r._warned=!0),r.install?r.install(f):(l.warn("Plugin.use:",y.toString(r),"does not specify an install function."),r._warned=!0),r._warned?(m.push("🔶 "+y.toString(r)),delete r._warned):m.push("✅ "+y.toString(r)),f.used.push(r.name))}m.length>0&&l.info(m.join("  "))},y.dependencies=function(f,s){var c=y.dependencyParse(f),p=c.name;if(s=s||{},!(p in s)){f=y.resolve(f)||f,s[p]=l.map(f.uses||[],function(n){y.isPlugin(n)&&y.register(n);var r=y.dependencyParse(n),a=y.resolve(n);return a&&!y.versionSatisfies(a.version,r.range)?(l.warn("Plugin.dependencies:",y.toString(a),"does not satisfy",y.toString(r),"used by",y.toString(c)+"."),a._warned=!0,f._warned=!0):a||(l.warn("Plugin.dependencies:",y.toString(n),"used by",y.toString(c),"could not be resolved."),f._warned=!0),r.name});for(var m=0;m<s[p].length;m+=1)y.dependencies(s[p][m],s);return s}},y.dependencyParse=function(f){if(l.isString(f)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(f)||l.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},y.versionParse=function(f){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(f)||l.warn("Plugin.versionParse:",f,"is not a valid version or range.");var c=s.exec(f),p=Number(c[4]),m=Number(c[5]),n=Number(c[6]);return{isRange:!!(c[1]||c[2]),version:c[3],range:f,operator:c[1]||c[2]||"",major:p,minor:m,patch:n,parts:[p,m,n],prerelease:c[7],number:p*1e8+m*1e4+n}},y.versionSatisfies=function(f,s){s=s||"*";var c=y.versionParse(s),p=y.versionParse(f);if(c.isRange){if(c.operator==="*"||f==="*")return!0;if(c.operator===">")return p.number>c.number;if(c.operator===">=")return p.number>=c.number;if(c.operator==="~")return p.major===c.major&&p.minor===c.minor&&p.patch>=c.patch;if(c.operator==="^")return c.major>0?p.major===c.major&&p.number>=c.number:c.minor>0?p.minor===c.minor&&p.patch>=c.patch:p.patch===c.patch}return f===s||f==="*"}})()},function(A,t){var _={};A.exports=_,function(){_.create=function(y){return{vertex:y,normalImpulse:0,tangentImpulse:0}}}()},function(A,t,_){var y={};A.exports=y;var l=_(7),f=_(18),s=_(13),c=_(19),p=_(5),m=_(6),n=_(10),r=_(0),a=_(4);(function(){y._deltaMax=1e3/60,y.create=function(i){i=i||{};var u={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},d=r.extend(u,i);return d.world=i.world||m.create({label:"World"}),d.pairs=i.pairs||c.create(),d.detector=i.detector||s.create(),d.detector.pairs=d.pairs,d.grid={buckets:[]},d.world.gravity=d.gravity,d.broadphase=d.grid,d.metrics={},d},y.update=function(i,u){var d=r.now(),h=i.world,b=i.detector,v=i.pairs,w=i.timing,E=w.timestamp,k;u>y._deltaMax&&r.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",y._deltaMax.toFixed(3),"ms."),u=typeof u<"u"?u:r._baseDelta,u*=w.timeScale,w.timestamp+=u,w.lastDelta=u;var T={timestamp:w.timestamp,delta:u};p.trigger(i,"beforeUpdate",T);var L=m.allBodies(h),R=m.allConstraints(h);for(h.isModified&&(s.setBodies(b,L),m.setModified(h,!1,!1,!0)),i.enableSleeping&&l.update(L,u),y._bodiesApplyGravity(L,i.gravity),u>0&&y._bodiesUpdate(L,u),p.trigger(i,"beforeSolve",T),n.preSolveAll(L),k=0;k<i.constraintIterations;k++)n.solveAll(R,u);n.postSolveAll(L);var M=s.collisions(b);c.update(v,M,E),i.enableSleeping&&l.afterCollisions(v.list),v.collisionStart.length>0&&p.trigger(i,"collisionStart",{pairs:v.collisionStart,timestamp:w.timestamp,delta:u});var N=r.clamp(20/i.positionIterations,0,1);for(f.preSolvePosition(v.list),k=0;k<i.positionIterations;k++)f.solvePosition(v.list,u,N);for(f.postSolvePosition(L),n.preSolveAll(L),k=0;k<i.constraintIterations;k++)n.solveAll(R,u);for(n.postSolveAll(L),f.preSolveVelocity(v.list),k=0;k<i.velocityIterations;k++)f.solveVelocity(v.list,u);return y._bodiesUpdateVelocities(L),v.collisionActive.length>0&&p.trigger(i,"collisionActive",{pairs:v.collisionActive,timestamp:w.timestamp,delta:u}),v.collisionEnd.length>0&&p.trigger(i,"collisionEnd",{pairs:v.collisionEnd,timestamp:w.timestamp,delta:u}),y._bodiesClearForces(L),p.trigger(i,"afterUpdate",T),i.timing.lastElapsed=r.now()-d,i},y.merge=function(i,u){if(r.extend(i,u),u.world){i.world=u.world,y.clear(i);for(var d=m.allBodies(i.world),h=0;h<d.length;h++){var b=d[h];l.set(b,!1),b.id=r.nextId()}}},y.clear=function(i){c.clear(i.pairs),s.clear(i.detector)},y._bodiesClearForces=function(i){for(var u=i.length,d=0;d<u;d++){var h=i[d];h.force.x=0,h.force.y=0,h.torque=0}},y._bodiesApplyGravity=function(i,u){var d=typeof u.scale<"u"?u.scale:.001,h=i.length;if(!(u.x===0&&u.y===0||d===0))for(var b=0;b<h;b++){var v=i[b];v.isStatic||v.isSleeping||(v.force.y+=v.mass*u.y*d,v.force.x+=v.mass*u.x*d)}},y._bodiesUpdate=function(i,u){for(var d=i.length,h=0;h<d;h++){var b=i[h];b.isStatic||b.isSleeping||a.update(b,u)}},y._bodiesUpdateVelocities=function(i){for(var u=i.length,d=0;d<u;d++)a.updateVelocities(i[d])}})()},function(A,t,_){var y={};A.exports=y;var l=_(3),f=_(0),s=_(1);(function(){y._restingThresh=2,y._restingThreshTangent=Math.sqrt(6),y._positionDampen=.9,y._positionWarming=.8,y._frictionNormalMultiplier=5,y._frictionMaxStatic=Number.MAX_VALUE,y.preSolvePosition=function(c){var p,m,n,r=c.length;for(p=0;p<r;p++)m=c[p],m.isActive&&(n=m.contactCount,m.collision.parentA.totalContacts+=n,m.collision.parentB.totalContacts+=n)},y.solvePosition=function(c,p,m){var n,r,a,i,u,d,h,b,v=y._positionDampen*(m||1),w=f.clamp(p/f._baseDelta,0,1),E=c.length;for(n=0;n<E;n++)r=c[n],!(!r.isActive||r.isSensor)&&(a=r.collision,i=a.parentA,u=a.parentB,d=a.normal,r.separation=a.depth+d.x*(u.positionImpulse.x-i.positionImpulse.x)+d.y*(u.positionImpulse.y-i.positionImpulse.y));for(n=0;n<E;n++)r=c[n],!(!r.isActive||r.isSensor)&&(a=r.collision,i=a.parentA,u=a.parentB,d=a.normal,b=r.separation-r.slop*w,(i.isStatic||u.isStatic)&&(b*=2),i.isStatic||i.isSleeping||(h=v/i.totalContacts,i.positionImpulse.x+=d.x*b*h,i.positionImpulse.y+=d.y*b*h),u.isStatic||u.isSleeping||(h=v/u.totalContacts,u.positionImpulse.x-=d.x*b*h,u.positionImpulse.y-=d.y*b*h))},y.postSolvePosition=function(c){for(var p=y._positionWarming,m=c.length,n=l.translate,r=s.update,a=0;a<m;a++){var i=c[a],u=i.positionImpulse,d=u.x,h=u.y,b=i.velocity;if(i.totalContacts=0,d!==0||h!==0){for(var v=0;v<i.parts.length;v++){var w=i.parts[v];n(w.vertices,u),r(w.bounds,w.vertices,b),w.position.x+=d,w.position.y+=h}i.positionPrev.x+=d,i.positionPrev.y+=h,d*b.x+h*b.y<0?(u.x=0,u.y=0):(u.x*=p,u.y*=p)}}},y.preSolveVelocity=function(c){var p=c.length,m,n;for(m=0;m<p;m++){var r=c[m];if(!(!r.isActive||r.isSensor)){var a=r.contacts,i=r.contactCount,u=r.collision,d=u.parentA,h=u.parentB,b=u.normal,v=u.tangent;for(n=0;n<i;n++){var w=a[n],E=w.vertex,k=w.normalImpulse,T=w.tangentImpulse;if(k!==0||T!==0){var L=b.x*k+v.x*T,R=b.y*k+v.y*T;d.isStatic||d.isSleeping||(d.positionPrev.x+=L*d.inverseMass,d.positionPrev.y+=R*d.inverseMass,d.anglePrev+=d.inverseInertia*((E.x-d.position.x)*R-(E.y-d.position.y)*L)),h.isStatic||h.isSleeping||(h.positionPrev.x-=L*h.inverseMass,h.positionPrev.y-=R*h.inverseMass,h.anglePrev-=h.inverseInertia*((E.x-h.position.x)*R-(E.y-h.position.y)*L))}}}}},y.solveVelocity=function(c,p){var m=p/f._baseDelta,n=m*m,r=n*m,a=-y._restingThresh*m,i=y._restingThreshTangent,u=y._frictionNormalMultiplier*m,d=y._frictionMaxStatic,h=c.length,b,v,w,E;for(w=0;w<h;w++){var k=c[w];if(!(!k.isActive||k.isSensor)){var T=k.collision,L=T.parentA,R=T.parentB,M=T.normal.x,N=T.normal.y,D=T.tangent.x,G=T.tangent.y,V=k.inverseMass,z=k.friction*k.frictionStatic*u,$=k.contacts,q=k.contactCount,Y=1/q,ee=L.position.x-L.positionPrev.x,Z=L.position.y-L.positionPrev.y,se=L.angle-L.anglePrev,P=R.position.x-R.positionPrev.x,B=R.position.y-R.positionPrev.y,W=R.angle-R.anglePrev;for(E=0;E<q;E++){var K=$[E],ne=K.vertex,oe=ne.x-L.position.x,fe=ne.y-L.position.y,ge=ne.x-R.position.x,de=ne.y-R.position.y,ye=ee-fe*se,be=Z+oe*se,ae=P-de*W,ve=B+ge*W,_e=ye-ae,Me=be-ve,Se=M*_e+N*Me,Te=D*_e+G*Me,Re=k.separation+Se,Ye=Math.min(Re,1);Ye=Re<0?0:Ye;var Fe=Ye*z;Te<-Fe||Te>Fe?(v=Te>0?Te:-Te,b=k.friction*(Te>0?1:-1)*r,b<-v?b=-v:b>v&&(b=v)):(b=Te,v=d);var pt=oe*N-fe*M,ot=ge*N-de*M,it=Y/(V+L.inverseInertia*pt*pt+R.inverseInertia*ot*ot),ut=(1+k.restitution)*Se*it;if(b*=it,Se<a)K.normalImpulse=0;else{var lt=K.normalImpulse;K.normalImpulse+=ut,K.normalImpulse>0&&(K.normalImpulse=0),ut=K.normalImpulse-lt}if(Te<-i||Te>i)K.tangentImpulse=0;else{var Pe=K.tangentImpulse;K.tangentImpulse+=b,K.tangentImpulse<-v&&(K.tangentImpulse=-v),K.tangentImpulse>v&&(K.tangentImpulse=v),b=K.tangentImpulse-Pe}var qe=M*ut+D*b,De=N*ut+G*b;L.isStatic||L.isSleeping||(L.positionPrev.x+=qe*L.inverseMass,L.positionPrev.y+=De*L.inverseMass,L.anglePrev+=(oe*De-fe*qe)*L.inverseInertia),R.isStatic||R.isSleeping||(R.positionPrev.x-=qe*R.inverseMass,R.positionPrev.y-=De*R.inverseMass,R.anglePrev-=(ge*De-de*qe)*R.inverseInertia)}}}}})()},function(A,t,_){var y={};A.exports=y;var l=_(9),f=_(0);(function(){y.create=function(s){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},y.update=function(s,c,p){var m=l.update,n=l.create,r=l.setActive,a=s.table,i=s.list,u=i.length,d=u,h=s.collisionStart,b=s.collisionEnd,v=s.collisionActive,w=c.length,E=0,k=0,T=0,L,R,M;for(M=0;M<w;M++)L=c[M],R=L.pair,R?(R.isActive&&(v[T++]=R),m(R,L,p)):(R=n(L,p),a[R.id]=R,h[E++]=R,i[d++]=R);for(d=0,u=i.length,M=0;M<u;M++)R=i[M],R.timeUpdated>=p?i[d++]=R:(r(R,!1,p),R.collision.bodyA.sleepCounter>0&&R.collision.bodyB.sleepCounter>0?i[d++]=R:(b[k++]=R,delete a[R.id]));i.length!==d&&(i.length=d),h.length!==E&&(h.length=E),b.length!==k&&(b.length=k),v.length!==T&&(v.length=T)},y.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(A,t,_){var y=A.exports=_(21);y.Axes=_(11),y.Bodies=_(12),y.Body=_(4),y.Bounds=_(1),y.Collision=_(8),y.Common=_(0),y.Composite=_(6),y.Composites=_(22),y.Constraint=_(10),y.Contact=_(16),y.Detector=_(13),y.Engine=_(17),y.Events=_(5),y.Grid=_(23),y.Mouse=_(14),y.MouseConstraint=_(24),y.Pair=_(9),y.Pairs=_(19),y.Plugin=_(15),y.Query=_(25),y.Render=_(26),y.Resolver=_(18),y.Runner=_(27),y.SAT=_(28),y.Sleeping=_(7),y.Svg=_(29),y.Vector=_(2),y.Vertices=_(3),y.World=_(30),y.Engine.run=y.Runner.run,y.Common.deprecated(y.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(A,t,_){var y={};A.exports=y;var l=_(15),f=_(0);(function(){y.name="matter-js",y.version="0.20.0",y.uses=[],y.used=[],y.use=function(){l.use(y,Array.prototype.slice.call(arguments))},y.before=function(s,c){return s=s.replace(/^Matter./,""),f.chainPathBefore(y,s,c)},y.after=function(s,c){return s=s.replace(/^Matter./,""),f.chainPathAfter(y,s,c)}})()},function(A,t,_){var y={};A.exports=y;var l=_(6),f=_(10),s=_(0),c=_(4),p=_(12),m=s.deprecated;(function(){y.stack=function(n,r,a,i,u,d,h){for(var b=l.create({label:"Stack"}),v=n,w=r,E,k=0,T=0;T<i;T++){for(var L=0,R=0;R<a;R++){var M=h(v,w,R,T,E,k);if(M){var N=M.bounds.max.y-M.bounds.min.y,D=M.bounds.max.x-M.bounds.min.x;N>L&&(L=N),c.translate(M,{x:D*.5,y:N*.5}),v=M.bounds.max.x+u,l.addBody(b,M),E=M,k+=1}else v+=u}w+=L+d,v=n}return b},y.chain=function(n,r,a,i,u,d){for(var h=n.bodies,b=1;b<h.length;b++){var v=h[b-1],w=h[b],E=v.bounds.max.y-v.bounds.min.y,k=v.bounds.max.x-v.bounds.min.x,T=w.bounds.max.y-w.bounds.min.y,L=w.bounds.max.x-w.bounds.min.x,R={bodyA:v,pointA:{x:k*r,y:E*a},bodyB:w,pointB:{x:L*i,y:T*u}},M=s.extend(R,d);l.addConstraint(n,f.create(M))}return n.label+=" Chain",n},y.mesh=function(n,r,a,i,u){var d=n.bodies,h,b,v,w,E;for(h=0;h<a;h++){for(b=1;b<r;b++)v=d[b-1+h*r],w=d[b+h*r],l.addConstraint(n,f.create(s.extend({bodyA:v,bodyB:w},u)));if(h>0)for(b=0;b<r;b++)v=d[b+(h-1)*r],w=d[b+h*r],l.addConstraint(n,f.create(s.extend({bodyA:v,bodyB:w},u))),i&&b>0&&(E=d[b-1+(h-1)*r],l.addConstraint(n,f.create(s.extend({bodyA:E,bodyB:w},u)))),i&&b<r-1&&(E=d[b+1+(h-1)*r],l.addConstraint(n,f.create(s.extend({bodyA:E,bodyB:w},u))))}return n.label+=" Mesh",n},y.pyramid=function(n,r,a,i,u,d,h){return y.stack(n,r,a,i,u,d,function(b,v,w,E,k,T){var L=Math.min(i,Math.ceil(a/2)),R=k?k.bounds.max.x-k.bounds.min.x:0;if(!(E>L)){E=L-E;var M=E,N=a-1-E;if(!(w<M||w>N)){T===1&&c.translate(k,{x:(w+(a%2===1?1:-1))*R,y:0});var D=k?w*R:0;return h(n+D+w*u,v,w,E,k,T)}}})},y.newtonsCradle=function(n,r,a,i,u){for(var d=l.create({label:"Newtons Cradle"}),h=0;h<a;h++){var b=1.9,v=p.circle(n+h*(i*b),r+u,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=f.create({pointA:{x:n+h*(i*b),y:r},bodyB:v});l.addBody(d,v),l.addConstraint(d,w)}return d},m(y,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),y.car=function(n,r,a,i,u){var d=c.nextGroup(!0),h=20,b=-a*.5+h,v=a*.5-h,w=0,E=l.create({label:"Car"}),k=p.rectangle(n,r,a,i,{collisionFilter:{group:d},chamfer:{radius:i*.5},density:2e-4}),T=p.circle(n+b,r+w,u,{collisionFilter:{group:d},friction:.8}),L=p.circle(n+v,r+w,u,{collisionFilter:{group:d},friction:.8}),R=f.create({bodyB:k,pointB:{x:b,y:w},bodyA:T,stiffness:1,length:0}),M=f.create({bodyB:k,pointB:{x:v,y:w},bodyA:L,stiffness:1,length:0});return l.addBody(E,k),l.addBody(E,T),l.addBody(E,L),l.addConstraint(E,R),l.addConstraint(E,M),E},m(y,"car","Composites.car ➤ moved to car example"),y.softBody=function(n,r,a,i,u,d,h,b,v,w){v=s.extend({inertia:1/0},v),w=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var E=y.stack(n,r,a,i,u,d,function(k,T){return p.circle(k,T,b,v)});return y.mesh(E,a,i,h,w),E.label="Soft Body",E},m(y,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(A,t,_){var y={};A.exports=y;var l=_(9),f=_(0),s=f.deprecated;(function(){y.create=function(c){var p={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return f.extend(p,c)},y.update=function(c,p,m,n){var r,a,i,u=m.world,d=c.buckets,h,b,v=!1;for(r=0;r<p.length;r++){var w=p[r];if(!(w.isSleeping&&!n)&&!(u.bounds&&(w.bounds.max.x<u.bounds.min.x||w.bounds.min.x>u.bounds.max.x||w.bounds.max.y<u.bounds.min.y||w.bounds.min.y>u.bounds.max.y))){var E=y._getRegion(c,w);if(!w.region||E.id!==w.region.id||n){(!w.region||n)&&(w.region=E);var k=y._regionUnion(E,w.region);for(a=k.startCol;a<=k.endCol;a++)for(i=k.startRow;i<=k.endRow;i++){b=y._getBucketId(a,i),h=d[b];var T=a>=E.startCol&&a<=E.endCol&&i>=E.startRow&&i<=E.endRow,L=a>=w.region.startCol&&a<=w.region.endCol&&i>=w.region.startRow&&i<=w.region.endRow;!T&&L&&L&&h&&y._bucketRemoveBody(c,h,w),(w.region===E||T&&!L||n)&&(h||(h=y._createBucket(d,b)),y._bucketAddBody(c,h,w))}w.region=E,v=!0}}}v&&(c.pairsList=y._createActivePairsList(c))},s(y,"update","Grid.update ➤ replaced by Matter.Detector"),y.clear=function(c){c.buckets={},c.pairs={},c.pairsList=[]},s(y,"clear","Grid.clear ➤ replaced by Matter.Detector"),y._regionUnion=function(c,p){var m=Math.min(c.startCol,p.startCol),n=Math.max(c.endCol,p.endCol),r=Math.min(c.startRow,p.startRow),a=Math.max(c.endRow,p.endRow);return y._createRegion(m,n,r,a)},y._getRegion=function(c,p){var m=p.bounds,n=Math.floor(m.min.x/c.bucketWidth),r=Math.floor(m.max.x/c.bucketWidth),a=Math.floor(m.min.y/c.bucketHeight),i=Math.floor(m.max.y/c.bucketHeight);return y._createRegion(n,r,a,i)},y._createRegion=function(c,p,m,n){return{id:c+","+p+","+m+","+n,startCol:c,endCol:p,startRow:m,endRow:n}},y._getBucketId=function(c,p){return"C"+c+"R"+p},y._createBucket=function(c,p){var m=c[p]=[];return m},y._bucketAddBody=function(c,p,m){var n=c.pairs,r=l.id,a=p.length,i;for(i=0;i<a;i++){var u=p[i];if(!(m.id===u.id||m.isStatic&&u.isStatic)){var d=r(m,u),h=n[d];h?h[2]+=1:n[d]=[m,u,1]}}p.push(m)},y._bucketRemoveBody=function(c,p,m){var n=c.pairs,r=l.id,a;p.splice(f.indexOf(p,m),1);var i=p.length;for(a=0;a<i;a++){var u=n[r(m,p[a])];u&&(u[2]-=1)}},y._createActivePairsList=function(c){var p,m=c.pairs,n=f.keys(m),r=n.length,a=[],i;for(i=0;i<r;i++)p=m[n[i]],p[2]>0?a.push(p):delete m[n[i]];return a}})()},function(A,t,_){var y={};A.exports=y;var l=_(3),f=_(7),s=_(14),c=_(5),p=_(13),m=_(10),n=_(6),r=_(0),a=_(1);(function(){y.create=function(i,u){var d=(i?i.mouse:null)||(u?u.mouse:null);d||(i&&i.render&&i.render.canvas?d=s.create(i.render.canvas):u&&u.element?d=s.create(u.element):(d=s.create(),r.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var h=m.create({label:"Mouse Constraint",pointA:d.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),b={type:"mouseConstraint",mouse:d,element:null,body:null,constraint:h,collisionFilter:{category:1,mask:4294967295,group:0}},v=r.extend(b,u);return c.on(i,"beforeUpdate",function(){var w=n.allBodies(i.world);y.update(v,w),y._triggerEvents(v)}),v},y.update=function(i,u){var d=i.mouse,h=i.constraint,b=i.body;if(d.button===0){if(h.bodyB)f.set(h.bodyB,!1),h.pointA=d.position;else for(var v=0;v<u.length;v++)if(b=u[v],a.contains(b.bounds,d.position)&&p.canCollide(b.collisionFilter,i.collisionFilter))for(var w=b.parts.length>1?1:0;w<b.parts.length;w++){var E=b.parts[w];if(l.contains(E.vertices,d.position)){h.pointA=d.position,h.bodyB=i.body=b,h.pointB={x:d.position.x-b.position.x,y:d.position.y-b.position.y},h.angleB=b.angle,f.set(b,!1),c.trigger(i,"startdrag",{mouse:d,body:b});break}}}else h.bodyB=i.body=null,h.pointB=null,b&&c.trigger(i,"enddrag",{mouse:d,body:b})},y._triggerEvents=function(i){var u=i.mouse,d=u.sourceEvents;d.mousemove&&c.trigger(i,"mousemove",{mouse:u}),d.mousedown&&c.trigger(i,"mousedown",{mouse:u}),d.mouseup&&c.trigger(i,"mouseup",{mouse:u}),s.clearSourceEvents(u)}})()},function(A,t,_){var y={};A.exports=y;var l=_(2),f=_(8),s=_(1),c=_(12),p=_(3);(function(){y.collides=function(m,n){for(var r=[],a=n.length,i=m.bounds,u=f.collides,d=s.overlaps,h=0;h<a;h++){var b=n[h],v=b.parts.length,w=v===1?0:1;if(d(b.bounds,i))for(var E=w;E<v;E++){var k=b.parts[E];if(d(k.bounds,i)){var T=u(k,m);if(T){r.push(T);break}}}}return r},y.ray=function(m,n,r,a){a=a||1e-100;for(var i=l.angle(n,r),u=l.magnitude(l.sub(n,r)),d=(r.x+n.x)*.5,h=(r.y+n.y)*.5,b=c.rectangle(d,h,u,a,{angle:i}),v=y.collides(b,m),w=0;w<v.length;w+=1){var E=v[w];E.body=E.bodyB=E.bodyA}return v},y.region=function(m,n,r){for(var a=[],i=0;i<m.length;i++){var u=m[i],d=s.overlaps(u.bounds,n);(d&&!r||!d&&r)&&a.push(u)}return a},y.point=function(m,n){for(var r=[],a=0;a<m.length;a++){var i=m[a];if(s.contains(i.bounds,n))for(var u=i.parts.length===1?0:1;u<i.parts.length;u++){var d=i.parts[u];if(s.contains(d.bounds,n)&&p.contains(d.vertices,n)){r.push(i);break}}}return r}})()},function(A,t,_){var y={};A.exports=y;var l=_(4),f=_(0),s=_(6),c=_(1),p=_(5),m=_(2),n=_(14);(function(){var r,a;typeof window<"u"&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(w){window.setTimeout(function(){w(f.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),y._goodFps=30,y._goodDelta=1e3/60,y.create=function(w){var E={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!w.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},k=f.extend(E,w);return k.canvas&&(k.canvas.width=k.options.width||k.canvas.width,k.canvas.height=k.options.height||k.canvas.height),k.mouse=w.mouse,k.engine=w.engine,k.canvas=k.canvas||d(k.options.width,k.options.height),k.context=k.canvas.getContext("2d"),k.textures={},k.bounds=k.bounds||{min:{x:0,y:0},max:{x:k.canvas.width,y:k.canvas.height}},k.controller=y,k.options.showBroadphase=!1,k.options.pixelRatio!==1&&y.setPixelRatio(k,k.options.pixelRatio),f.isElement(k.element)&&k.element.appendChild(k.canvas),k},y.run=function(w){(function E(k){w.frameRequestId=r(E),i(w,k),y.world(w,k),w.context.setTransform(w.options.pixelRatio,0,0,w.options.pixelRatio,0,0),(w.options.showStats||w.options.showDebug)&&y.stats(w,w.context,k),(w.options.showPerformance||w.options.showDebug)&&y.performance(w,w.context,k),w.context.setTransform(1,0,0,1,0,0)})()},y.stop=function(w){a(w.frameRequestId)},y.setPixelRatio=function(w,E){var k=w.options,T=w.canvas;E==="auto"&&(E=h(T)),k.pixelRatio=E,T.setAttribute("data-pixel-ratio",E),T.width=k.width*E,T.height=k.height*E,T.style.width=k.width+"px",T.style.height=k.height+"px"},y.setSize=function(w,E,k){w.options.width=E,w.options.height=k,w.bounds.max.x=w.bounds.min.x+E,w.bounds.max.y=w.bounds.min.y+k,w.options.pixelRatio!==1?y.setPixelRatio(w,w.options.pixelRatio):(w.canvas.width=E,w.canvas.height=k)},y.lookAt=function(w,E,k,T){T=typeof T<"u"?T:!0,E=f.isArray(E)?E:[E],k=k||{x:0,y:0};for(var L={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},R=0;R<E.length;R+=1){var M=E[R],N=M.bounds?M.bounds.min:M.min||M.position||M,D=M.bounds?M.bounds.max:M.max||M.position||M;N&&D&&(N.x<L.min.x&&(L.min.x=N.x),D.x>L.max.x&&(L.max.x=D.x),N.y<L.min.y&&(L.min.y=N.y),D.y>L.max.y&&(L.max.y=D.y))}var G=L.max.x-L.min.x+2*k.x,V=L.max.y-L.min.y+2*k.y,z=w.canvas.height,$=w.canvas.width,q=$/z,Y=G/V,ee=1,Z=1;Y>q?Z=Y/q:ee=q/Y,w.options.hasBounds=!0,w.bounds.min.x=L.min.x,w.bounds.max.x=L.min.x+G*ee,w.bounds.min.y=L.min.y,w.bounds.max.y=L.min.y+V*Z,T&&(w.bounds.min.x+=G*.5-G*ee*.5,w.bounds.max.x+=G*.5-G*ee*.5,w.bounds.min.y+=V*.5-V*Z*.5,w.bounds.max.y+=V*.5-V*Z*.5),w.bounds.min.x-=k.x,w.bounds.max.x-=k.x,w.bounds.min.y-=k.y,w.bounds.max.y-=k.y,w.mouse&&(n.setScale(w.mouse,{x:(w.bounds.max.x-w.bounds.min.x)/w.canvas.width,y:(w.bounds.max.y-w.bounds.min.y)/w.canvas.height}),n.setOffset(w.mouse,w.bounds.min))},y.startViewTransform=function(w){var E=w.bounds.max.x-w.bounds.min.x,k=w.bounds.max.y-w.bounds.min.y,T=E/w.options.width,L=k/w.options.height;w.context.setTransform(w.options.pixelRatio/T,0,0,w.options.pixelRatio/L,0,0),w.context.translate(-w.bounds.min.x,-w.bounds.min.y)},y.endViewTransform=function(w){w.context.setTransform(w.options.pixelRatio,0,0,w.options.pixelRatio,0,0)},y.world=function(w,E){var k=f.now(),T=w.engine,L=T.world,R=w.canvas,M=w.context,N=w.options,D=w.timing,G=s.allBodies(L),V=s.allConstraints(L),z=N.wireframes?N.wireframeBackground:N.background,$=[],q=[],Y,ee={timestamp:T.timing.timestamp};if(p.trigger(w,"beforeRender",ee),w.currentBackground!==z&&v(w,z),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,R.width,R.height),M.globalCompositeOperation="source-over",N.hasBounds){for(Y=0;Y<G.length;Y++){var Z=G[Y];c.overlaps(Z.bounds,w.bounds)&&$.push(Z)}for(Y=0;Y<V.length;Y++){var se=V[Y],P=se.bodyA,B=se.bodyB,W=se.pointA,K=se.pointB;P&&(W=m.add(P.position,se.pointA)),B&&(K=m.add(B.position,se.pointB)),!(!W||!K)&&(c.contains(w.bounds,W)||c.contains(w.bounds,K))&&q.push(se)}y.startViewTransform(w),w.mouse&&(n.setScale(w.mouse,{x:(w.bounds.max.x-w.bounds.min.x)/w.options.width,y:(w.bounds.max.y-w.bounds.min.y)/w.options.height}),n.setOffset(w.mouse,w.bounds.min))}else q=V,$=G,w.options.pixelRatio!==1&&w.context.setTransform(w.options.pixelRatio,0,0,w.options.pixelRatio,0,0);!N.wireframes||T.enableSleeping&&N.showSleeping?y.bodies(w,$,M):(N.showConvexHulls&&y.bodyConvexHulls(w,$,M),y.bodyWireframes(w,$,M)),N.showBounds&&y.bodyBounds(w,$,M),(N.showAxes||N.showAngleIndicator)&&y.bodyAxes(w,$,M),N.showPositions&&y.bodyPositions(w,$,M),N.showVelocity&&y.bodyVelocity(w,$,M),N.showIds&&y.bodyIds(w,$,M),N.showSeparations&&y.separations(w,T.pairs.list,M),N.showCollisions&&y.collisions(w,T.pairs.list,M),N.showVertexNumbers&&y.vertexNumbers(w,$,M),N.showMousePosition&&y.mousePosition(w,w.mouse,M),y.constraints(q,M),N.hasBounds&&y.endViewTransform(w),p.trigger(w,"afterRender",ee),D.lastElapsed=f.now()-k},y.stats=function(w,E,k){for(var T=w.engine,L=T.world,R=s.allBodies(L),M=0,N=55,D=44,G=0,V=0,z=0;z<R.length;z+=1)M+=R[z].parts.length;var $={Part:M,Body:R.length,Cons:s.allConstraints(L).length,Comp:s.allComposites(L).length,Pair:T.pairs.list.length};E.fillStyle="#0e0f19",E.fillRect(G,V,N*5.5,D),E.font="12px Arial",E.textBaseline="top",E.textAlign="right";for(var q in $){var Y=$[q];E.fillStyle="#aaa",E.fillText(q,G+N,V+8),E.fillStyle="#eee",E.fillText(Y,G+N,V+26),G+=N}},y.performance=function(w,E){var k=w.engine,T=w.timing,L=T.deltaHistory,R=T.elapsedHistory,M=T.timestampElapsedHistory,N=T.engineDeltaHistory,D=T.engineUpdatesHistory,G=T.engineElapsedHistory,V=k.timing.lastUpdatesPerFrame,z=k.timing.lastDelta,$=u(L),q=u(R),Y=u(N),ee=u(D),Z=u(G),se=u(M),P=se/$||0,B=Math.round($/z),W=1e3/$||0,K=4,ne=12,oe=60,fe=34,ge=10,de=69;E.fillStyle="#0e0f19",E.fillRect(0,50,ne*5+oe*6+22,fe),y.status(E,ge,de,oe,K,L.length,Math.round(W)+" fps",W/y._goodFps,function(ye){return L[ye]/$-1}),y.status(E,ge+ne+oe,de,oe,K,N.length,z.toFixed(2)+" dt",y._goodDelta/z,function(ye){return N[ye]/Y-1}),y.status(E,ge+(ne+oe)*2,de,oe,K,D.length,V+" upf",Math.pow(f.clamp(ee/B||1,0,1),4),function(ye){return D[ye]/ee-1}),y.status(E,ge+(ne+oe)*3,de,oe,K,G.length,Z.toFixed(2)+" ut",1-V*Z/y._goodFps,function(ye){return G[ye]/Z-1}),y.status(E,ge+(ne+oe)*4,de,oe,K,R.length,q.toFixed(2)+" rt",1-q/y._goodFps,function(ye){return R[ye]/q-1}),y.status(E,ge+(ne+oe)*5,de,oe,K,M.length,P.toFixed(2)+" x",P*P*P,function(ye){return(M[ye]/L[ye]/P||0)-1})},y.status=function(w,E,k,T,L,R,M,N,D){w.strokeStyle="#888",w.fillStyle="#444",w.lineWidth=1,w.fillRect(E,k+7,T,1),w.beginPath(),w.moveTo(E,k+7-L*f.clamp(.4*D(0),-2,2));for(var G=0;G<T;G+=1)w.lineTo(E+G,k+7-(G<R?L*f.clamp(.4*D(G),-2,2):0));w.stroke(),w.fillStyle="hsl("+f.clamp(25+95*N,0,120)+",100%,60%)",w.fillRect(E,k-7,4,4),w.font="12px Arial",w.textBaseline="middle",w.textAlign="right",w.fillStyle="#eee",w.fillText(M,E+T,k-5)},y.constraints=function(w,E){for(var k=E,T=0;T<w.length;T++){var L=w[T];if(!(!L.render.visible||!L.pointA||!L.pointB)){var R=L.bodyA,M=L.bodyB,N,D;if(R?N=m.add(R.position,L.pointA):N=L.pointA,L.render.type==="pin")k.beginPath(),k.arc(N.x,N.y,3,0,2*Math.PI),k.closePath();else{if(M?D=m.add(M.position,L.pointB):D=L.pointB,k.beginPath(),k.moveTo(N.x,N.y),L.render.type==="spring")for(var G=m.sub(D,N),V=m.perp(m.normalise(G)),z=Math.ceil(f.clamp(L.length/5,12,20)),$,q=1;q<z;q+=1)$=q%2===0?1:-1,k.lineTo(N.x+G.x*(q/z)+V.x*$*4,N.y+G.y*(q/z)+V.y*$*4);k.lineTo(D.x,D.y)}L.render.lineWidth&&(k.lineWidth=L.render.lineWidth,k.strokeStyle=L.render.strokeStyle,k.stroke()),L.render.anchors&&(k.fillStyle=L.render.strokeStyle,k.beginPath(),k.arc(N.x,N.y,3,0,2*Math.PI),k.arc(D.x,D.y,3,0,2*Math.PI),k.closePath(),k.fill())}}},y.bodies=function(w,E,k){var T=k;w.engine;var L=w.options,R=L.showInternalEdges||!L.wireframes,M,N,D,G;for(D=0;D<E.length;D++)if(M=E[D],!!M.render.visible){for(G=M.parts.length>1?1:0;G<M.parts.length;G++)if(N=M.parts[G],!!N.render.visible){if(L.showSleeping&&M.isSleeping?T.globalAlpha=.5*N.render.opacity:N.render.opacity!==1&&(T.globalAlpha=N.render.opacity),N.render.sprite&&N.render.sprite.texture&&!L.wireframes){var V=N.render.sprite,z=b(w,V.texture);T.translate(N.position.x,N.position.y),T.rotate(N.angle),T.drawImage(z,z.width*-V.xOffset*V.xScale,z.height*-V.yOffset*V.yScale,z.width*V.xScale,z.height*V.yScale),T.rotate(-N.angle),T.translate(-N.position.x,-N.position.y)}else{if(N.circleRadius)T.beginPath(),T.arc(N.position.x,N.position.y,N.circleRadius,0,2*Math.PI);else{T.beginPath(),T.moveTo(N.vertices[0].x,N.vertices[0].y);for(var $=1;$<N.vertices.length;$++)!N.vertices[$-1].isInternal||R?T.lineTo(N.vertices[$].x,N.vertices[$].y):T.moveTo(N.vertices[$].x,N.vertices[$].y),N.vertices[$].isInternal&&!R&&T.moveTo(N.vertices[($+1)%N.vertices.length].x,N.vertices[($+1)%N.vertices.length].y);T.lineTo(N.vertices[0].x,N.vertices[0].y),T.closePath()}L.wireframes?(T.lineWidth=1,T.strokeStyle=w.options.wireframeStrokeStyle,T.stroke()):(T.fillStyle=N.render.fillStyle,N.render.lineWidth&&(T.lineWidth=N.render.lineWidth,T.strokeStyle=N.render.strokeStyle,T.stroke()),T.fill())}T.globalAlpha=1}}},y.bodyWireframes=function(w,E,k){var T=k,L=w.options.showInternalEdges,R,M,N,D,G;for(T.beginPath(),N=0;N<E.length;N++)if(R=E[N],!!R.render.visible)for(G=R.parts.length>1?1:0;G<R.parts.length;G++){for(M=R.parts[G],T.moveTo(M.vertices[0].x,M.vertices[0].y),D=1;D<M.vertices.length;D++)!M.vertices[D-1].isInternal||L?T.lineTo(M.vertices[D].x,M.vertices[D].y):T.moveTo(M.vertices[D].x,M.vertices[D].y),M.vertices[D].isInternal&&!L&&T.moveTo(M.vertices[(D+1)%M.vertices.length].x,M.vertices[(D+1)%M.vertices.length].y);T.lineTo(M.vertices[0].x,M.vertices[0].y)}T.lineWidth=1,T.strokeStyle=w.options.wireframeStrokeStyle,T.stroke()},y.bodyConvexHulls=function(w,E,k){var T=k,L,R,M;for(T.beginPath(),R=0;R<E.length;R++)if(L=E[R],!(!L.render.visible||L.parts.length===1)){for(T.moveTo(L.vertices[0].x,L.vertices[0].y),M=1;M<L.vertices.length;M++)T.lineTo(L.vertices[M].x,L.vertices[M].y);T.lineTo(L.vertices[0].x,L.vertices[0].y)}T.lineWidth=1,T.strokeStyle="rgba(255,255,255,0.2)",T.stroke()},y.vertexNumbers=function(w,E,k){var T=k,L,R,M;for(L=0;L<E.length;L++){var N=E[L].parts;for(M=N.length>1?1:0;M<N.length;M++){var D=N[M];for(R=0;R<D.vertices.length;R++)T.fillStyle="rgba(255,255,255,0.2)",T.fillText(L+"_"+R,D.position.x+(D.vertices[R].x-D.position.x)*.8,D.position.y+(D.vertices[R].y-D.position.y)*.8)}}},y.mousePosition=function(w,E,k){var T=k;T.fillStyle="rgba(255,255,255,0.8)",T.fillText(E.position.x+"  "+E.position.y,E.position.x+5,E.position.y-5)},y.bodyBounds=function(w,E,k){var T=k;w.engine;var L=w.options;T.beginPath();for(var R=0;R<E.length;R++){var M=E[R];if(M.render.visible)for(var N=E[R].parts,D=N.length>1?1:0;D<N.length;D++){var G=N[D];T.rect(G.bounds.min.x,G.bounds.min.y,G.bounds.max.x-G.bounds.min.x,G.bounds.max.y-G.bounds.min.y)}}L.wireframes?T.strokeStyle="rgba(255,255,255,0.08)":T.strokeStyle="rgba(0,0,0,0.1)",T.lineWidth=1,T.stroke()},y.bodyAxes=function(w,E,k){var T=k;w.engine;var L=w.options,R,M,N,D;for(T.beginPath(),M=0;M<E.length;M++){var G=E[M],V=G.parts;if(G.render.visible)if(L.showAxes)for(N=V.length>1?1:0;N<V.length;N++)for(R=V[N],D=0;D<R.axes.length;D++){var z=R.axes[D];T.moveTo(R.position.x,R.position.y),T.lineTo(R.position.x+z.x*20,R.position.y+z.y*20)}else for(N=V.length>1?1:0;N<V.length;N++)for(R=V[N],D=0;D<R.axes.length;D++)T.moveTo(R.position.x,R.position.y),T.lineTo((R.vertices[0].x+R.vertices[R.vertices.length-1].x)/2,(R.vertices[0].y+R.vertices[R.vertices.length-1].y)/2)}L.wireframes?(T.strokeStyle="indianred",T.lineWidth=1):(T.strokeStyle="rgba(255, 255, 255, 0.4)",T.globalCompositeOperation="overlay",T.lineWidth=2),T.stroke(),T.globalCompositeOperation="source-over"},y.bodyPositions=function(w,E,k){var T=k;w.engine;var L=w.options,R,M,N,D;for(T.beginPath(),N=0;N<E.length;N++)if(R=E[N],!!R.render.visible)for(D=0;D<R.parts.length;D++)M=R.parts[D],T.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),T.closePath();for(L.wireframes?T.fillStyle="indianred":T.fillStyle="rgba(0,0,0,0.5)",T.fill(),T.beginPath(),N=0;N<E.length;N++)R=E[N],R.render.visible&&(T.arc(R.positionPrev.x,R.positionPrev.y,2,0,2*Math.PI,!1),T.closePath());T.fillStyle="rgba(255,165,0,0.8)",T.fill()},y.bodyVelocity=function(w,E,k){var T=k;T.beginPath();for(var L=0;L<E.length;L++){var R=E[L];if(R.render.visible){var M=l.getVelocity(R);T.moveTo(R.position.x,R.position.y),T.lineTo(R.position.x+M.x,R.position.y+M.y)}}T.lineWidth=3,T.strokeStyle="cornflowerblue",T.stroke()},y.bodyIds=function(w,E,k){var T=k,L,R;for(L=0;L<E.length;L++)if(E[L].render.visible){var M=E[L].parts;for(R=M.length>1?1:0;R<M.length;R++){var N=M[R];T.font="12px Arial",T.fillStyle="rgba(255,255,255,0.5)",T.fillText(N.id,N.position.x+10,N.position.y-10)}}},y.collisions=function(w,E,k){var T=k,L=w.options,R,M,N,D;for(T.beginPath(),N=0;N<E.length;N++)if(R=E[N],!!R.isActive)for(M=R.collision,D=0;D<R.contactCount;D++){var G=R.contacts[D],V=G.vertex;T.rect(V.x-1.5,V.y-1.5,3.5,3.5)}for(L.wireframes?T.fillStyle="rgba(255,255,255,0.7)":T.fillStyle="orange",T.fill(),T.beginPath(),N=0;N<E.length;N++)if(R=E[N],!!R.isActive&&(M=R.collision,R.contactCount>0)){var z=R.contacts[0].vertex.x,$=R.contacts[0].vertex.y;R.contactCount===2&&(z=(R.contacts[0].vertex.x+R.contacts[1].vertex.x)/2,$=(R.contacts[0].vertex.y+R.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?T.moveTo(z-M.normal.x*8,$-M.normal.y*8):T.moveTo(z+M.normal.x*8,$+M.normal.y*8),T.lineTo(z,$)}L.wireframes?T.strokeStyle="rgba(255,165,0,0.7)":T.strokeStyle="orange",T.lineWidth=1,T.stroke()},y.separations=function(w,E,k){var T=k,L=w.options,R,M,N,D,G;for(T.beginPath(),G=0;G<E.length;G++)if(R=E[G],!!R.isActive){M=R.collision,N=M.bodyA,D=M.bodyB;var V=1;!D.isStatic&&!N.isStatic&&(V=.5),D.isStatic&&(V=0),T.moveTo(D.position.x,D.position.y),T.lineTo(D.position.x-M.penetration.x*V,D.position.y-M.penetration.y*V),V=1,!D.isStatic&&!N.isStatic&&(V=.5),N.isStatic&&(V=0),T.moveTo(N.position.x,N.position.y),T.lineTo(N.position.x+M.penetration.x*V,N.position.y+M.penetration.y*V)}L.wireframes?T.strokeStyle="rgba(255,165,0,0.5)":T.strokeStyle="orange",T.stroke()},y.inspector=function(w,E){w.engine;var k=w.selected,T=w.render,L=T.options,R;if(L.hasBounds){var M=T.bounds.max.x-T.bounds.min.x,N=T.bounds.max.y-T.bounds.min.y,D=M/T.options.width,G=N/T.options.height;E.scale(1/D,1/G),E.translate(-T.bounds.min.x,-T.bounds.min.y)}for(var V=0;V<k.length;V++){var z=k[V].data;switch(E.translate(.5,.5),E.lineWidth=1,E.strokeStyle="rgba(255,165,0,0.9)",E.setLineDash([1,2]),z.type){case"body":R=z.bounds,E.beginPath(),E.rect(Math.floor(R.min.x-3),Math.floor(R.min.y-3),Math.floor(R.max.x-R.min.x+6),Math.floor(R.max.y-R.min.y+6)),E.closePath(),E.stroke();break;case"constraint":var $=z.pointA;z.bodyA&&($=z.pointB),E.beginPath(),E.arc($.x,$.y,10,0,2*Math.PI),E.closePath(),E.stroke();break}E.setLineDash([]),E.translate(-.5,-.5)}w.selectStart!==null&&(E.translate(.5,.5),E.lineWidth=1,E.strokeStyle="rgba(255,165,0,0.6)",E.fillStyle="rgba(255,165,0,0.1)",R=w.selectBounds,E.beginPath(),E.rect(Math.floor(R.min.x),Math.floor(R.min.y),Math.floor(R.max.x-R.min.x),Math.floor(R.max.y-R.min.y)),E.closePath(),E.stroke(),E.fill(),E.translate(-.5,-.5)),L.hasBounds&&E.setTransform(1,0,0,1,0,0)};var i=function(w,E){var k=w.engine,T=w.timing,L=T.historySize,R=k.timing.timestamp;T.delta=E-T.lastTime||y._goodDelta,T.lastTime=E,T.timestampElapsed=R-T.lastTimestamp||0,T.lastTimestamp=R,T.deltaHistory.unshift(T.delta),T.deltaHistory.length=Math.min(T.deltaHistory.length,L),T.engineDeltaHistory.unshift(k.timing.lastDelta),T.engineDeltaHistory.length=Math.min(T.engineDeltaHistory.length,L),T.timestampElapsedHistory.unshift(T.timestampElapsed),T.timestampElapsedHistory.length=Math.min(T.timestampElapsedHistory.length,L),T.engineUpdatesHistory.unshift(k.timing.lastUpdatesPerFrame),T.engineUpdatesHistory.length=Math.min(T.engineUpdatesHistory.length,L),T.engineElapsedHistory.unshift(k.timing.lastElapsed),T.engineElapsedHistory.length=Math.min(T.engineElapsedHistory.length,L),T.elapsedHistory.unshift(T.lastElapsed),T.elapsedHistory.length=Math.min(T.elapsedHistory.length,L)},u=function(w){for(var E=0,k=0;k<w.length;k+=1)E+=w[k];return E/w.length||0},d=function(w,E){var k=document.createElement("canvas");return k.width=w,k.height=E,k.oncontextmenu=function(){return!1},k.onselectstart=function(){return!1},k},h=function(w){var E=w.getContext("2d"),k=window.devicePixelRatio||1,T=E.webkitBackingStorePixelRatio||E.mozBackingStorePixelRatio||E.msBackingStorePixelRatio||E.oBackingStorePixelRatio||E.backingStorePixelRatio||1;return k/T},b=function(w,E){var k=w.textures[E];return k||(k=w.textures[E]=new Image,k.src=E,k)},v=function(w,E){var k=E;/(jpg|gif|png)$/.test(E)&&(k="url("+E+")"),w.canvas.style.background=k,w.canvas.style.backgroundSize="contain",w.currentBackground=E}})()},function(A,t,_){var y={};A.exports=y;var l=_(5),f=_(17),s=_(0);(function(){y._maxFrameDelta=1e3/15,y._frameDeltaFallback=1e3/60,y._timeBufferMargin=1.5,y._elapsedNextEstimate=1,y._smoothingLowerBound=.1,y._smoothingUpperBound=.9,y.create=function(p){var m={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},n=s.extend(m,p);return n.fps=0,n},y.run=function(p,m){return p.timeBuffer=y._frameDeltaFallback,function n(r){p.frameRequestId=y._onNextFrame(p,n),r&&p.enabled&&y.tick(p,m,r)}(),p},y.tick=function(p,m,n){var r=s.now(),a=p.delta,i=0,u=n-p.timeLastTick;if((!u||!p.timeLastTick||u>Math.max(y._maxFrameDelta,p.maxFrameTime))&&(u=p.frameDelta||y._frameDeltaFallback),p.frameDeltaSmoothing){p.frameDeltaHistory.push(u),p.frameDeltaHistory=p.frameDeltaHistory.slice(-p.frameDeltaHistorySize);var d=p.frameDeltaHistory.slice(0).sort(),h=p.frameDeltaHistory.slice(d.length*y._smoothingLowerBound,d.length*y._smoothingUpperBound),b=c(h);u=b||u}p.frameDeltaSnapping&&(u=1e3/Math.round(1e3/u)),p.frameDelta=u,p.timeLastTick=n,p.timeBuffer+=p.frameDelta,p.timeBuffer=s.clamp(p.timeBuffer,0,p.frameDelta+a*y._timeBufferMargin),p.lastUpdatesDeferred=0;var v=p.maxUpdates||Math.ceil(p.maxFrameTime/a),w={timestamp:m.timing.timestamp};l.trigger(p,"beforeTick",w),l.trigger(p,"tick",w);for(var E=s.now();a>0&&p.timeBuffer>=a*y._timeBufferMargin;){l.trigger(p,"beforeUpdate",w),f.update(m,a),l.trigger(p,"afterUpdate",w),p.timeBuffer-=a,i+=1;var k=s.now()-r,T=s.now()-E,L=k+y._elapsedNextEstimate*T/i;if(i>=v||L>p.maxFrameTime){p.lastUpdatesDeferred=Math.round(Math.max(0,p.timeBuffer/a-y._timeBufferMargin));break}}m.timing.lastUpdatesPerFrame=i,l.trigger(p,"afterTick",w),p.frameDeltaHistory.length>=100&&(p.lastUpdatesDeferred&&Math.round(p.frameDelta/a)>v?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):p.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof p.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(p.deltaMin||p.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),p.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},y.stop=function(p){y._cancelNextFrame(p)},y._onNextFrame=function(p,m){if(typeof window<"u"&&window.requestAnimationFrame)p.frameRequestId=window.requestAnimationFrame(m);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return p.frameRequestId},y._cancelNextFrame=function(p){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(p.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var c=function(p){for(var m=0,n=p.length,r=0;r<n;r+=1)m+=p[r];return m/n||0}})()},function(A,t,_){var y={};A.exports=y;var l=_(8),f=_(0),s=f.deprecated;(function(){y.collides=function(c,p){return l.collides(c,p)},s(y,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(A,t,_){var y={};A.exports=y,_(1);var l=_(0);(function(){y.pathToVertices=function(f,s){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,p,m,n,r,a,i,u,d,h,b=[],v,w,E=0,k=0,T=0;s=s||15;var L=function(M,N,D){var G=D%2===1&&D>1;if(!d||M!=d.x||N!=d.y){d&&G?(v=d.x,w=d.y):(v=0,w=0);var V={x:v+M,y:w+N};(G||!d)&&(d=V),b.push(V),k=v+M,T=w+N}},R=function(M){var N=M.pathSegTypeAsLetter.toUpperCase();if(N!=="Z"){switch(N){case"M":case"L":case"T":case"C":case"S":case"Q":k=M.x,T=M.y;break;case"H":k=M.x;break;case"V":T=M.y;break}L(k,T,M.pathSegType)}};for(y._svgPathToAbsolute(f),m=f.getTotalLength(),a=[],c=0;c<f.pathSegList.numberOfItems;c+=1)a.push(f.pathSegList.getItem(c));for(i=a.concat();E<m;){if(h=f.getPathSegAtLength(E),r=a[h],r!=u){for(;i.length&&i[0]!=r;)R(i.shift());u=r}switch(r.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":n=f.getPointAtLength(E),L(n.x,n.y,0);break}E+=s}for(c=0,p=i.length;c<p;++c)R(i[c]);return b},y._svgPathToAbsolute=function(f){for(var s,c,p,m,n,r,a=f.pathSegList,i=0,u=0,d=a.numberOfItems,h=0;h<d;++h){var b=a.getItem(h),v=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(v))"x"in b&&(i=b.x),"y"in b&&(u=b.y);else switch("x1"in b&&(p=i+b.x1),"x2"in b&&(n=i+b.x2),"y1"in b&&(m=u+b.y1),"y2"in b&&(r=u+b.y2),"x"in b&&(i+=b.x),"y"in b&&(u+=b.y),v){case"m":a.replaceItem(f.createSVGPathSegMovetoAbs(i,u),h);break;case"l":a.replaceItem(f.createSVGPathSegLinetoAbs(i,u),h);break;case"h":a.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(i),h);break;case"v":a.replaceItem(f.createSVGPathSegLinetoVerticalAbs(u),h);break;case"c":a.replaceItem(f.createSVGPathSegCurvetoCubicAbs(i,u,p,m,n,r),h);break;case"s":a.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(i,u,n,r),h);break;case"q":a.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(i,u,p,m),h);break;case"t":a.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(i,u),h);break;case"a":a.replaceItem(f.createSVGPathSegArcAbs(i,u,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),h);break;case"z":case"Z":i=s,u=c;break}(v=="M"||v=="m")&&(s=i,c=u)}}})()},function(A,t,_){var y={};A.exports=y;var l=_(6);_(0),function(){y.create=l.create,y.add=l.add,y.remove=l.remove,y.clear=l.clear,y.addComposite=l.addComposite,y.addBody=l.addBody,y.addConstraint=l.addConstraint}()}])})}(Ml)),Ml.exports}var M2=C2();const _o=od(M2),P2=()=>{const x=xc.useRef(),S=xc.useRef(),A=xc.useRef();return Ie.useEffect(()=>{let t=null,_=null;const y=_o.Engine;_o.World;const l=_o.Bodies,f=_o.Body;_o.Common;const s=_o.Composite;_o.Svg;const c=y.create({gravity:{x:-1.5,y:0}}),p=c.world,m=[];let n=S.current.getBoundingClientRect().x;const r=200,a=3*window.innerWidth,i=window.innerHeight,u=[l.rectangle(a/2,-200/2,a,r,{isStatic:!0}),l.rectangle(a/2,i+r/2,a,r,{isStatic:!0}),l.rectangle(n-r/2,i/2,r,i*1.5,{isStatic:!0}),l.rectangle(a+r/2,i/2,r,i*1.5,{isStatic:!0})];for(let h=0;h<20;h++)m.push(l.circle(Math.random()*a*2,Math.random()*i,Math.random()*100+50,{restitution:.5}));s.add(p,[...u,...m]);const d=h=>{let b,v,w,E,k;const T=(M,N,D)=>{M.background(255),M.textSize(360),M.textFont(k),M.textAlign(h.LEFT,h.BASELINE),M.fill(0),M.text(N,10,D)};h.preload=()=>{k=h.loadFont("/src/assets/SpaceGrotesk-Bold.ttf",void 0,M=>console.log(M))},h.setup=()=>{h.createCanvas(h.windowWidth,h.windowHeight,h.WEBGL,A.current),A.current=h.canvas,h.background(255),h.noStroke(),h.textFont(k),v=h.createGraphics(h.width,h.height),w=h.createGraphics(h.width,h.height),E=h.createGraphics(h.width,h.height),E.pixelDensity(2),v.pixelDensity(2),w.pixelDensity(2),L(),b=h.createImage(h.width,h.height)},h.draw=()=>{y.update(c,16.666),h.translate(-h.width/2,-h.height/2),E.clear(),E.background(0,0,0,0),E.fill("pink"),E.noStroke(),E.push(),E.translate(-n,0);for(let M of m)E.ellipse(M.position.x,M.position.y,M.circleRadius*2);E.pop(),h.background(255),h.translate(n,0),h.image(v,0,0),b.copy(w,0,0,v.width,v.height,0,0,b.width,b.height),b.mask(E),b.blend(E,0,0,v.width,v.height,0,0,b.width,b.height,h.DIFFERENCE),h.image(b,0,0)},t=()=>{const M=3*window.innerWidth,N=window.innerHeight;h.resizeCanvas(M,N),v.resizeCanvas(M,N),w.resizeCanvas(M,N),L(),E.resizeCanvas(M,N),b=h.createImage(h.width,h.height),n=S.current.getBoundingClientRect().x,f.setPosition(u[0],{x:M,y:-200/2}),f.setPosition(u[1],{x:M,y:N+r/2}),f.setPosition(u[2],{x:n-r/2,y:N/2}),f.setPosition(u[3],{x:M*2,y:N/2})};const L=()=>{T(v,"Ruiyang",v.height/2),T(w,"Wang",w.height/2)},R=()=>{u[2]&&(n=S.current.getBoundingClientRect().x,f.setPosition(u[2],{x:n-r/2,y:window.innerHeight/2}))};_=new ResizeObserver(M=>{for(let N of M)N.target===S.current&&R()})};return x.current=new E2(d,S.current),window.addEventListener("resize",t),_.observe(S.current),()=>{x.current&&(x.current.remove(),x.current=null),window.removeEventListener("resize",t),_.disconnect()}},[]),Tt.jsx("div",{className:"canvas-box",ref:S,children:Tt.jsx("canvas",{className:"background-canvas",ref:A})})},O2=()=>Tt.jsx("div",{className:"page-right",children:Tt.jsx(P2,{})});function A2(){return Tt.jsxs("div",{className:"landing-page",children:[Tt.jsx(D0,{children:Tt.jsx(S2,{})}),Tt.jsx(O2,{})]})}yv.createRoot(document.getElementById("root")).render(Tt.jsx(Ie.StrictMode,{children:Tt.jsx(A2,{})}));
